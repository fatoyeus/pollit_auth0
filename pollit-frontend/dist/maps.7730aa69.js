!function(){function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}var n=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire40d9;n.register("h0G8M",(function(t,o){var r;e(t.exports,"default",(function(){return r}),(function(e){return r=e}));var i=n("iQtbn");r=void 0;var a=i(n("1g34b"));a.default,r={name:"maps",type:"package",requiresFusionCharts:!0,extension:function(e){return e.addDep(a.default)}}})),n.register("1g34b",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("ix9Ix")),c=l(n("9WPPU")),d=n("1vwRT"),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(o,i,a):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(n("v3Meb")),g=l(n("9xI4m")),h=n("ibENm"),p=n("fEyGJ"),f=l(n("8XHVW")),m=l(n("dalhX")),b=l(n("3MtFz")),v=l(n("e42zm"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var k=(0,p.extend2)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},u),C="0,100",x={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},w={getMapName:function(){return this.jsVars.instanceAPI.getName().toLowerCase()},getEntityList:function(){var e,t,n,o,r,i=this.jsVars.instanceAPI.getDatasets()||[],a=i.length,l=[];for(e=0;e<a;e++)if("entities"===(n=i[e]||[]).getName()){t=n;break}for(e in a=(o=t.components.data).length,o)o.hasOwnProperty(e)&&(r=(o[e]||{}).config||{},l.push({id:r.id,originalId:r.originalId||r.id,label:r.label,shortlabel:r.shortLabel,value:r.value,formattedValue:r.formattedValue,toolText:r.toolText}));return l},getMapAttribute:function(){var e=this;return(0,h.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),e.getChartAttribute.apply(e,arguments)},exportMap:function(){var e=this;return(0,h.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){var t,n,o,r=this.jsVars.instanceAPI.getDatasets()||[],i=r.length;for(t=0;t<i;t++)if("markers"===(n=r[t]||[]).getName()){o=n;break}o&&!o.addMarkerItem(e)&&(0,h.raiseWarning)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){var n,o,r,i,a=this.jsVars.instanceAPI.getDatasets()||[],l=a.length;for(o=0;o<l;o++)if("markers"===(r=a[o]||[]).getName()){i=r;break}i&&e&&(n=(e+S).toLowerCase(),i.updateMarkerItem(n,t))},removeMarker:function(e){var t,n,o,r,i=this.jsVars.instanceAPI.getDatasets()||[],a=i.length;for(n=0;n<a;n++)if("markers"===(o=i[n]||[]).getName()){r=o;break}e&&(t=(e+S).toLowerCase(),r._removeMarkerItem(t))}},S="",L="bottom",F=window.Math,T=F.min,E=F.max,N=function(e){function t(t,n){var o,r;for(r in(o=e.call(this)||this).subpalette=p.BLANKSTRING,o.key=p.BLANKSTRING,o.index=n,t)o.subpalette=k[t[r]],o[r]=o.subpalette instanceof Array?o.subpalette[n]:o.subpalette,o.key=r;return o}return(0,s.default)(t,e),t}(d.ComponentInterface),A=function(e){function t(){var t;return(t=e.call(this)||this).friendlyName="Map",t.revision=1,t.hasCanvas=!0,t.standaloneInit=!1,t.defaultDatasetType="maps",t.defaultSeriesType="geo",t.fireGroupEvent=!0,t.legendposition="right",t.hasGradientLegend=!0,t.isMap=!0,t.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[C,C,C,C,C],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},t.colorPaletteMap=x,t.eiMethods=w,t.registerFactory("legend",v.default,["canvas"]),t.registerFactory("axis",p.stubFN,["canvas"]),t.registerFactory("colormanager-decider",b.default,["legend"]),t.registerFactory("dataset",f.default,["colormanager-decider"]),t.registerFactory("canvas",m.default),t}(0,s.default)(t,e);var n=t.prototype;return n._checkInvalidSpecificData=function(){return this.config.invalid=!1,!1},n.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this);var t=this.config;!t.baseWidth&&(t.baseWidth=400),!t.baseHeight&&(t.baseHeight=300),!t.baseScaleFactor&&(t.baseScaleFactor=1)},t.getName=function(){return"maps"},t.getType=function(){return"chartAPI"},n.getName=function(){return this.config.name||"GEO"},n.getType=function(){return"chartAPI"},n.configureAttributes=function(t){var n,o=this,r=o.getChildren("colorPalette")&&o.getChildren("colorPalette")[0];n=t.chart=t.chart||t.graph||t.map||{},o.jsonData=t,r||(r=new N(this.colorPaletteMap,(n.palette>0&&n.palette<6?n.palette:(0,p.pluckNumber)(o.paletteIndex,1))-1),o.attachChild(r,"colorPalette")),o.config.skipCanvasDrawing=!0,e.prototype.configureAttributes.call(this,t),o._parseBackgroundCosmetics()},n.parseChartAttr=function(t){var n,o,r,i,a,l=this,s=l.jsonData,c=s.chart||s.map,d=s.markers,u=new N(this.colorPaletteMap,(c.palette>0&&c.palette<6?c.palette:(0,p.pluckNumber)(l.paletteIndex,1))-1),g=(0,p.pluck)(c.entitybordercolor,c.bordercolor,u.plotbordercolor),h=(0,p.pluck)(c.entityfillcolor,c.fillcolor,u.plotfillcolor),f=(0,p.pluck)(c.entityfillalpha,c.fillalpha,u.plotfillalpha),m=(0,p.pluck)(c.entityfillratio,c.fillratio,u.plotfillratio),b=(0,p.pluck)(c.entityfillangle,c.fillangle,u.plotfillangle),v=(0,p.pluck)(c.nullentityfillcolor,c.nullentitycolor,h),y=(0,p.pluckNumber)(c.usevaluesformarkers,s.markers&&s.markers.items&&s.markers.items.length,!(s.markers&&s.markers.application&&s.markers.application.length&&s.markers.definition&&s.markers.definition.length));e.prototype.parseChartAttr.call(this,t),(n=l.config).origMarginTop=(0,p.pluckNumber)(c.charttopmargin,c.maptopmargin,11),n.origMarginLeft=(0,p.pluckNumber)(c.chartleftmargin,c.mapleftmargin,11),n.origMarginBottom=(0,p.pluckNumber)(c.chartbottommargin,c.mapbottommargin,11),n.origMarginRight=(0,p.pluckNumber)(c.chartrightmargin,c.maprightmargin,11),n.labelsOnTop=(0,p.pluckNumber)(c.entitylabelsontop,1),o=(a=n.style).inCancolor,r=a.inCanfontFamily,i=a.inCanfontSize,n.entityOpts={baseScaleFactor:n.baseScaleFactor,dataLabels:{style:{fontFamily:r,fontSize:i,lineHeight:a.inCanLineHeight,color:(0,p.pluck)(c.entitylabelcolor,a.inCancolor),bgColor:(0,p.pluck)(c.entitylabelbgcolor)||S,borderColor:(0,p.pluck)(c.entitylabelbordercolor)||S}},fillColor:h,fillAlpha:f,fillRatio:m,fillAngle:b,borderColor:g,borderAlpha:(0,p.pluck)(c.entityborderalpha,c.borderalpha,l.borderAlpha,"100"),borderThickness:(0,p.pluckNumber)(c.showentityborder,c.showborder,1)?(0,p.pluckNumber)(c.entityborderthickness,c.borderthickness,1):0,scaleBorder:(0,p.pluckNumber)(c.scaleentityborder,c.scaleborder,0),hoverFillColor:(0,p.pluck)(c.entityfillhovercolor,c.hoverfillcolor,c.hovercolor,u.plothoverfillcolor),hoverFillAlpha:(0,p.pluck)(c.entityfillhoveralpha,c.hoverfillalpha,c.hoveralpha,u.plothoverfillalpha),hoverFillRatio:(0,p.pluck)(c.entityfillhoverratio,c.hoverfillratio,c.hoverratio,u.plothoverfillratio),hoverFillAngle:(0,p.pluck)(c.entityfillhoverangle,c.hoverfillangle,c.hoverangle,u.plothoverfillangle),hoverBorderThickness:(0,p.pluck)(c.entityborderhoverthickness,c.hoverborderthickness),hoverBorderColor:(0,p.pluck)(c.entityborderhovercolor,g,u.plotbordercolor),hoverBorderAlpha:(0,p.pluck)(c.entityborderhoveralpha,u.plotborderalpha),nullEntityColor:v,nullEntityAlpha:(0,p.pluck)(c.nullentityfillalpha,c.nullentityalpha,f),nullEntityRatio:(0,p.pluck)(c.nullentityfillratio,c.nullentityratio,m),nullEntityAngle:(0,p.pluck)(c.nullentityfillangle,c.nullentityangle,b),connectorColor:(0,p.pluck)(c.labelconnectorcolor,c.connectorcolor,o),connectorAlpha:(0,p.pluck)(c.labelconnectoralpha,c.connectoralpha,"100"),connectorThickness:(0,p.pluckNumber)(c.labelconnectorthickness,c.borderthickness,1),showHoverEffect:(0,p.pluckNumber)(c.showentityhovereffect,c.usehovercolor,c.showhovereffect,1),hoverOnNull:(0,p.pluckNumber)(c.hoveronnull,c.entityhoveronnull,1),labelPadding:(0,p.pluckNumber)(c.labelpadding,5),showLabels:(0,p.pluckNumber)(c.showlabels,1),labelsOnTop:(0,p.pluckNumber)(c.entitylabelsontop,1),includeNameInLabels:(0,p.pluckNumber)(c.includenameinlabels,1),includeValueInLabels:(0,p.pluckNumber)(c.includevalueinlabels,0),useSNameInTooltip:(0,p.pluckNumber)(c.usesnameintooltip,0),useShortName:(0,p.pluckNumber)(c.usesnameinlabels,1),labelSepChar:(0,p.pluck)(c.labelsepchar,", "),showTooltip:(0,p.pluckNumber)(c.showentitytooltip,c.showtooltip,1),tooltipSepChar:(0,p.pluck)(c.tooltipsepchar,", "),tooltext:c.entitytooltext,hideNullEntities:(0,p.pluckNumber)(c.hidenullentities,0),showHiddenEntityBorder:(0,p.pluckNumber)(c.showhiddenentityborder,1),showNullEntityBorder:(0,p.pluckNumber)(c.shownullentityborder,1),hiddenEntityColor:(0,p.pluck)(c.hiddenentitycolor,c.hiddenentityfillcolor,c.hiddenentityalpha||c.hiddenentityfillalpha?v:"ffffff"),hiddenEntityAlpha:(0,p.pluck)(c.hiddenentityalpha,c.hiddenentityfillalpha,.001),shadow:(0,p.pluckNumber)(c.showshadow,l.defaultPlotShadow,u.shadow)},n.markerOpts={dataLabels:{style:{fontFamily:(0,p.pluck)(c.markerfont,r),fontSize:(0,p.pluckNumber)(c.markerfontsize,parseInt(i,10)),fontColor:(0,p.pluck)(c.markerlabelcolor,c.markerfontcolor,o),labelBgColor:(0,p.pluck)(c.markerlabelbgcolor)||S,labelBorderColor:(0,p.pluck)(c.markerlabelbordercolor)||S}},showTooltip:(0,p.pluckNumber)(c.showmarkertooltip,c.showtooltip,1),showLabels:(0,p.pluckNumber)(c.showmarkerlabels,c.showlabels,1),showHoverEffect:(0,p.pluckNumber)(c.showmarkerhovereffect,1),labelPadding:(0,p.pluck)(c.markerlabelpadding,"5"),labelWrapWidth:(0,p.pluckNumber)(c.markerlabelwrapwidth,0),labelWrapHeight:(0,p.pluckNumber)(c.markerlabelwrapheight,0),fillColor:(0,p.pluck)(c.markerfillcolor,c.markerbgcolor,u.markerfillcolor),fillAlpha:(0,p.pluck)(c.markerfillalpha,u.markerfillalpha),fillAngle:(0,p.pluck)(c.markerfillangle,u.markerfillangle),fillRatio:(0,p.pluck)(c.markerfillratio,u.markerfillratio),fillPattern:(0,p.pluck)(c.markerfillpattern,u.markerbgpattern),hoverFillColor:c.markerfillhovercolor,hoverFillAlpha:c.markerfillhoveralpha,hoverFillRatio:c.markerfillhoverratio,hoverFillAngle:c.markerfillhoverangle,borderThickness:(0,p.pluck)(c.markerborderthickness,1),borderColor:(0,p.pluck)(c.markerbordercolor,u.markerbordercolor),borderAlpha:(0,p.pluckNumber)(c.markerborderalpha,u.markerborderalpha),hoverBorderThickness:c.markerborderhoverthickness,hoverBorderColor:c.markerborderhovercolor,hoverBorderAlpha:c.markerborderhoveralpha,radius:(0,p.pluckNumber)(c.markerradius&&(0,p.trimString)(c.markerradius),7),shapeId:(0,p.pluck)(c.defaultmarkershape,"circle"),labelSepChar:(0,p.pluck)(c.labelsepchar,", "),tooltipSepChar:(0,p.pluck)(c.tooltipsepchar,", "),autoScale:(0,p.pluckNumber)(c.autoscalemarkers,0),tooltext:(0,p.pluck)(d&&d.tooltext,c.markertooltext),dataEnabled:y,valueToRadius:(0,p.pluckNumber)(c.markerradiusfromvalue,1),valueMarkerAlpha:(0,p.pluck)(c.valuemarkeralpha,"75"),hideNull:(0,p.pluckNumber)(c.hidenullmarkers,0),nullRadius:(0,p.pluckNumber)(c.nullmarkerradius,c.markerradius,7),adjustViewPort:(0,p.pluckNumber)(c.adjustviewportformarkers,0),startAngle:(0,p.pluckNumber)(c.markerstartangle,90),maxRadius:(0,p.pluckNumber)(c.maxmarkerradius,0),minRadius:(0,p.pluckNumber)(c.minmarkerradius,0),applyAll:(0,p.pluckNumber)(c.applyallmarkers,0),shadow:(0,p.pluckNumber)(c.showmarkershadow,c.showshadow,0)},n.connectorOpts={showHoverEffect:(0,p.pluckNumber)(c.showconnectorhovereffect,1),thickness:(0,p.pluckNumber)(c.connectorthickness,c.markerconnthickness,"2"),color:(0,p.pluck)(c.connectorcolor,c.markerconncolor,u.markerbordercolor),alpha:(0,p.pluck)(c.connectoralpha,c.markerconnalpha,"100"),hoverThickness:(0,p.pluckNumber)(c.connectorhoverthickness,c.connectorthickness,c.markerconnthickness,"2"),hoverColor:(0,p.pluck)(c.connectorhovercolor,c.connectorcolor,c.markerconncolor,u.markerbordercolor),hoverAlpha:(0,p.pluck)(c.connectorhoveralpha,c.connectoralpha,c.markerconnalpha,"100"),dashed:(0,p.pluckNumber)(c.connectordashed,c.markerconndashed,0),dashLen:(0,p.pluckNumber)(c.connectordashlen,c.markerconndashlen,3),dashGap:(0,p.pluckNumber)(c.connectordashgap,c.markerconndashgap,2),font:(0,p.pluck)(c.connectorfont,c.markerconnfont,r),fontColor:(0,p.pluck)(c.connectorlabelcolor,c.connectorfontcolor,c.markerconnfontcolor,o),fontSize:(0,p.pluckNumber)(c.connectorfontsize,c.markerconnfontsize,parseInt(i,10)),showLabels:(0,p.pluckNumber)(c.showconnectorlabels,c.showmarkerlabels,c.showlabels,1),labelBgColor:(0,p.pluck)(c.connectorlabelbgcolor,c.markerconnlabelbgcolor,u.plotfillcolor),labelBorderColor:(0,p.pluck)(c.connectorlabelbordercolor,c.markerconnlabelbordercolor,u.markerbordercolor),shadow:(0,p.pluckNumber)(c.showconnectorshadow,c.showmarkershadow,c.showshadow,0),showTooltip:(0,p.pluckNumber)(c.showconnectortooltip,c.showmarkertooltip,c.showtooltip,1),tooltext:(0,p.pluck)(d&&d.connectortooltext,c.connectortooltext),hideOpen:(0,p.pluckNumber)(c.hideopenconnectors,1)},n.adjustViewPortForMarkers=(0,p.pluckNumber)(c.adjustviewportformarkers,y)},n._attachMouseEvents=function(){var e=this,n=e.getFromEnv("eventListeners"),o=e.getFromEnv("chart-container");n.push(g.default.listen(o,p.hasTouch?"touchstart":"click",t.searchMouseMove,e)),n.push(g.default.listen(window.document,p.hasTouch?"touchstart":"mousemove",t.searchMouseMove,e))},n._dispose=function(){var n=this.getFromEnv("chart-container");p.hasTouch&&(g.default.unlisten(n,"touchstart",t.searchMouseMove),g.default.unlisten(window.document,"touchstart",t.searchMouseMove)),g.default.unlisten(n,"click",t.searchMouseMove),g.default.unlisten(window.document,"mousemove",t.searchMouseMove),e.prototype._dispose.call(this)},t.searchMouseMove=function(e){var t,n=e.data,o=n.config,r=n.getDatasets()[1],i=r&&r.getFromEnv("toolTipController"),a=r&&r.config.currentToolTip,l=n.config.lastHoveredPoint,s={};n.getFromEnv("chart-container")&&n.config.lastInteractionEvent!==e.originalEvent&&(n.config.lastInteractionEvent=e.originalEvent,(t=function(e,t){var n=(0,p.getMouseCoordinate)(t.getFromEnv("chart-container"),e,t),o=n.chartX,r=n.chartY,i=t.config,a=i.canvasLeft,l=i.canvasTop,s=i.canvasLeft+i.canvasWidth,c=i.canvasHeight+i.canvasTop;return n.insideCanvas=!1,n.originalEvent=e,o>a&&o<s&&r>l&&r<c&&(n.insideCanvas=!0),n}(e,n))&&t.insideCanvas?(o.lastMouseEvent=e,s={x:t.chartX,y:t.chartY},n._searchNearestNeighbour(s,e)):(l&&r&&r.hoverOutFn(l.element),n.config.lastHoveredPoint=null,i&&i.hide(a)))},n._searchNearestNeighbour=function(e,t){var n,o=this.getDatasets()[1];if(o){if(!o.components.kDTree)return;(n=o.getElement(e))?o.highlightPoint(n,t):o.highlightPoint(!1,t)}},n._createLayers=function(){e.prototype._createLayers.call(this),this._attachMouseEvents()},n._parseBackgroundCosmetics=function(){var e,t=this,n=t.getChildren("background")[0].config,o=t.getChildren("colorPalette")[0],r=t.getFromEnv("chart-attrib");e=n.showBorder=(0,p.pluckNumber)(r.showcanvasborder,1),n.borderWidth=e?(0,p.pluckNumber)(r.canvasborderthickness,1):0,n.borderRadius=n.borderRadius=(0,p.pluckNumber)(r.canvasborderradius,0),n.borderDashStyle=n.borderDashStyle=(0,p.pluckNumber)(r.borderdashed,0)?(0,p.getDashStyle)((0,p.pluckNumber)(r.borderdashlen,4),(0,p.pluckNumber)(r.borderdashgap,2)):"none",n.borderAlpha=(0,p.pluck)(r.canvasborderalpha,o.borderAlpha),n.borderColor=n.borderColor=(0,p.convertColor)((0,p.pluck)(r.canvasbordercolor,o&&o.borderColor),n.borderAlpha)},n._getBackgroundCosmetics=function(){var e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,n=e.getChildren("colorPalette")[0];return{FCcolor:{color:(0,p.pluck)(t.bgcolor,t.canvasbgcolor,n.bgcolor),alpha:(0,p.pluck)(t.bgalpha,t.canvasbgalpha,n.bgalpha),angle:(0,p.pluck)(t.bgangle,t.canvasbgangle,n.bgangle),ratio:(0,p.pluck)(t.bgratio,t.canvasbgratio,n.bgratio)}}},n._parseCanvasCosmetics=function(){e.prototype._parseCanvasCosmetics.call(this);var t=this,n=t.config,o=t.getFromEnv("chart-attrib")||t.jsonData.map,r=t.getChildren("canvas")[0].config;n.origMarginTop=(0,p.pluckNumber)(o.maptopmargin,11),n.origMarginLeft=(0,p.pluckNumber)(o.mapleftmargin,11),n.origMarginBottom=(0,p.pluckNumber)(o.mapbottommargin,11),n.origMarginRight=(0,p.pluckNumber)(o.maprightmargin,11),n.origCanvasLeftMargin=(0,p.pluckNumber)(o.canvasleftmargin,0),n.origCanvasRightMargin=(0,p.pluckNumber)(o.canvasrightmargin,0),n.origCanvasTopMargin=(0,p.pluckNumber)(o.canvastopmargin,0),n.origCanvasBottomMargin=(0,p.pluckNumber)(o.canvasbottommargin,0),r.canvasBorderRadius=(0,p.pluckNumber)(o.canvasborderradius,0),r.origCanvasTopPad=(0,p.pluckNumber)(o.canvastoppadding,0),r.origCanvasBottomPad=(0,p.pluckNumber)(o.canvasbottompadding,0),r.origCanvasLeftPad=(0,p.pluckNumber)(o.canvasleftpadding,0),r.origCanvasRightPad=(0,p.pluckNumber)(o.canvasrightpadding,0)},n.preliminaryScaling=function(){for(var e,t,n,o=this.jsonData,r=o.markers&&o.markers.items||[],i=r&&r.length||0,a=1/0,l=1/0,s=-1/0,c=-1/0;i--;)n=r[i],e=Number(n.x),t=Number(n.y),a=T(a,e),l=T(l,t),s=E(s,e),c=E(c,t);return{x:a,y:l,x1:s,y1:c}},n.getScalingParameters=function(e,t,n,o){var r,i,a=e/t,l=n/(e*this.config.baseScaleFactor),s=o/(t*this.config.baseScaleFactor),c=0,d=0;return l>s?(c+=(n-o*a)/2,i=200/(t*(r=s))):(d+=(o-n/a)/2,i=200/(e*(r=l))),{scaleFactor:r,strokeWidth:i,translateX:c,translateY:d}},n.calculateMarkerBounds=function(e,t,n){var o,r,i,a,l,s,c,d,u,g,h,p,f=this,m=f.config,b=m.markerOpts,v=f.getDatasets(),y=f.getDataLimits(),k=y.dataMin,C=y.dataMax,x=b.hideNull,w=b.nullRadius,S=b.valueToRadius,L=1/0,F=1/0,N=-1/0,A=-1/0;for(s=0,d=v.length;s<d;s++)"markers"===(c=v[s]).getName()&&(o=c);if(o)for(s in o.calculateMarkerRadiusLimits(),i=(r=o.config||{}).minRadius,a=r.maxRadius,l=o.components&&o.components.markerObjs||{})p=(m=l[s].config).definition||{},null!==m.cleanValue?(S&&undefined===p.radius&&(m.radius=i+(a-i)*(m.cleanValue-k)/(C-k)),h=Number(m.radius),u=(Number(p.x)+t)*e,g=(Number(p.y)+n)*e,L=T(L,u-h),F=T(F,g-h),N=E(N,u+h),A=E(A,g+h)):x?m.__hideMarker=!0:null===m.radius&&(m.radius=w);return{x:L,y:F,x1:N,y1:A}},n._spaceManager=function(){var e,t,n,o,r,i,a,l,s,c,d=this,u=d.config,g=d.getChildren("legend")&&d.getChildren("legend")[0],h=d.getChildren("gLegend")&&d.getChildren("gLegend")[0],f=g&&g.config.legendPos?g.config.legendPos.split("-"):h&&h.conf.legendPosition?h.conf.legendPosition.split("-"):[],m=d.getFromEnv("chart-attrib"),b=u.showBorder,v=u.origMarginLeft,y=u.origMarginTop,k=d.config.baseWidth,C=d.config.baseHeight,x={},w=0,S=0,F=u.markerOpts,T=u.borderWidth=b?(0,p.pluckNumber)(m.borderthickness,1):0;d._allocateSpace({top:T,bottom:T,left:T,right:T}),d._allocateSpace(d._manageActionBarSpace&&d._manageActionBarSpace(.225*u.availableHeight)||{}),s="right"===f[0]||"left"===f[0]?.3*u.canvasWidth:.3*u.canvasHeight,t=f[0]===p.POSITION_TOP||f[0]===L?u.canvasHeight:u.canvasWidth,u.showLegend&&d._manageLegendSpace(s),e=f[0]===L||f[0]===p.POSITION_TOP?.225*u.canvasHeight:.225*u.canvasWidth,"top"===f[0]&&(y+=t-u.canvasHeight),c=d._manageChartMenuBar(e),"left"===f[0]&&(v+=t-u.canvasWidth),o=u.canvasWidth,r=u.canvasHeight,F.dataEnabled?(u.adjustViewPortForMarkers?((x=d.preliminaryScaling()).x1>k&&(k=x.x1),x.x<0&&(k+=-x.x,w=-x.x),x.y1>C&&(C=x.y1),x.y<0&&(C+=-x.y,S=-x.y),n=d.getScalingParameters(k,C,o,r),a=r,l=o,(x=d.calculateMarkerBounds(n.scaleFactor*d.config.baseScaleFactor,w,S)).x<0&&(v+=-x.x,o+=x.x),x.y<0&&(y+=-x.y,r+=x.y),x.x1>l&&(o-=x.x1-l),x.y1>a&&(r-=x.y1-a)):(n=d.getScalingParameters(k,C,o,r),d.calculateMarkerBounds(n.scaleFactor*d.config.baseScaleFactor,w,S)),v+=w*(n=d.getScalingParameters(k,C,o,r)).scaleFactor*d.config.baseScaleFactor,y+=S*n.scaleFactor*d.config.baseScaleFactor):n=d.getScalingParameters(k,C,o,r),d.config.scalingParams=n,i=n.scaleFactor,n.translateX=n.translateX+v,n.translateY=n.translateY+y+c.top||0,n.sFactor=i*d.config.baseScaleFactor*100/100,n.transformStr=["t",n.translateX,",",n.translateY,"s",i,",",i,",0,0"].join(""),d.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:n.translateX?n.translateX:0,grpyshift:n.translateY?n.translateY:0,xscale:100*(i?i*d.config.baseScaleFactor:1),yscale:100*(i?i*d.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}}},n.getDataLimits=function(){var e,t,n=this.getDatasets(),o=n.length,r=1/0,i=-1/0;for(t=0;t<o;t++)e=n[t].getDataLimits(),r=T(r,e.min),i=E(i,e.max);return{dataMin:r,dataMax:i}},n.getEntityPaths=function(e){var t,n={},o=this.config.entities;if(e){for(t in o)n[t]=o[t];return n}return o},n.checkComplete=function(){var e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))},t}(c.default);a=A})),n.register("9WPPU",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("ix9Ix")),c=l(n("hkzBC")),d=n("1fIzH"),u=l(n("94WQc")),g=l(n("gC3LA")),h=function(e){function t(){var t;return(t=e.call(this)||this).registerFactory("dataset",u.default,["vCanvas"]),t.registerFactory("legend",g.default),t}(0,s.default)(t,e),t.getName=function(){return"MSCartesian"};var n=t.prototype;return n.getName=function(){return"MSCartesian"},n.getType=function(){return"chartAPI"},n._manageLegendSpace=function(){d._manageLegendSpace.call(this)},n.manageGradientLegendSpace=function(e){return d.manageGradientLegendSpace.call(this,e)},t}(c.default);a=h})),n.register("1fIzH",(function(t,o){var r,i;e(t.exports,"_manageLegendSpace",(function(){return r}),(function(e){return r=e})),e(t.exports,"manageGradientLegendSpace",(function(){return i}),(function(e){return i=e})),r=function(){var e,t,n,o,r=this,i=r.config,l=r.getChildren("legend")&&r.getChildren("legend")[0],s=r.getChildren("gLegend")&&r.getChildren("gLegend")[0],c=r.getFromEnv("dataSource").colorrange,d=i.hasLegend,u={},g=r.hasGradientLegend,h=r.getFromEnv("dataSource").chart,p=(0,a.pluckNumber)(h.mapbycategory,0);g&&c&&(0,a.pluckNumber)(c.gradient)&&!p?(e=s.conf,g=!0,i.gLegendEnabled=!0,t=e.legendPosition?e.legendPosition.split("-"):[],o=t[0]===a.POSITION_RIGHT||t[0]===a.POSITION_LEFT?.4:.5):(e=l&&l.config,g=!1,i.gLegendEnabled=!1,t=e&&e.legendPos?e.legendPos.split("-"):[a.POSITION_BOTTOM],o=t[0]===a.POSITION_RIGHT||t[0]===a.POSITION_LEFT?.8:.4);n=t[0]===a.POSITION_ABSOLUTE?.4*i.availableHeight:t[0]===a.POSITION_RIGHT||t[0]===a.POSITION_LEFT?i.availableWidth*o:i.availableHeight*o;g?u=r.manageGradientLegendSpace(n):!1!==d&&l&&!l.getState("removed")&&(u=l&&l._manageLegendPosition(n));u&&r._allocateSpace(u)},i=function(e){var t,n,o,r=this,i=r.config,l=r.getFromEnv("gLegend"),s=l&&l.conf,c={top:0,bottom:0,left:0,right:0};i.gLegendPadding=(0,a.pluckNumber)(r.getFromEnv("chart-attrib").legendpadding,10),n=Math.min(i.gLegendPadding,.5*e),s&&(t=s.legendPosition?s.legendPosition.split("-"):[],o=l.getLogicalSpace(e),t[0]===a.POSITION_BOTTOM?c.bottom=(o.height||0)+n:t[0]===a.POSITION_TOP?c.top=(o.height||0)+n:t[0]===a.POSITION_LEFT?c.left=(o.width||0)+n:t[0]!==a.POSITION_ABSOLUTE&&(c.right=(o.width||0)+n));return c};var a=n("fEyGJ")})),n.register("94WQc",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e})),i=!0,a=function(e){var t,n,o,r,i=e.getFromEnv("dataSource").dataset,a=e.getChildren().canvas[0],s=t=a.getChildren("vCanvas")[0],c=e.config.defaultDatasetType||"";if(!i)return void e.setChartMessage();(o=e.getDSGroupdef())&&((0,l.componentFactory)(t,o,"datasetGroup_"+c,1,[i]),r=t.getChildren("datasetGroup_"+c));r&&(s=r[0]),n=e.getDSdef(),(0,l.datasetFactory)(s,n,"dataset",i.length,i)};var l=n("fEyGJ")})),n.register("gC3LA",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=function(e){var t;(0,s.componentFactory)(e,c.default,"legend"),(t=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",t),e.config.showLegend||t.remove()};var s=n("fEyGJ"),c=l(n("38kIM"))})),n.register("38kIM",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("c0F5b")),c=l(n("9Lt1F")),d=l(n("ix9Ix")),u=n("fEyGJ"),g=n("1vwRT"),h=l(n("imbCK")),p=n("LZTKL"),f=n("1srzb"),m=l(n("88DP0")),b=n("aqVRP"),v=n("9IHcW");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C,x,w={left:u.POSITION_START,right:u.POSITION_END,center:u.POSITION_MIDDLE},S=Math,L=S.min,F=S.max,T=S.floor,E=S.ceil,N=",",A="px",I=u.preDefStr.NORMAL,_={fontWeight:{1:u.preDefStr.BOLD,0:I},fontStyle:{1:"italic",0:I},textDecoration:{1:"underline",0:u.preDefStr.noneStr}};(0,p.addDep)({name:"legendAnimation",type:"animationRule",extension:m.default});var P=function(e){return Array(e).fill()},O=function(e){function t(){var t;t=e.call(this)||this;var n=(0,c.default)(t);return n._stateCosmetics={},n._legendState=[],n.dragDraw=function(){n.draw()},n.drawScroll=function(){n.createItemGroup(),n.createCaptionGroup()},n.config.handlers=function(e){var t,n;return{dragstart:function(){t=e.config.xL||e.config.xPos,n=e.config.yL||e.config.yPos},dragmove:function(o){var r,i,a=o.originalEvent.data[0],l=o.originalEvent.data[1],s=e.config,c=e.getFromEnv("chartConfig"),d=(s.borderWidth||0)+2;r=L(F(t+a,d),c.width-s.width-d),i=L(F(n+l,d),c.height-s.height-d),s.xPos=s.xL=r,s.yPos=s.yL=i,e.addJob("draw",e.dragDraw,b.priorityList&&b.priorityList.draw)}}}(n),t}(0,d.default)(t,e);var n=t.prototype;return n.createItem=function(e){var t;return t=new h.default,this.attachChild(t,"legendItem"),t.setLinkedItem("owner",e),t.addEventListener("mouseover",(function(){t.setLegendState("hover",!0)})),t.addEventListener("mouseout",(function(){t.removeLegendState("hover")})),t.getId()},n.getItem=function(e){var t=this.getChildren().legendItem;if(e===C)return!1;if(t)for(var n=0;n<t.length;n++)if(t[n].getId()===e)return t[n]},n.getSortedLegendItems=function(){var e,t,n=this.getChildren("legendItem")||[],o=this.config.reverselegend,r={},i=[];for(e=0,t=n.length;e<t;e++)n[e].config.index===C?r[t+e]=n[e]:r[n[e].config.index]=n[e];return Object.keys(r).sort((function(e,t){return o?t-e:e-t})).forEach((function(e){i.push(r[e])})),i},n.disposeItem=function(e){var t=this.getItem(e);t&&t.remove()},n.getName=function(){return"legend"},n.getType=function(){return"legend"},n.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this);var t=this.config;t.enabled=!0,t.symbolWidth=12,t.borderRadius=1,t.lastScrollPos=0,t.oriSymbolPadding=3,t.textPadding=4,t.scrollY=0,t.scrollX=0,t.backgroundColor="#ffffff",t.initialItemX=0,t.title={text:u.BLANKSTRING,x:0,y:0,padding:2},t.scroll={},t.horizontalScroll={},t.itemStyle={}},n.createLegendGroup=function(){var e,t=this,n=t.config,o=t.getFromEnv("chart"),r=o.config,i=t.getFromEnv("animationManager"),a=.5*(n.borderWidth||0)+2,l=t.getContainer("legendGroup");n.xL&&(n.xL=L(F(n.xL,a),r.width-n.width-a)),n.yL&&(n.yL=L(F(n.yL,a),r.height-n.height-a)),e=i.setAnimation({el:l||"group",attr:{name:"legendGroup",transform:["T",n.xL||n.xPos,n.yL||n.yPos]},container:o.getChildContainer("legendGroup"),component:t}),l||t.addContainer("legendGroup",e)},n.drawDualScrollRect=function(){var e=this.getGraphicalElement("dualScrollRect"),t=this.getGraphicalElement("scrollbarContainer"),n=this.getFromEnv("animationManager");this.config.scroll.enabled&&this.config.horizontalScroll.enabled?(e=n.setAnimation({el:e||"rect",attr:{x:this.config.width-12,y:this.config.height-12,height:12,width:12,fill:this.config.legendScrollBgColor,stroke:"none"},component:this,container:t}),e=this.addGraphicalElement("dualScrollRect",e)):e&&e.remove()},n.draw=function(){this.createLegendGroup(),this.drawLegendBox(),this.createItemGroup(),this.createCaptionGroup(),this.drawCaption(),this.createScrollGroup(),this.decideScroll(),this.drawDualScrollRect()},n.decideScroll=function(){var e=this,t=e.config,n=t.scroll.enabled,o=t.horizontalScroll.enabled;n?this.createScrollBar():t.hasScroll&&(e.getChildren("legendScrollBar")[0].remove(),t.hasScroll=!1),o?this.createScrollBar(o):t.hasHorizontalScroll&&(e.getChildren("legendHorizontalScrollBar")[0].remove(),t.hasHorizontalScroll=!1)},n.createCaptionGroup=function(){var e,t=this.getChildContainer("captionGroup"),n=this.getFromEnv("animationManager"),o=this.getContainer("legendGroup"),r=(0,u.pluckNumber)(this.config.padding,4),i=.5*r,a=F(this.config.height-r,0),l=F(this.config.width-r,0),s=N+(this.config.horizontalScroll.enabled?l:this.config.width)+N+(this.config.scroll.enabled?a:this.config.height);this.config.horizontalScroll.enabled?(e=this.addChildContainer("captionGroup",n.setAnimation({el:t&&null!==t[0]?t:"group",attr:{name:"captionGroup",transform:["T",0,this.config.scrollY||0]},container:o,component:this})),this.config.scroll.enabled?e.attr({"clip-rect":"0,"+i+s}):e.attr({"clip-rect":null})):t&&t.remove()},n.createItemGroup=function(){var e,t=this,n=t.getFromEnv("animationManager"),o=t.getContainer("legendGroup"),r=t.getChildContainer("itemGroup"),i=(0,u.pluckNumber)(t.config.padding,4),a=.5*i,l=F(t.config.height-i,0),s=F(t.config.width-i,0),c=N+(t.config.horizontalScroll.enabled?s:t.config.width)+N+(t.config.scroll.enabled?l:t.config.height);return e=n.setAnimation({el:r||"group",attr:{name:"item",transform:["T",t.config.scrollX||0,t.config.scrollY||0]},container:o,component:t}),r||t.addChildContainer("itemGroup",e),t.config.scroll.enabled||t.config.horizontalScroll.enabled?e.attr({"clip-rect":"0,"+a+c}):e.attr({"clip-rect":null}),e},n.createScrollGroup=function(){var e=this,t=e.getFromEnv("animationManager"),n=e.getChildContainer("scrollGroup"),o=e.getContainer("legendGroup");!e.config.scroll.enabled&&!e.config.horizontalScroll.enabled||e.getGraphicalElement("scrollbarContainer")||e.addGraphicalElement("scrollbarContainer",t.setAnimation({el:n||"group",attr:{name:"scrollGroup"},container:o,component:e,label:"scrollbar"}))},n.createScrollBar=function(e){void 0===e&&(e=!1);var t,n,o,r,i,a,l,s,c=this,d=c.config,g=c.getFromEnv("chart-attrib"),h=e?"legendHorizontalScrollBar":"legendScrollBar",p=c.getChildren(h)&&c.getChildren(h)[0],m=d.borderWidth||0,v=.5*m,y=(0,u.pluckNumber)(d.padding,4),k=d.width,C=d.height;t={conf:{isHorizontal:e},handler:{scroll:function(t){function n(e){e.preventDefault()}document.addEventListener("touchmove",n,{passive:!1}),d.lastScrollPos=t,e?d.scrollX=(r-d.totalWidth)*t:d.scrollY=(o-d.totalHeight)*t,c.addJob("scrollDraw",c.drawScroll,b.priorityList&&b.priorityList.draw),x&&clearTimeout(x),x=setTimeout((function(){document.removeEventListener("touchmove",n)}),250)},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},g.legendscrollbgcolor&&(t.conf.color=(0,u.convertColor)(g.legendscrollbgcolor)),p||(p=c.attachChild(new f.ScrollBar,h),e?this.config.hasHorizontalScroll=!0:this.config.hasScroll=!0),p.configure(t.conf),p.attachEventHandlers(t.handler),n=p.config,e?(i=v,a=C-p.getLogicalSpace().height-m+.5*y,s=k-m,this.config.scroll.enabled&&this.config.horizontalScroll.enabled&&(s-=12),s=F(s,0),r=F(k-y,0),n.scrollRatio=(r+y)/d.totalWidth):(o=F(C-y,0),i=k-p.getLogicalSpace().width-m+.5*y,a=v,l=C-m,this.config.scroll.enabled&&this.config.horizontalScroll.enabled&&(l-=12),l=F(l,0),n.scrollRatio=(o+y)/d.totalHeight),n.startPercent=0,n.scrollPosition=d.lastScrollPos,n.parentLayer=c.getChildContainer("scrollGroup"),p.setDimension({x:i,y:a,height:l,width:s})},n.drawCaption=function(){var e,t,n,o,r=this,i=r.getGraphicalElement("caption"),a=r.config.horizontalScroll.enabled?r.getChildContainer("captionGroup"):r.getChildContainer("itemGroup"),l=this.getFromEnv("animationManager"),s=this.config,c=(0,u.pluckNumber)(s.padding,4),d=s.scroll.enabled,g=s.width;if(s.title&&s.title.text!==u.BLANKSTRING&&s.validLegendItem){switch(s.title.align){case u.POSITION_START:n=c;break;case u.POSITION_END:n=g-c-(d?10:0);break;default:n=.5*g}t=s.title.style,e={text:s.title.text,title:s.title.originalText||u.BLANKSTRING,x:n,y:c,fill:s.title.style.color,direction:s.textDirection,"line-height":t.lineHeight,"vertical-align":u.POSITION_TOP,"text-anchor":s.title.align,opacity:1},o={"font-weight":t.fontWeight,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-size":t.fontSize},i&&i.show(),i&&i[0]?l.setAnimation({el:i,attr:e,component:r,container:a,css:o}):(i=l.setAnimation({el:"text",attr:e,component:r,container:a,css:o}),i=this.addGraphicalElement("caption",i)),r.getFromEnv("toolTipController").enableToolTip(i,s.title.originalText)}else i&&l.setAnimation({el:i,component:r,doNotRemove:!0,callback:function(){i.hide()}})},n.drawLegendBox=function(){var e,t=this,n=this.getFromEnv("animationManager"),o=t.config,r=t.getContainer("legendGroup"),i=o.width,a=t.getGraphicalElement("box"),l=o.height,s=o.borderRadius,c=o.backgroundColor,d=o.borderColor,u=o.borderAlpha,g=o.backgroundAlpha,h=o.borderWidth||0;return e=n.setAnimation({el:a||"rect",attr:{x:0,y:0,width:i,height:l,r:s,stroke:d,"stroke-width":h,fill:c||"none","stroke-opacity":u/100,"fill-opacity":g/100,cursor:o.legendAllowDrag?"move":"default"},container:r,component:t,label:"legendGroup"}),a||(t.addGraphicalElement("box",e),e.shadow(o.shadow)),e},n._calculateTopPosition=function(e){var t=this.getFromEnv("chart"),n=t.config,o=e,r=t.getChildren("caption")&&t.getChildren("caption")[0],i=t.getChildren("subCaption")&&t.getChildren("subCaption")[0],a=t.getChildren("chartMenuBar")&&t.getChildren("chartMenuBar")[0],l=n.oriTopSpace;return!n.toolbarY&&a&&a.props&&a.props.height&&(l>a.props.height+a.props.y||(o=a.props.y+a.props.height)),r&&r.config&&r.config.text&&r.config.text!==u.BLANKSTRING&&r.config.height&&1===r.config.isOnTop&&(o=r.config.height+r.config.y+r.config.captionPadding),i&&i.config&&i.config.height&&1===i.config.isOnTop&&(o=i.config.y+i.config.height+(r&&r.config&&r.config.captionPadding||0)),F(o,e)},n.getPosition=function(){var e,t,n,o,r,i,a,l,s,c,d=this.getFromEnv("chart"),g=d.config,h=this.config,p=d.getChildren("canvas"),f=p&&p.length>1?g.height-p[0].config.canvasBottom:g.height-g.canvasBottom,m=g.canvasLeft,b=g.canvasRight,v=g.canvasWidth,y=h.chartMarginLeft||0,k=h.chartMarginRight||0,C=h.chartMarginTop||0,x=h.chartMarginBottom||0,w=g.actionBarHeight||0,S=h.actualCanvasMarginLeft||0,L=g.actualCanvasMarginTop||0,F=g.actualCanvasMarginBottom||0,T=g.actualCanvasMarginRight||0,E=h.alignLegendWithCanvas,N=g.height,A=g.canvasTop,I=h.width||0,_=h.height||0,P=g.borderWidth,O=g.oriCanvasLeft,M=g.oriCanvasRight,R=g.oriTopSpace,B=g.oriBottomSpace,D=0,G=0,z=h.borderWidth||0,V=h.legendPos?h.legendPos.split("-"):[],W=d.getChildren("caption")&&d.getChildren("caption")[0],j=d.getChildren("subCaption")&&d.getChildren("subCaption")[0];return V[0]!==u.POSITION_LEFT&&V[0]!==u.POSITION_RIGHT||(h.align=V[0],h.verticalAlign=u.POSITION_MIDDLE,s=h.layout="vertical"),V[0]===u.POSITION_ABSOLUTE?(e=h.legendXPosition,t=h.legendYPosition,e>(n=g.width-I-P)&&(e=n),t>(o=g.height-_-P)&&(t=o)):s?(V[0]===u.POSITION_LEFT?e=y+S+P:V[0]===u.POSITION_RIGHT&&(e=g.width-k-T-I-P),D=(0,u.pluckNumber)(R,A),G=(0,u.pluckNumber)(B,f),V[1]===u.POSITION_TOP?(t=D+(h.y||0),t=this._calculateTopPosition(t)):V[1]===u.POSITION_BOTTOM?(t=N-G-_+(h.y||0),(c=G-(P+x+w+(W&&0===W.config.isOnTop&&W.config.height?W.config.height+W.config.captionPadding:0)+(j&&0===W.config.isOnTop?j.config.height:0)))<0&&(t+=c)):t=D+.5*(N-G-D-_)+(h.y||0)):(a=g.width-(y+S+(k+T)),l=E?v-I:a-I,r=E?(0,u.pluckNumber)(O,m):y+S,i=E?g.width-(0,u.pluckNumber)(M,b):k+T,e=V[1]===u.POSITION_LEFT?r:V[1]===u.POSITION_RIGHT?g.width-(I+i):r+l/2,V[0]===u.POSITION_TOP?(t=C+L,t=this._calculateTopPosition(t)):t=N-_-F-x-w),(0,u.crispBound)(e,t,I,_,z)},n.setTranslation=function(e,t){var n=this.config;n._translateX=e,n._translateY=t,n.translate="t"+e+","+t},n.allocatePosition=function(){var e,t=this.config;e=t.translate?(0,u.crispBound)(t._translateX,t._translateY,t.width,t.height,t.borderWidth):this.getPosition(),t.xPos=e.x,t.yPos=e.y,t.width=e.width,t.height=e.height},n._manageLegendPosition=function(e){var t,n=this,o=n.config,r=o.legendPos?o.legendPos.split("-"):[],i={left:0,right:0,top:0,bottom:0};return o.padding=4,o.textPadding=4,t=r[0]===u.POSITION_ABSOLUTE?n._placeLegendBlockBottom(e,.6):r[0]===u.POSITION_LEFT||r[0]===u.POSITION_RIGHT?n._placeLegendBlockRight(e):n._placeLegendBlockBottom(e),r[0]===u.POSITION_LEFT?i.left=t&&t.right||0:r[0]===u.POSITION_RIGHT?i.right=t&&t.right||0:r[0]===u.POSITION_TOP?i.top=t&&t.bottom||0:r[0]!==u.POSITION_ABSOLUTE&&(i.bottom=t&&t.bottom||0,i.right=t&&t.right||0),i},n.setDimension=function(e){var t,n,o,r,i,a,l,s,c,d,g,h,p,f,m,b,y,x,w,S,N,I,_,O,M,R,B=this,D=this.config,G=B.getSortedLegendItems(),z=B.getFromEnv("chart-attrib"),V=G.length,W=(0,u.pluckNumber)(z.legendwidth,e.width),j=e.height,H=j,X=0,Y=0,K=0,U=0,J=0,Q=0,q=0,Z=[],$=D.padding,ee=D.textPadding,te=B.getFromEnv("smartLabel"),ne=B.getStateCosmetics("default"),oe=this.computeFontSize(D.legendFontSizeWithUnit),re=parseInt((0,u.setLineHeight)({fontSize:oe+A}),10),ie=parseInt(ne.text["font-size"],10)||10,ae=D.title,le=ae.padding,se=0,ce=D.minimiseWrappingInLegend,de=D.legendPadding,ue=D.legendScale,ge=D.alignLegendWithCanvas,he=D.numColumns,pe=D.numRows,fe=D.oriSymbolPadding,me=Number.MAX_SAFE_INTEGER,be=W,ve=!1,ye=!!pe,ke=0;for(g={width:2*$,height:2*$},B.setStateCosmetics("default",{text:{fill:ne.text.fill,"font-family":ne.text["font-family"],cursor:ne.text.cursor,"font-size":ne.text["font-size"],"line-height":ne.text["line-height"],"vertical-align":u.POSITION_TOP,"text-anchor":u.POSITION_START,direction:ne.text.direction,"font-weight":ne.text["font-weight"]},symbol:{bgColor:ne.symbol.bgColor,cursor:ne.symbol.cursor,borderColor:ne.symbol.borderColor,bgAlpha:ne.symbol.bgAlpha,borderAlpha:ne.symbol.borderAlpha,borderThickness:ne.symbol.borderThickness,startAngle:ne.symbol.startAngle,sides:ne.symbol.sides}}),(d=ie+1)<=0&&(d=1),W=Math.max(W-.5*$,0),fe*=ue,(d=L(d*=ue,W))<=0&&(fe=d=0),D.symbolWidth=d,D.textPadding=4,D.legendHeight=c=d+2*fe,D.rowHeight=a=F(parseInt(ne.text["line-height"],10)||12,c),i=ee+fe+$,te.setStyle((0,u.extend2)({},ne.text)),l=de+D.borderWidth/2+1,l=F(L(l,j-re-8),0),de=.05*a,D.initialItemY=0,D.initialItemX=0,O=c+de+ee+fe+2*$,h=0;h<V;h+=1)n=t=(r=G[h]).config||(r.config={}),(o=t.name=(0,u.parseUnsafeString)(n.label))===u.BLANKSTRING||0===n.enabled||!1===n.enabled||r.getState("removed")?t.enabled=0:(t.enabled=1,K+=1,S=!0,N=te.getOriSize(o),X=F(X,L(N.width,W-O)),Q=F(Q,L(N.height,H)),t._selfTotalWidth=N.width+O,Y+=N.width);if(D.validLegendItem=S,U=Y/K,Y+=O*K,D.x=!ge&&Y>be?0:D.x,S){if(U+=O,X+=O,ae.oriText!==u.BLANKSTRING&&(ve=!0,te.setStyle(ae.style),N=te.getSmartText(ae.oriText,W-2*$),ae.text=N.text,N.tooltext&&(ae.originalText=N.tooltext),se=N.width+2*$,q=N.height+le),f=X,pe?!he&&pe?(ke=1,K<pe&&(pe=K),he=E(K/pe)):E(K/he)<pe&&E(K/pe)<he||K>he*pe?pe=E(K/he):he===E(K/pe)&&(ke=1):Y<=W?f=1===(pe=E(K/(he=he||K)))?Y/K:X:!he&&W>X&&(ce||1.5*U>X)?(K<(he=T(W/X))&&(he=K),f=X):he&&W/he>U?(f=W/he)>X&&(f=X):!he&&W>=2*U?(K<(he=T(W/U))&&(he=K),(f=T(W/he))>X&&(f=X)):he||(he=1,f=W),J=ye?X:f,!ye&&1.5*U<X&&(f=U),pe&&!ce){var Ce,xe,we=J;X>1.5*U&&(we=U),xe=L(K,T(W/we)),Ce=E(K/xe),D.numRows&&Ce!==pe||D.numColumns&&xe!==he||1===pe&&1!==Ce||(J=we,he=xe,pe=Ce)}for(te.setStyle((0,u.extend2)({},ne.text)),h=0;h<V;h++)t=G[h].config,1===pe&&(J=X>2.5*U?U:t._selfTotalWidth),0===(s=Math.ceil(J-O))?(t.name=u.BLANKSTRING,t._totalWidth=d+fe,t._selfTotalWidth=t._totalWidth,t._selfTotalHeight=a):(N=te.getSmartText(t.name,s<t._selfTotalWidth-O?s+ee:C),t.name=N.text,t._textHeight=N.height,N.tooltext&&(t.originalText=N.tooltext),t._selfTotalHeight=N.height+ee>a?ee+N.height:a,t._totalWidth=d+i+N.width,t._selfTotalWidth=O+N.width,t._legendTestY=a>N.height?(a-N.height)/2:0,Q=F(Q,t._textHeight),me=F(1,L(me,t._textHeight)));if(m={style:{display:"grid",justifyItems:"center",alignItems:"start"}},b=[],ve&&b.push({style:{width:se,height:q,gridRowStart:1,gridRowEnd:2,gridColumnStart:1,gridColumnEnd:2}}),b.push({style:{display:"grid",justifyItems:"start",alignItems:"start",width:L(Y,W,J*he),paddingEnd:$,paddingTop:$,gridRowStart:b.length+1,gridRowEnd:b.length+2,gridColumnStart:1,gridColumnEnd:2}}),y=[],ye||1===pe)for(p=0,h=1;p<V;p++)1===(t=(r=G[p]).config).enabled&&(0===ke?(M=E(h/he),R=h%he==0?he:h%he):(M=h%pe==0?pe:h%pe,R=E(h/pe)),y.push({style:{width:1===pe||R===he?t._selfTotalWidth:J,height:t._selfTotalHeight,gridRowStart:M,gridRowEnd:M+1,gridColumnStart:R,gridColumnEnd:R+1}}),h+=1);else{for(pe=0,me=F(me,a),p=0;p<V;p++)1===(t=(r=G[p]).config).enabled&&(pe+=Math.ceil(t._selfTotalHeight/me));0===pe&&(pe=Math.max(1,Math.ceil(K/he))),Z=P(pe).map((function(){return P(he)}));var Se,Le=0,Fe=0;for(p=0,h=1;p<V;p++)if(1===(t=(r=G[p]).config).enabled){for(;Le<pe;){for(;Fe<he;){if(Z[Le][Fe]===C){R=Fe+1,M=Le+1,Se=1===he?1:+(t._selfTotalHeight/me).toFixed(0),Z[Le][Fe]=!0;for(var Te=Le;Te<Le+Se;Te++)Z[Te][Fe]=!0}if(Fe++,Z[Le][Fe-1])break}if(Fe>=he&&(Fe=0,Le++),Se)break}y.push({style:{width:R===he?t._selfTotalWidth:f,height:t._selfTotalHeight,gridRowStart:M,gridRowEnd:M+Se,gridColumnStart:R,gridColumnEnd:R+1}}),h+=1,Se=C}for(h=pe=0;h<Z.length;h++)for(p=0;p<he;p++)if(Z[h][p]){pe++;break}he>1&&(b[b.length-1].style.gridTemplateRows=(me+" ").repeat(pe).slice(0,-1))}for(b[b.length-1].children=y,x=(0,v.computeLayout)(k(k({},m),{},{children:b})),D.itemWidth=J,(s=E(J-O))<0&&(fe=s=ee=0),D.symbolPadding=fe,D.textPadding=ee,D.width=D.totalWidth=Math.floor(F(x.layout.width,x.children[x.children.length-1].layout.width)),te.setStyle((0,u.extend2)({},ne.text)),p=0,h=0;p<V;p++)t=(r=G[p]).config,1===pe&&(s=t._selfTotalWidth)<0&&(fe=s=ee=0),1===t.enabled&&(0===s&&(t.name=u.BLANKSTRING,t._totalWidth=d+fe),t._legendX=x.children[x.children.length-1].children[h].layout.x,t._legendY=x.children[x.children.length-1].children[h].layout.y,t._legendH=x.children[x.children.length-1].children[h].layout.height,h+=1);if(w=pe,g.height+=w*a+q,D.height=D.totalHeight=x.layout.height+2*$,D.rowHeight=a,D.legendNumColumns=he,D.initialItemX=ve&&se>x.children[x.children.length-1].layout.width&&W>D.width?x.children[x.children.length-1].layout.x:0,D.initialItemY=x.children[x.children.length-1].layout.y,D.height-2*fe>j?(D.height=j,(I=D.scroll||(D.scroll={})).enabled=!0,I.flatScrollBars=D.flatScrollBars,I.scrollBar3DLighting=D.scrollBar3DLighting,D.width=D.width+12>W?D.width:D.width+12):D.scroll.enabled=!1,D.width>W&&D.scroll.enabled?(D.width=W,(_=D.horizontalScroll||(D.horizontalScroll={})).enabled=!0,_.flatScrollBars=D.flatScrollBars,_.scrollBar3DLighting=D.scrollBar3DLighting,D.height+12<=j?D.height=D.height+12:(D.height=j,D.totalHeight+=4,(I=D.scroll||(D.scroll={})).enabled=!0,I.flatScrollBars=D.flatScrollBars,I.scrollBar3DLighting=D.scrollBar3DLighting,D.scroll.enabled=!0)):D.horizontalScroll.enabled=!1,D.totalWidth>D.width&&D.totalWidth-D.width<=4){for(p=0,h=0;p<V;p++)1===(t=(r=G[p]).config).enabled&&(x.children[x.children.length-1].children[h].style.gridColumnStart%he!=1&&(t._legendX+=4,1===x.children[x.children.length-1].children[h].style.gridRowStart&&(D.totalWidth+=4)),h+=1);D.totalHeight+=4}l+=D.height,D.isActive=!0,D.enabled=!0}else D.enabled=!1,D.width=0,l=0;return{width:D.width,height:l}},n._placeLegendBlockBottom=function(e,t){void 0===t&&(t=1);var n,o,r,i,a,l=this,s=l.getFromEnv("chart"),c=s.config,d=s.getFromEnv("chartWidth"),g=s.getFromEnv("chartHeight"),h=c.canvasLeft,p=c.width-(c.canvasRight||0),f=s.getFromEnv("smartLabel"),m=l.config,b=m.chartMarginLeft,v=m.chartMarginRight,y=m.chartMarginTop,k=m.alignLegendWithCanvas,C=l.getSortedLegendItems().length,x=m.legendPadding,w=c.canvasMarginRight,S=c.canvasMarginLeft,L=s.getChildren("yAxis"),F=L&&L[0].config.isVertical?L:s.getChildren("xAxis"),T=F&&F[0],E=F&&F[1],N=T&&T.config||{},A=E&&E.config||{},I=N.nameMaxW,_=A.nameMaxW,P=N.name&&N.name.style||{},O=A.name&&A.name.style||{},M=N.axisName||u.BLANKSTRING,R=A.axisName||u.BLANKSTRING,B=c.canvasWidth-c.canvasMarginLeft-c.canvasMarginRight,D=c.width,G=c.height,z=m.legendPos?m.legendPos.split("-"):[];return m.paddingBottom=c.height-c.canvasBottom,f.useEllipsesOnOverflow(c.useEllipsesWhenOverflow),f.setStyle(P),i=f.getOriSize(M),f.setStyle(O),a=f.getOriSize(R),B<x&&(m.padding=x=B=0),(i||a)&&(o=(0,u.pluckNumber)(i.height,0)>(0,u.pluckNumber)(a.height,0)?(r=I)&&i.width:(r=_)&&a.width),B=k?B:d-(o+y>g-e?2*r+v+b+w+S:v+b+S+w),z[0]===u.POSITION_ABSOLUTE&&(B=D,m.legendMaxWidth<D?B=m.legendMaxWidth:B*=t),m.showLegend&&0!==C?(m.x=(h-b-p+v)/2,n=l.setDimension({width:B,height:z[0]===u.POSITION_ABSOLUTE?m.legendMaxHeight<G?m.legendMaxHeight:G:e}).height):(n=0,m.height=0,m.width=0),{bottom:n,right:0}},n._placeLegendBlockRight=function(e){var t,n=this,o=e,r=n.config,i=n.getFromEnv("chart"),a=i.config,l=i.getFromEnv("smartLabel"),s=r.legendPadding,c=n.getStateCosmetics("default"),d=a.canvasHeight,g={},h=n.getSortedLegendItems().length;return o<s&&(r.padding=s=o=0),l.useEllipsesOnOverflow(a.useEllipsesWhenOverflow),l.setStyle((0,u.extend2)({},c.text)),r.numColumns||r.numRows||(r.numColumns=1),r.showLegend&&0!==h?(t=n.setDimension({width:o-s,height:d}).width,g.right=t+s,g.right+10<=o&&(g.right+=10)):(g.right=0,r.height=0,r.width=0),g},n.postSpaceManager=function(){var e=this.config,t=e.legendPos?e.legendPos.split("-"):[],n=this.getFromEnv("chart").config.canvasHeight;t[0]!==u.POSITION_RIGHT&&t[0]!==u.POSITION_LEFT||(e.totalHeight>n?(e.totalHeight<=e.height&&(e.scroll.enabled=!0,e.scroll.flatScrollBars=e.flatScrollBars,e.scroll.scrollBar3DLighting=e.scrollBar3DLighting,e.width+=(e.scroll.scrollBarWidth=10)+(e.scroll.scrollBarPadding=2)),e.height=n):e.scroll.enabled=!1)},n.configureAttributes=function(t){void 0===t&&(t={}),e.prototype.configureAttributes.call(this,t);var n,o,r,i,a,l=this,s=l.config,c=l.getFromEnv("chart"),d=c.config,g=l.getFromEnv("style"),h=c.getFromEnv("chart-attrib"),p=c.config.is3D,f=l.getFromEnv("color-manager"),m=p?u.chartPaletteStr.chart3D:u.chartPaletteStr.chart2D,b=s.interactiveLegend=!1!==c.hasInteractiveLegend&&Boolean((0,u.pluckNumber)(h.interactivelegend,1)),v=(0,u.pluckNumber)(h.useroundedges,0),y=g.outCancolor,k=t.style&&t.style.text,x=(0,u.pluck)(h.legenditemfont,k&&k["font-family"],g.outCanfontFamily),S=(0,u.pluckNumber)(h.legendiconscale,1),L=(0,u.pluckFontSize)(h.legenditemfontsize,k&&k["font-size"],g.fontSize)+A,T=(0,u.pluck)(h.legenditemfontcolor,k&&k.color,y).replace(/^#?([a-f0-9]+)/gi,"#$1"),E=(0,u.getFirstColor)((0,u.pluck)(h.legenditemhoverfontcolor,T));s.isActive=!1,s.chartMarginTop=d.origMarginTop,s.chartMarginRight=d.origMarginRight,s.chartMarginBottom=d.origMarginBottom,s.chartMarginLeft=d.origMarginLeft,s.reverselegend=(0,u.pluckNumber)(h.reverselegend,0),s.showLegend=(0,u.pluckNumber)(h.showlegend,!c.dontShowLegendByDefault,1),s.legendFontSizeWithUnit=(0,u.pluckFontSizeMaintainUnit)(h.legenditemfontsize,g.fontSizeWithUnit||g.fontSize),n=(0,u.setLineHeight)({fontSize:L}),s.legendPos=(0,u.pluck)(h.legendposition,c.legendposition,t.legendPosition,u.POSITION_BOTTOM).toLowerCase(),s.numColumns=(0,u.pluckNumber)(Math.floor(h.legendnumcolumns)),s.numRows=(0,u.pluckNumber)(Math.floor(h.legendnumrows)),s.numColumns<0&&(s.numColumns=C),s.numRows<0&&(s.numRows=C),s.legendXPosition=F((0,u.pluckNumber)(h.legendxposition,c.legendxposition,t.legendXPosition,0),0),s.legendYPosition=F((0,u.pluckNumber)(h.legendyposition,c.legendyposition,t.legendYPosition,0),0),s.legendMaxWidth=(0,u.pluckNumber)(h.legendmaxwidth,c.legendmaxwidth,t.legendMaxWidth),s.legendMaxHeight=(0,u.pluckNumber)(h.legendmaxheight,c.legendmaxheight,t.legendMaxHeight),s.legendMaxWidth<0&&(s.legendMaxWidth=C),s.legendMaxHeight<0&&(s.legendMaxHeight=C),s.xL=s.yL=0,(S<=0||S>5)&&(S=1),s.drawCustomLegendIcon=(0,u.pluckNumber)(h.drawcustomlegendicon,t.drawcustomlegendicon,0),s.legendScale=S,s.legendPadding=(0,u.pluckNumber)(h.legendpadding,7),s.alignLegendWithCanvas=(0,u.pluckNumber)(t.alignlegendwithcanvas,d.alignLegendWithCanvas),s.title.style={fontFamily:(0,u.pluck)(h.legendcaptionfont,x),fontSize:(0,u.pluckFontSize)(h.legendcaptionfontsize,g.fontSize)+A,color:(0,u.pluck)(h.legendcaptionfontcolor,y).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:_.fontWeight[(0,u.pluckNumber)(h.legendcaptionfontbold,1)]||u.BLANKSTRING},a=h.legendcaptionalignment?h.legendcaptionalignment.toLowerCase():w.center,s.title.align=w[a]||w.center,s.title.style["text-anchor"]=s.title.align,s.padding=4,o=(0,u.pluck)(h.legendbordercolor,f.getColor(m.legendBorderColor)),r=s.borderAlpha=(0,u.pluckNumber)(h.legendborderalpha,100),s.borderColor=(0,u.convertColor)(o,r),s.borderWidth=(0,u.pluckNumber)(h.legendborderthickness,t.legendborderthickness,!v||h.legendbordercolor?1:0),s.borderRadius=(0,u.pluckNumber)(v,0),s.backgroundAlpha=i=(0,u.pluckNumber)(h.legendbgalpha,t.legendbgalpha,100),s.backgroundColor=(0,u.convertColor)((0,u.pluck)(h.legendbgcolor,f.getColor(m.legendBgColor)),i),s.symbol3DLighting=Boolean((0,u.pluckNumber)(h.use3dlighting,h.useplotgradientcolor,1)),s.symbol3DLighting=!d.usePattern&&s.symbol3DLighting,s.shadow=Boolean((0,u.pluckNumber)(h.legendshadow,1)),s.shadow&&(s.shadow={enabled:s.shadow,opacity:F(r,i)/100}),s.prevReversed=Boolean((0,u.pluckNumber)(s.reversed,0)),s.reversed=Boolean((0,u.pluckNumber)(h.reverselegend,0)),s.lineWidth=(0,u.pluckNumber)(h.linethickness,2),s.borderRadius=(0,u.pluckNumber)(h.legendborderradius,v?3:0),s.legendAllowDrag=Boolean((0,u.pluckNumber)(h.legendallowdrag,0)),s.title.oriText=(0,u.parseUnsafeString)((0,u.getFirstValue)(h.legendcaption,u.BLANKSTRING)),s.legendScrollBgColor=(0,u.getFirstColor)((0,u.pluck)(h.legendscrollbgcolor,h.scrollcolor,f.getColor("altHGridColor"))),s.legendScrollBarColor=(0,u.pluck)(h.legendscrollbarcolor,o),s.legendScrollBtnColor=(0,u.pluck)(h.legendscrollbtncolor,o),s.minimiseWrappingInLegend=(0,u.pluckNumber)(h.minimisewrappinginlegend,0),s.flatScrollBars=(0,u.pluckNumber)(h.flatscrollbars,0),s.scrollBar3DLighting=(0,u.pluckNumber)(h.scrollbar3dlighting,1),s.orderReversed=!1,l.setStateCosmetics("hidden",{symbol:{fill:(0,u.convertColor)((0,u.pluck)(h.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1")),stroke:(0,u.convertColor)((0,u.pluck)(h.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))},text:{fill:(0,u.convertColor)((0,u.pluck)(h.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))}}),l.setStateCosmetics("default",{text:{fill:(0,u.convertColor)(T),"font-family":x,cursor:b?u.preDefStr.POINTER:"default","font-size":L,"line-height":n,"vertical-align":u.POSITION_TOP,"text-anchor":u.POSITION_START,direction:"rtl"===d.textDirection?"rtl":"initial","font-weight":_.fontWeight[(0,u.pluckNumber)(h.legenditemfontbold,0)]||u.BLANKSTRING},symbol:{bgColor:(0,u.pluck)(h.legendiconbgcolor),cursor:b?u.preDefStr.POINTER:"default",borderColor:(0,u.pluck)(h.legendiconbordercolor),bgAlpha:(0,u.pluckNumber)(h.legendiconbgalpha,h.legendiconalpha,100),borderAlpha:(0,u.pluckNumber)(h.legendiconborderalpha,h.legendiconalpha,100),borderThickness:(0,u.pluckNumber)(h.legendiconborderthickness),startAngle:(0,u.pluckNumber)(h.legendiconstartangle,45),sides:(0,u.pluckNumber)(h.legendiconsides,t.legendiconsides,4)}}),l.setStateCosmetics("hover",(function(e,t){return t.hasState("hidden")||(e.text||(e.text={}),e.text.fill=(0,u.convertColor)(E.replace(/^#?([a-f0-9]+)/gi,"#$1")),e.text.cursor="inherit"),e})),s.legendAllowDrag&&!s._dragEvtListenerBinded?(l.addEventListener("fc-dragstart",s.handlers.dragstart),l.addEventListener("fc-dragmove",s.handlers.dragmove),s._dragEvtListenerBinded=!0):!s.legendAllowDrag&&s._dragEvtListenerBinded&&(l.removeEventListener("fc-dragstart",s.handlers.dragstart),l.removeEventListener("fc-dragmove",s.handlers.dragmove),s._dragEvtListenerBinded=!1)},n.getLegendState=function(){return this._legendState},n.hasState=function(e){var t,n,o=this.getLegendState();for(t=0,n=o.length;t<n;t++)if(o[t]===e)return!0;return!1},n.setLegendState=function(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()},n.removeLegendState=function(e){var t,n,o=1;if(e)for(t=0,n=this._legendState.length;t<n&&o;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),o=0);else this._legendState.length=0;this.asyncDraw()},n.setStateCosmetics=function(e,t){this._stateCosmetics[e]=t},n.removeStateCosmetics=function(e){delete this._stateCosmetics[e]},n.getStateCosmetics=function(e){return this._stateCosmetics[e]},n.hide=function(){var e=this.getFromEnv("chart").getChildContainer("legendGroup");e&&e.hide()},t}(g.ComponentInterface);a=O})),n.register("imbCK",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("c0F5b")),c=l(n("ix9Ix")),d=n("fEyGJ"),u=n("1vwRT"),g=n("LZTKL"),h=l(n("cdTWE"));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=d.preDefStr.POINTER,b="M",v="L",y="Z",k="A",C=function(e,t,n,o,r){var i,a,l,s,c,d,u,g,h,p=[b];switch(r){case"column":case"dragColumn":case"column3D":case"realtimeColumn":case"errorBar2D":a=.5*(i=.25*n),l=.7*o,s=.4*o,p=p.concat([e,t+o,"l",0,-l,i,0,0,l,"z","m",i+a,0,"l",0,-o,i,0,0,o,"z","m",i+a,0,"l",0,-s,i,0,0,s,"z"]);break;case"bar2D":case"bar3D":i=.3*n,a=.6*n,s=(l=o/4)/2,p=p.concat([e,t,v,e+a,t,e+a,t+l,e,t+l,y,b,e,t+l+s,v,e+n,t+l+s,e+n,t+l+s+l,e,t+2*l+s,y,b,e,t+2*(l+s),v,e+i,t+2*(l+s),e+i,t+o,e,t+o,y]);break;case"area":case"area3d":case"areaspline":case"dragArea":case"realTimeArea":case"splinearea":i=.3*n,a=.6*n,l=.6*o,s=.2*o,c=.8*o,p=p.concat([e,t+c,v,e,t+l,e+i,t+s,e+a,t+l,e+n,t+s,e+n,t+c,y]);break;case"pie2D":case"pie3d":case"doughnut2D":case"doughnut3D":a=.9*(i=.5*n),1,1,d=e+i+1,g=t+i-1,u=e+i-1,h=t+i+1,p=p.concat([d,g,v,d,g-a+1,k,a-1,a-1,0,0,1,d+a-1,g,y,b,u,h,v,u,h-a,k,a,a,0,1,0,u+a,h,y]);break;case"boxandwhisker2d":default:p=p.concat([e,t,v,e+n,t,e+n,t+o,e,t+o,y]);break;case"radialBar":a=e+n,g=t+(i=.5*n),p=p.concat([e,g,k,i,i,0,0,0,a,g,k,i,i,0,0,0,e,g])}return{path:p}},x=function(e,t){var n=e.config,o=e.getLinkedParent().config,r=.5*o.symbolWidth,i=(o.initialItemX||0)+n._legendX,a=(o.initialItemY||0)+n._legendY,l=i+o.symbolPadding+r,s=a+(n._markerYGutter||0)+o.symbolPadding+r,c=(0,d.mapSymbolName)(n.anchorSide),u=n.symbol=c&&c.split("_")||[],g="spoke"===u[0]?1:0;return("line"===n.type||n.drawLine)&&(r*=.6),{path:(0,d.polyPathToPath)([u[1]||2,l,s,r,n.startAngle,n.spoke||g]),cursor:t.cursor||m,stroke:t.stroke,fill:t.fill,"stroke-width":t["stroke-width"]||.5}};(0,g.addDep)({name:"legendItemAnimation",type:"animationRule",extension:h.default});var w=function(e){function t(){var t;return(t=e.call(this)||this)._stateCosmetics={},t._legendState=[],t}(0,c.default)(t,e);var n=t.prototype;return n.getName=function(){return"legendItem"},n.parseLegendCosmetics=function(){var e,t,n,o=this,r=this.getLinkedParent(),i=r.getLegendState(),a=o.getLegendState(),l=["default"],s={};for(l=l.concat(i,a),n=0;n<l.length;n++)e=r.getStateCosmetics(l[n]),t=o.getStateCosmetics(l[n]),e&&("function"==typeof e?s=e(s,o):(0,d.extend2)(s,e)),t&&("function"==typeof t?s=t(s,o):(0,d.extend2)(s,t));return s},n.getType=function(){return"legendItem"},n.configure=function(e){var t,n,o=this.config;for(t in e)if(e.hasOwnProperty(t))if("object"!=typeof e[t])o[t]=e[t];else{var r=o[t]?o[t]:{};for(n in e[t])r[n]=e[t][n];o[t]=r}},n.itemClickFn=function(){var e=this,t=e.getFromEnv("chart-attrib"),n=(0,d.pluckNumber)(t.interactivelegend,1),o=e.getLinkedItem("owner");n&&o.legendInteractivity(e)},n.dispose=function(){this.removeEventListener("fc-click",this.click),this.removeEventListener("fc-mouseover",this.mouseover),this._dispose()},n.getLegendState=function(){return this._legendState},n.hasState=function(e){var t,n,o=this.getLegendState();for(t=0,n=o.length;t<n;t++)if(o[t]===e)return!0;return!1},n.setLegendState=function(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()},n.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this),this.config.eventArguments={}},n.removeLegendState=function(e){var t,n,o=1;if(e)for(t=0,n=this._legendState.length;t<n&&o;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),o=0);else this._legendState.length=0;this.asyncDraw()},n.removeStateCosmetics=function(e){delete this._stateCosmetics[e]},n.setStateCosmetics=function(e,t){this._stateCosmetics[e]=t},n.getStateCosmetics=function(e){return this._stateCosmetics[e]},n.draw=function(){var e,t,n,o,r,i,a,l,s,c,u,g,h,p,y,k,w,S,L,F,T,E,N,A,I,_,P,O,M,R,B,D,G,z,V,W,j,H,X,Y,K,U=this.getLinkedParent(),J=U.getFromEnv("chart").config,Q=this,q=Q.getFromEnv("animationManager"),Z=Q.config,$=U.config,ee=$.legendHeight,te=$.symbolPadding,ne=$.symbolWidth,oe=$.interactiveLegend,re=$.textPadding||2,ie=2,ae=$.itemHoverStyle,le=U.getChildContainer("itemGroup"),se=$.drawCustomLegendIcon,ce=Q.hasState("hidden"),de={};n=(e=Q.parseLegendCosmetics()).symbol,o=$.initialItemX||0,r=$.initialItemY||0,s=Z.type,T=e.symbol.stroke||"000000",E=e.symbol.fill,t=e.symbol.lineWidth||$.lineWidth,A=Z.anchorSide,I=Z.drawLine,c=o+Z._legendX,u=r+Z._legendY,G=Q.getGraphicalElement("legendItemBackground"),l=Q.getGraphicalElement("legendItemText"),g=Q.getGraphicalElement("legendItemLine"),y=Q.getGraphicalElement("legendItemSymbol"),k=Q.getGraphicalElement("legendItemIcon"),!(oe=(0,d.pluck)(Z.interactiveLegend,oe))&&(e.cursor="default"),z=e.text,Y=c+ee+re-2,K=u+(Z._legendTestY||0),z.text=Z.name,z.x=Y,z.y=K,a=q.setAnimation({el:l||"text",attr:z,component:Q,container:le,label:"icon"}),l||(a=Q.addGraphicalElement("legendItemText",a)),a.data("legendItem",Z),k&&Q.removeGraphicalElement("legendItemIcon"),V=!1,e.symbol.bgAlpha=(0,d.pluckNumber)(e.symbol.bgAlpha,J.legendiconalpha,J.legendiconbgalpha,J.plotfillalpha),e.symbol.bgAlpha=e.symbol.bgAlpha>100||e.symbol.bgAlpha<0?1:e.symbol.bgAlpha,"radialBar"===s&&Z.showIcon?j={src:Z.iconUrl,x:c+te,y:u+(Z._markerYGutter||0)+te,width:ne,height:ne}:se&&!1!==Z.customLegendIcon?(O=!ce&&n.borderColor,M=(0,d.pluck)(n.borderAlpha),_=!ce&&n.bgColor,P=(0,d.pluck)(n.bgAlpha,"100"),R=e.symbol.rawFillColor,E=ce?e.symbol.fill:_||R,E=(0,d.convertColor)(E,P),B=e.symbol.rawStrokeColor,T=ce?e.symbol.stroke:O||B||R,T=(0,d.convertColor)(T,M),w=c+te+(S=.5*ne),i=u+(Z._markerYGutter||0)+te+S,L="spoke"===(F=(0,d.mapSymbolName)(n.sides)&&(0,d.mapSymbolName)(n.sides).split("_")||[])[0]?1:0,W={path:(0,d.polyPathToPath)([F[1]||2,w,i,S,n.startAngle||0,L]),cursor:e.symbol.cursor||m,stroke:T,fill:E,"stroke-width":(0,d.pluckNumber)(n.borderThickness,1)}):"line"===s||I?(A&&(W=x(Q,e.symbol),ie=Z.anchorSide>1&&Z.anchorSide<10?4:7),i=u+(Z._markerYGutter||0)+te+.5*ne,X={path:[b,c+te,i,v,c+te+ne/ie,i,b,c+te+ne-ne/ie,i,v,c+te+ne,i]},V=!0,de={opacity:(0,d.pluckNumber)(e.symbol.bgAlpha,1),"stroke-width":t,stroke:T,cursor:e.cursor||m}):A?W=x(Q,e.symbol):"radialBar"!==s||Z.showIcon?"line"!==s&&(T=Z.symbolStroke||T,W={path:C(c+te,u+(Z._markerYGutter||0)+te,ne,ne,s).path,"stroke-width":.5,stroke:T,fill:E,cursor:e.cursor||m}):(T=Z.symbolStroke||T,W={path:C(c+te,u+(Z._markerYGutter||0)+te,ne,ne,s).path,"stroke-width":.5,stroke:T,fill:E,cursor:e.cursor||m}),X&&V?(Object.assign(X,de),g=q.setAnimation({el:g||"path",attr:X,component:Q,callback:function(){this.show()},container:le}),Q.getGraphicalElement("legendItemLine")||(g=Q.addGraphicalElement("legendItemLine",g))):g&&g.hide(),j?(p=q.setAnimation({el:k||"image",attr:j,component:Q,callback:function(){this.show()},container:le,label:"icon"}),k&&k.node||(p=Q.addGraphicalElement("legendItemIcon",p)),p.data("legendItem",Z)):k&&this.removeGraphicalElement(k),W?(W.opacity=(0,d.pluckNumber)(e.symbol.bgAlpha,1),h=q.setAnimation({el:y||"path",attr:W,component:Q,callback:function(){this.show()},container:le,label:"icon"}),Z.usePattern&&Z.patternAttr&&h.addPattern(f(f({},Z.patternAttr),{},{color:ce?W.stroke:Z.patternAttr.color,x:c,y:u}),Z.usePattern),y&&y.node||(h=Q.addGraphicalElement("legendItemSymbol",h)),h.data("legendItem",Z)):y&&y.hide(),N=e.background&&e.background.legendBackgroundColor?(0,d.convertColor)(e.background.legendBackgroundColor,e.background.alpha):d.TRACKER_FILL,H={x:c,y:u,width:Z._totalWidth,height:Z._legendH,r:0,fill:N,opacity:1,"stroke-width":1,stroke:"none",cursor:e.symbol.cursor||m},D=q.setAnimation({el:G||"rect",attr:H,css:undefined,component:Q,label:"background",container:le}),G||Q.addGraphicalElement("legendItemBackground",D),D.data("legendItem",Q).data("interactive",oe).data("itemHoverStyle",ae).data("itemStyle",e)},t}(u.ComponentInterface);a=w})),n.register("cdTWE",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e})),i=!0,a=void 0;var l=n("fEyGJ");a={"*.legendItem.legendItem":function(){return{"icon.appearing":function(e){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:(0,l.pluckNumber)(e.attr.opacity,1)}}]},"background.appearing":function(e){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:e.attr.opacity}}]},"icon.disappearing":function(){return[{finalAttr:{opacity:0},slot:"initial"}]}}}}})),n.register("88DP0",(function(n,o){var r,i;t(n.exports),e(n.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e})),r=!0,i=void 0;var a=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}],l=[{slot:"plot",startEnd:{start:0,end:.5}}],s=[{slot:"intial"}];i={"*.legend.legend":function(){return{"legendGroup.appearing":a,"legendGroup.updating":l,"legendGroup.disappearing":s,"scrollbar.appearing":a,"scrollbar.updating":l,"scrollbar.disappearing":s}}}})),n.register("9IHcW",(function(t,o){var r;e(t.exports,"computeLayout",(function(){return r}),(function(e){return r=e})),r=void 0;var i=n("dfVwU"),a=n("9VWgM"),l=n("fufIQ"),s=function(){function e(){this.gridLayoutEngine=l.computeGridLayout}return e.prototype.compute=function(e){switch((0,i.getDisplayProperty)(e)){case a.DISPLAY_GRID:case a.DISPLAY_FLEX:}return this.gridLayoutEngine(e)},e}();r=function(e){var t,n=new s,o=(0,i.cloneObject)(e);return o.root=!0,t=n.compute(o),(0,i.attachLayoutInformation)(e,t),e}})),n.register("dfVwU",(function(t,o){var r,i,a,l;e(t.exports,"pluckNumber",(function(){return r}),(function(e){return r=e})),e(t.exports,"getDisplayProperty",(function(){return i}),(function(e){return i=e})),e(t.exports,"attachLayoutInformation",(function(){return a}),(function(e){return a=e})),e(t.exports,"cloneObject",(function(){return l}),(function(e){return l=e})),r=i=a=l=void 0;var s,c=n("9VWgM");r=function(){var e,t,n;for(t=0,n=arguments.length;t<n;t+=1)if(((e=arguments[t])||!1===e||0===e)&&!isNaN(e=Number(e)))return e;return s},a=function e(t,n){var o,r;for(void 0===t&&(t={}),void 0===n&&(n={}),t.layout=n.layout,o=0,r=(t.children||[]).length;o<r;o++)e(t.children[o],n.children[o])},l=function e(t){if(c.ATOMIC_DATA_TYPE.indexOf(typeof t)>-1||null===t)return t;if(Array.isArray(t)){var n,o,r=[];for(n=0,o=t.length;n<o;n++)r.push(e(t[n]));return r}if("object"==typeof t){var i,a={};for(i in t)a[i]=e(t[i]);return a}},i=function(e){return e.style&&e.style.display}})),n.register("9VWgM",(function(t,n){var o,r,i,a,l,s;e(t.exports,"ATOMIC_DATA_TYPE",(function(){return o}),(function(e){return o=e})),e(t.exports,"STRETCH",(function(){return r}),(function(e){return r=e})),e(t.exports,"END",(function(){return i}),(function(e){return i=e})),e(t.exports,"CENTER",(function(){return a}),(function(e){return a=e})),e(t.exports,"DISPLAY_FLEX",(function(){return l}),(function(e){return l=e})),e(t.exports,"DISPLAY_GRID",(function(){return s}),(function(e){return s=e})),o=r=i=a=l=s=void 0;o=["string","number","function","boolean","undefined"],r="stretch",i="end",a="center",l="flex",s="grid"})),n.register("fufIQ",(function(t,o){var r;e(t.exports,"computeGridLayout",(function(){return r}),(function(e){return r=e}));var i=n("iQtbn");r=function(e,t){void 0===t&&(t=1);var n,o,r,i,a=e.style;if(!e||!e.style)return;e.userGivenStyles||(e.style.width=isNaN(e.style.width)?"auto":e.style.width,e.style.height=isNaN(e.style.height)?"auto":e.style.height,a.paddingStart=(0,l.pluckNumber)(a.paddingStart,a.padding,0),a.paddingEnd=(0,l.pluckNumber)(a.paddingEnd,a.padding,0),a.paddingTop=(0,l.pluckNumber)(a.paddingTop,a.padding,0),a.paddingBottom=(0,l.pluckNumber)(a.paddingBottom,a.padding,0),e.userGivenStyles={gridTemplateColumns:e.style.gridTemplateColumns,gridTemplateRows:e.style.gridTemplateRows,width:e.style.width,height:e.style.height});for(e.unResolvedChildren=[],n=0,o=e.children&&e.children.length;n<o;n++)r=e.children[n],(0,l.getDisplayProperty)(r)&&(b(r)?this.compute(r):e.unResolvedChildren.push(r));(i=new x).set("domTree",e).set("parent",this).compute(),t<2&&this.gridLayoutEngine(function(e,t){var n,o,r,i,a,s,c,d,u,g,h=e.style,p=t.getConfig("rowTracks"),f=t.getConfig("colTracks"),m=t.getConfig("mapping"),b=h.gridTemplateRows,v=h.gridTemplateColumns;for(e.style.gridTemplateRows=w(b,p),e.style.gridTemplateColumns=w(v,f),o=0,i=(e.children||[]).length;o<i;o++)if(n=e.children[o],(0,l.getDisplayProperty)(n)){if(n.style.gridTemplateColumns=n.userGivenStyles.gridTemplateColumns,n.style.gridTemplateRows=n.userGivenStyles.gridTemplateRows,isNaN(n.userGivenStyles.width)){for(u=n.style.gridColumnStart,g=n.style.gridColumnEnd,u=m.col.nameToLineMap[u],g=m.col.nameToLineMap[g],r=u,s=0;r<g;r++)s+=f[r].calculatedStyle.baseSize;n.style.width=s}if(isNaN(n.userGivenStyles.height)){for(c=n.style.gridRowStart,d=n.style.gridRowEnd,c=m.row.nameToLineMap[c],d=m.row.nameToLineMap[d],r=c,a=0;r<d;r++)a+=p[r].calculatedStyle.baseSize;n.style.height=a}}return e}(e,i),2);return e};var a=i(n("c0F5b")),l=n("dfVwU"),s=i(n("e0hbu")),c=n("9VWgM"),d=n("fPeDi");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=["auto","none"],p=/minmax/,f=/(?:[^\s[\]()]+|\[[^[\]]*\]|\([^()]*\))+/g,m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=function(e){var t=e.style||{},n=t.gridTemplateColumns,o=t.gridTemplateRows;return!/repeat\(/g.test(n)&&!/repeat\(/g.test(o)},v=function(e){return e.split(/\(|\)/g)[1].split(",").map((function(e){return e&&e.trim()}))},y=function(e,t){var n,o,r=m(t),i="width"===t?"col":"row";return e.map((function(e){return n=e.style["gridTemplate"+m("col"===i?"columns":"rows")],o="grid"===(0,l.getDisplayProperty)(e)&&/repeat\(/g.test(n)?v(n)[1]:e.style["min"+r+"Contribution"]||e.style[t]||"auto",{start:e[i+"Start"],end:e[i+"End"],size:o}}))},k=function(e,t,n){var o,r;for(o=t.x;o<n.x;o++)for(r=t.y;r<n.y;r++)e[o][r]=!0},C=function(e,t){var n=e.gridRowStart,o=e.gridRowEnd,r=e.gridColumnStart,i=e.gridColumnEnd;if(e.gridColumn){var a=e.gridColumn.split("/").map((function(e){return e.trim()}));r=a[0],i=a[1],r=t?t.col.nameToLineMap[r]:1,/span\s+\d+/g.test(i)&&(i=r+ +i.match(/span\s+(\d+)/)[1]),i=t?t.col.nameToLineMap[i]:1}if(e.gridRow){var l=e.gridRow.split("/").map((function(e){return e.trim()}));n=l[0],o=l[1],n=t?t.row.nameToLineMap[n]:1,/span\s\d+/g.test(o)&&(o=n+ +o.match(/span\s(\d+)/)[1]),o=t?t.row.nameToLineMap[o]:1}return{gridRowStart:n,gridRowEnd:o,gridColumnStart:r,gridColumnEnd:i}},x=function(){function e(){this.setup()}var t=e.prototype;return t.setup=function(){return this._tsa=new s.default,this.props={},this._config={mapping:{}},this},t.set=function(e,t){return this.props[e]=t,this},t.getProps=function(e){return this.props[e]},t.getConfig=function(e){return this._config[e]},t.compute=function(e){var t=e||this.props.domTree;this._sanitizeTracks(t)._sanitizeItems(t)._inflateTracks()._assignCoordinatesToCells(t)},t._sanitizeTracks=function(e){void 0===e&&(e={});var t,n=e.style,o=n.gridTemplateRows,r=n.gridTemplateColumns,i=this._config,a=function(e){var t,n=1,o=1;return e.forEach((function(e){t=C(e.style),o=Math.max(isNaN(+t.gridColumnStart)?0:+t.gridColumnStart,o,isNaN(+t.gridColumnEnd-1)?0:+t.gridColumnEnd-1),n=Math.max(isNaN(+t.gridRowStart)?0:+t.gridRowStart,n,isNaN(+t.gridRowEnd-1)?0:+t.gridRowEnd-1)})),{maxRow:n,maxColumn:o}}(e.children),l=a.maxColumn,s=a.maxRow;return this.set("maxTracks",s),t=this._fetchTrackInformation(o),i.mapping.row={nameToLineMap:t.nameToLineMap,lineToNameMap:t.lineToNameMap},i.rowTracks=t.tracks,this.set("maxTracks",l),t=this._fetchTrackInformation(r),i.mapping.col={nameToLineMap:t.nameToLineMap,lineToNameMap:t.lineToNameMap},i.colTracks=t.tracks,this},t._fetchTrackInformation=function(e){void 0===e&&(e="none");var t,n,o,r,i,a,l=e.match(f),s=[{}],c={},d={};for(o=l.filter((function(e){return!e||"string"!=typeof e||!e.length||(n=e.length,"["===e[0]&&"]"===e[n-1])})),r=l.filter((function(e){return!!e&&(n=(e+"").toLowerCase().replace(/px|fr/,""),!(!(h.indexOf(n)>=0||p.test(n))&&isNaN(n)))})).map((function(e){return function(e){if("auto"===(e=e.trim()))return e;if(!isNaN(+e))return+e;if(p.test(e)){var t=e.split(/\(|\)/g)[1].split(",");return[t[0].trim(),t[1].trim()]}return e}(e)})),n=r.length,"none"===e&&(n=this.getProps("maxTracks")),t=0;t<n;t++)i=o[t]&&o[t].replace(/\[|\]/g,"").split(" ").filter((function(e){return e.length})).map((function(e){return e.trim()}))||[t+1+""],a=o[t+1]&&o[t+1].replace(/\[|\]/g,"").split(" ").filter((function(e){return e.length})).map((function(e){return e.trim()}))||[t+2+""],s.push({start:t+1,end:t+2,size:r[t]||"auto"}),d[t+1]=i,d[t+2]=a,i.forEach((function(e){return c[e]=t+1})),a.forEach((function(e){return c[e]=t+2})),c[t+1]=t+1,c[t+2]=t+2;return{tracks:s,nameToLineMap:c,lineToNameMap:d}},t._sanitizeItems=function(e){var t,n,o,r,i,a,l,s=e||this.props.domTree,c=s.children||[],d=this._config.mapping,u=s.style.gridAutoFlow||"row",h=Object.keys(d.row.lineToNameMap).length,p=Object.keys(d.col.lineToNameMap).length,f=[],m=[],b=[[]],v=[];for(i=1;i<=h;i++)b.push([]);for(i=0,l=c.length;i<l;i++)t=C(c[i].style,d),f.push(g(g({},c[i]),{},{rowStart:d.row.nameToLineMap[t.gridRowStart],rowEnd:d.row.nameToLineMap[t.gridRowEnd],colStart:d.col.nameToLineMap[t.gridColumnStart],colEnd:d.col.nameToLineMap[t.gridColumnEnd]})),o=f[i],k(b,{x:o.rowStart,y:o.colStart},{x:o.rowEnd,y:o.colEnd});if((m=f.filter((function(e){return!e.colStart||!e.rowStart})))&&"row"===u){for(i=1;i<h;i++)for(a=1;a<p;a++)b[i][a]||v.push({row:i,col:a});for(;m.length&&v.length;)o=m.shift(),n=v.shift(),o.rowStart=n.row,o.colStart=n.col,o.rowEnd=n.row+1,o.colEnd=n.col+1;if(r=Math.ceil(m.length/p)){for(;r--;)s.style.gridTemplateRows+="auto ",d.row.nameToLineMap[h+1]=h+1,d.row.nameToLineMap[h+2]=h+2,h++,b.push([]);for(s.style.gridTemplateRows=s.style.gridTemplateRows.trim(),v=[],i=1;i<=h;i++)for(a=1;a<=p;a++)b[i][a]||v.push({row:i,col:a});for(;m.length;)o=m.shift(),n=v.shift(),o.rowStart=n.row,o.colStart=n.col,o.rowEnd=n.row+1,o.colEnd=n.col+1}}return this._config.sanitizedItems=f,this},t._inflateTracks=function(){var e,t=this._config,n=t.sanitizedItems,o=t.colTracks,r=t.rowTracks,i=0,a=0,l=this.props.domTree,c=l.style||{},d=c.paddingStart,u=c.paddingEnd,g=c.paddingTop,h=c.paddingBottom,p=c.width,f=c.height,m=new s.default;return isNaN(+p)||(p-=d+u),e=m.clear().set("tracks",o).set("items",y(n,"width")).set("containerSize",p||"auto").resolveTracks(),o.forEach((function(t,n){t.calculatedStyle=e[n],a+=e[n].baseSize||0})),this._solveUnresolvedChildren(),isNaN(+f)||(f-=g+h),e=m.clear().set("tracks",r).set("items",y(n,"height")).set("containerSize",f||"auto").resolveTracks(),r.forEach((function(t,n){t.calculatedStyle=e[n],i+=e[n].baseSize||0})),l.style.minHeightContribution=i,l.style.minWidthContribution=a,this},t._solveUnresolvedChildren=function(e){var t,n,o,r,i,a,l,s,c=((e||this.props.domTree).unResolvedChildren||[]).filter((function(e){return/repeat\(/g.test(e.style.gridTemplateColumns)||/repeat\(/g.test(e.style.gridTemplateRows)})),u=this._config,g=u.colTracks,h=u.mapping,p=this.getProps("parent"),f=[0];if(!c.length)return this;for(n=1,o=g.length;n<o;n++)f[n]=f[n-1]+g[n].calculatedStyle.baseSize;return c.forEach((function(e){a=v(e.style.gridTemplateColumns)[1],l=h.col.nameToLineMap[e.style.gridColumnStart],s=h.col.nameToLineMap[e.style.gridColumnEnd],r=f[s-1]-f[l-1],i={itemWidth:a,width:r},t=(0,d.repeatResolver)(e,i),e.style.gridTemplateColumns=t.gridTemplateColumns,e.style.gridTemplateRows=t.gridTemplateRows,p.gridLayoutEngine(e)})),this},t._assignCoordinatesToCells=function(e){var t,n,o,r,i,a,s,d,u,g=e||this.props.domTree,h=this._config,p=h.sanitizedItems,f=h.rowTracks,m=h.colTracks,b=g.style,v=b.justifyItems,y=b.alignItems,k=b.paddingStart,C=b.paddingTop,x=[k],w=[C];for(o=1,n=f.length;o<n;o++)x[o]=x[o-1]+f[o].calculatedStyle.baseSize;for(o=1,n=m.length;o<n;o++)w[o]=w[o-1]+m[o].calculatedStyle.baseSize;return g.layout={x:0,y:0,width:isNaN(g.style.width)?w[w.length-1]:g.style.width,height:isNaN(g.style.height)?x[x.length-1]:g.style.height},(g.children||[]).forEach((function(e,n){switch(t=p[n],r=w[t.colEnd-1]-w[t.colStart-1],i=x[t.rowEnd-1]-x[t.rowStart-1],a=isNaN(+e.style.width)?r:+e.style.width,s=isNaN(+e.style.height)?i:+e.style.height,v||e.style.justifySelf){case c.CENTER:d=w[t.colStart-1]+r/2-a/2;break;case c.END:d=w[t.colEnd-1]-a;break;case c.STRETCH:a=r,d=w[t.colStart-1];break;default:d=w[t.colStart-1]}switch(y||e.style.alignSelf){case c.CENTER:u=x[t.rowStart-1]+i/2-s/2;break;case c.END:u=x[t.rowEnd-1]-s;break;case c.STRETCH:s=i,u=x[t.rowStart-1];break;default:u=x[t.rowStart-1]}d+=(0,l.pluckNumber)(t.style.paddingStart,t.style.padding,0),u+=(0,l.pluckNumber)(t.style.paddingTop,t.style.padding,0),e.layout={x:d,y:u,x2:d+a,y2:u+s,width:a,height:s}})),this},e}(),w=function(e,t){void 0===e&&(e="");var n=(e.match(f)||[]).filter((function(e){return e&&!!e.trim()})),o="",r=1;return n.length&&!/repeat\(/.test(e)?n.forEach((function(e){h.indexOf(e)>-1||/[0-9]fr/.test(e)||p.test(e)||!isNaN(e)?(o+=t[r].calculatedStyle.baseSize+" ",r++):o+=e+" "})):t.forEach((function(e){isNaN(e.calculatedStyle.baseSize)||(o+=e.calculatedStyle.baseSize+" ")})),o.trim()}})),n.register("e0hbu",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("c0F5b"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return+e.replace(/fr/,"")},g=function e(t,n,o){var r,i,a=0;if(t.length){if(t.forEach((function(e){return a+=e.multiplier})),r=(o-n)/a,(i=t.filter((function(e){return e.baseSize<=e.multiplier*r}))).length<t.length)return t.filter((function(e){return e.baseSize>e.multiplier*r})).forEach((function(e){return n+=e.baseSize})),e(i,n,o);i.forEach((function(e){return e.baseSize=e.multiplier*r}))}},h=function(){function e(e,t,n){return void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n=600),this.clear(),this.set("tracks",e),this.set("items",t),this.set("containerSize",n),this}var t=e.prototype;return t.set=function(e,t){switch(this.props[e]=t,e){case"tracks":this._initTrackSize();break;case"items":this._initItems();break;case"containerSize":this.props[e]=isNaN(+t)?0:+t}return this},t.get=function(e){return this.props[e]},t._initTrackSize=function(e){var t,n,o,r,i,a,l,s=e||this.props.tracks||[],c=this._config,g=[{}];for(c.frTracks=[],c.intrinsicTracks=[],t=1,n=s.length;t<n;t++)o=s[t].size,i=1,Array.isArray(o)?(a=+o[0]||0,o[1].indexOf("fr")>0||o[0].indexOf("fr")>0?(l=1/0,c.frTracks.push(t),r="minmax"):"auto"===o[1]||"auto"===o[0]?(l=1/0,c.intrinsicTracks.push(t),r="minmax"):isNaN(+o[0])||isNaN(+o[1])||(l=Math.max(+o[0],+o[1]),a=Math.min(+o[0],+o[1]),c.intrinsicTracks.push(t),r="minmax")):isNaN(+o)?o.indexOf("fr")>0?(a=0,l=1/0,c.frTracks.push(t),r="flex",i=u(o)):(a=0,l=1/0,r="intrinsic",c.intrinsicTracks.push(t)):(a=l=+o,r="fixed"),g.push(d(d({},s[t]),{},{type:r,multiplier:i,baseSize:a,growthLimit:l}));return c.sanitizedTracks=g},t._initItems=function(e){var t,n,o,r,i=e||this.props.items||[],a=this._config,l=[],s=0;for(o=0,r=i.length;o<r;o++)isNaN(i[o].start)||isNaN(i[o].end)?a.autoFlow.push(i[o]):(l.push(d({},i[o])),n=l[s],s++,n.size=isNaN(n.size)?this._getParentSize(n):+n.size);for(l.sort((function(e,t){var n=e.end-e.start,o=t.end-t.start;return n===o?e.start-t.start:n-o})),o=0,t=r=l.length;o<r;o++)if(l[o].end-l[o].start>1){t=o;break}return this._config.nonSpanningItemStartIndex=t,this._config.sanitizedItems=l},t._getParentSize=function(e){var t=this._config.sanitizedTracks,n=0;return t.filter((function(t){return t.start>=e.start&&t.end<=e.end})).forEach((function(e){return n+=e.baseSize})),n||0},t.resolveTracks=function(){return this._placeNonSpanningItems()._placeSpanningItems()._distributeFreeSpace(),this._config.sanitizedTracks},t._placeNonSpanningItems=function(){var e,t,n=this._config,o=n.sanitizedItems,r=n.sanitizedTracks,i=n.nonSpanningItemStartIndex;return o.slice(0,i).forEach((function(n){t=n.start,"fixed"!==(e=r[t]).type&&(e.baseSize=Math.max(e.baseSize,n.size),e.growthLimit=Math.max(e.growthLimit,e.baseSize))})),this},t._placeSpanningItems=function(){var e,t,n,o,r,i,a,l=this._config,s=l.sanitizedItems,c=l.sanitizedTracks,d=l.nonSpanningItemStartIndex,u=l.frTracks,g=s.slice(d),h=[0];if(!g.length)return this;for(i=1,a=c.length;i<a;i++)h[i]=h[i-1]+(c[i].baseSize||0);return g.forEach((function(a){if(e=h[a.end-1]-h[a.start-1],t=Math.max(0,a.size-e)){for(i=a.start,r=!1,o=0;i<a.end;i++)u.indexOf(i)>=0&&(r=!0),"fixed"!==c[i].type&&o++;if(o&&!r)for(n=t/o,i=a.start;i<a.end;i++)"fixed"!==c[i].type&&(c[i].baseSize+=n)}})),this},t._distributeFreeSpace=function(){var e=this._config,t=e.frTracks,n=e.intrinsicTracks,o=e.sanitizedTracks,r=this.props.containerSize,i=0;return o.forEach((function(e){return i+=e.baseSize||0})),i<r&&(t.length?(t.forEach((function(e,n){t[n]=o[e]})),t.forEach((function(e){return i-=e.baseSize})),g(t,i,r)):n.length&&(n.forEach((function(e,t){n[t]=o[e]})),function(e,t,n){var o,r,i,a,l,s,c,d=0;if(e.length){for(o=n-t,(l=e.filter((function(e){return"minmax"===e.type&&e.growthLimit!==1/0}))).sort((function(e,t){return e.growthLimit-e.baseSize-(t.growthLimit-t.baseSize)})),a=l.length;d<a&&o;)for(r=o/(l.length-d||1),i=0,a=l.length;i<a;i++)s=l[i].growthLimit,o-=(c=Math.min(r+l[i].baseSize,s))-l[i].baseSize,l[i].baseSize=c,s!==c||l[i].frozen||(l[i].frozen=!0,d++);e=e.filter((function(e){return"minmax"===e.type&&e.growthLimit===1/0||"minmax"!==e.type})),r=o/e.length,e.forEach((function(e){return e.baseSize+=r}))}}(n,i,r))),this},t.clear=function(){return this.props={},this._config={frTracks:[],intrinsicTracks:[],autoFlow:[]},this},e}();a=h})),n.register("fPeDi",(function(t,n){var o;e(t.exports,"repeatResolver",(function(){return o}),(function(e){return o=e})),o=function(e,t){var n,o,r,i=e.children,a=0,l=0,s="",c="",d=0,u=t.itemWidth,g=t.width;for(g=isNaN(+g)?0:+g,i.forEach((function(e){return d=Math.max(d,+e.style.height||0)})),a+=u=+u,s+=u+" ",l=1,o=1,r=i.length;o<r&&!(a+u>g);o++)a+=u,s+=u+" ";for(l=o,n=Math.ceil(r/l);n--;)c+=d+" ";return{gridTemplateColumns:s.trim(),gridTemplateRows:c.trim()}}})),n.register("8XHVW",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=function(e){var t,n=e.getFromEnv("dataSource"),o=n.data||{},r=n.markers;(0,s.componentFactory)(e,u.default,"mapGroup"),t=e.getChildren("mapGroup")[0],(0,s.datasetFactory)(t,c.default,"entities",1,[o]),r?(0,s.datasetFactory)(t,d.default,"markers",1,[r]):e.getDatasets()[1]&&e.getDatasets()[1].remove()};var s=n("fEyGJ"),c=l(n("lMAIW")),d=l(n("4dlrQ")),u=l(n("jWUfQ"))})),n.register("lMAIW",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s,c=l(n("ix9Ix")),d=n("1vwRT"),u=l(n("aMNoX")),g=n("LZTKL"),h=l(n("781uO")),p=n("fEyGJ"),f=n("aqVRP"),m=l(n("88VVq")),b=(0,g.getDep)("redraphael","plugin"),v=window.navigator.userAgent,y=/msie/i.test(v)&&!window.opera,k="",C="middle",x="center",w="entityLabel",S=window.Math,L=S.min,F=S.max,T=/stroke/gi,E=/AppleWebKit/.test(v),N=S.ceil,A=function(e,t){var n=t?(0,p.extend2)(e.FCcolor,t,!1,!0):{FCcolor:e};return n.toString=p.toRaphaelColor,n},I=function(e,t){var n,o,r={};if(o=t||1,!e||"object"!=typeof e)return r;for(n in e)T.test(n)||("stroke-width"===n?(r[n]=Number(e[n])/o,E&&(r[n]=r[n]&&N(r[n])||0)):r[n]=e[n]);return r},_={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*L(t,e-t)}},P={top:function(){return arguments[1]},middle:function(e,t){return 2*L(t,e-t)},bottom:function(e,t){return e-t}},O=function(e,t){e&&e.graphics.outlines.attr(t)};(0,g.addDep)({name:"mapsAnimation",type:"animationRule",extension:h.default}),(0,m.default)(b);var M=function(e){function t(){var t;return(t=e.call(this)||this).components={},t}(0,c.default)(t,e);var n=t.prototype;return n.getName=function(){return"entities"},n.getType=function(){return"dataset"},n.configureAttributes=function(e){if(e){this.JSONData={data:e};var n,o,r,i,a,l,c,d,u=this,g=u.getFromEnv("chart").jsonData,h=u.config,f=g.map||g.chart,m=[],b=u.getFromEnv("colorManager"),v=g.entitydef||[];for(a in!h.attachEvent&&b&&(u.addExtEventListener("legendUpdate",(function(){if("legend"===(d=arguments[1]).component)u.legendInteractivity(d.legendItem,d.colorObj);else for(m=d.maxMinArray,l=m.length,c=0;c<l;c++)u.updateEntityColors(m[c].min,m[c].max)}),b),h.attachEvent=!0),n=g.data&&g.data[0]&&g.data[0].data?u.JSONData=g.data[0].data||[]:u.JSONData=g.data||[],h.useSNameAsId=(0,p.pluckNumber)(f.usesnameasid,0),this._redefineEntities(v),o=u.components.data,h.showTooltip=(0,p.pluckNumber)(f.showtooltip,1),h.showHoverEffect=(0,p.pluckNumber)(f.showhovereffect,0),n=function(e){for(var t,n=e&&e.length||0,o={};n--;)(t=e[n]).id!==s&&(o[t.id.toLowerCase()]=t);return o}(n),u.calculateDataLimits(),!g.colorrange&&u._detachChild(u.getChildren("colorRange")&&u.getChildren("colorRange")[0]),o)r=n[a],i=o[a],r?this._configureEntity(a,i,(0,p.imprint)(t._sanitizeEntityOptions((0,p.extend2)({},r)),i.config)):this._configureEntity(a,i,i.config)}},n.updateEntityColors=function(e,t){var n,o,r,i,a,l=this.components.data,s=this.getFromEnv("chart").config.entityOpts,c=s.nullEntityAlpha,d=s.nullEntityColor,u=A({fill:d,alpha:c}),g={"fill-opacity":0};for(i in l)l.hasOwnProperty(i)&&(r=(o=(n=l[i]).config).cleanValue,a={"fill-opacity":(o.alphaArr||[])[0]/100||1},null==r?(O(n,u),n.hidden=!1):r<e||r>t?(O(n,g),n.hidden=!0):(O(n,a),n.hidden=!1))},n.legendInteractivity=function(e,t){var n,o,r,i,a,l,s=this,c=s.getFromEnv("chart"),d=s.components.data,u=e.config,g=e.hasState("hidden"),h=s.getFromEnv("colorManager"),p={},f={"fill-opacity":0};for(n in c.getFromEnv("animationManager").setAnimationState("legendInteraction"),d)d.hasOwnProperty(n)&&(r=(u=(o=d[n]).config).cleanValue,l=h.getColorObj(r),i=u.visibleEntityAttr,p["fill-opacity"]=i["fill-opacity"],a=g?p:f,t.code===(!l.outOfRange&&l.code)&&(o.hidden=!g,O(o,a),g?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))},n.calculateDataLimits=function(){var e,t,n,o,r=this.getFromEnv("chart"),i=this.config,a=r.jsonData.data||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(o=0,n=a.length;o<n;o++)t=a[o].value,e=l.getCleanValue(t),s=L(s,e),c=F(c,e);i.max=c,i.min=s},n._configureEntity=function(e,t,n){var o,r,i,a,l,c,d,u,g,h,f,m,b,v,y,w,S,L,F,T,E,N,I=this,_=I.getFromEnv("chart"),P=I.config,O=this.getFromEnv("number-formatter"),M=_.config.entityOpts,R=t.config,B=t.labelConfig,D=n.value,G=R.cleanValue=O.getCleanValue(D),z=R.formattedValue=G!==s?O.dataLabels(G):s,V=(0,p.pluckNumber)(n.showtooltip,M.showTooltip),W=this._getDefaultTooltip(t,n,I),j={formattedValue:z,sName:n.shortLabel,lName:n.label},H=M.dataLabels.style,X=R.toolText=V?(0,p.parseUnsafeString)((0,p.pluck)((0,p.parseTooltext)((0,p.pluck)(n.tooltext,M.tooltext,W),[1,2,7,38,39],j,n)),!1):k,Y=R.borderColor=(0,p.pluck)(n.bordercolor,M.borderColor),K=R.borderAlpha=(0,p.pluck)(n.borderalpha,M.borderAlpha),U=R.borderThickness=(0,p.pluckNumber)(n.borderthickness,M.borderThickness),J=M.hoverOnNull,Q=R.useHoverColor=(0,p.pluckNumber)(n.showhovereffect,n.usehovercolor,J?M.showHoverEffect:isNaN(D)?0:M.showHoverEffect),q=R.labelAlignment,Z=I.getFromEnv("colorManager");if(t.hidden=!1,R.showLabel=(0,p.pluckNumber)(n.showlabel,M.showLabels),R.labelPadding=(0,p.pluckNumber)(n.labelpadding,M.labelPadding),R.fontFamily=(0,p.pluck)(n.font,H.fontFamily),R.fontSize=(0,p.pluckNumber)(parseInt(n.fontsize,10),parseInt(H.fontSize,10)),R.fontBold=(0,p.pluckNumber)(n.fontbold,0),R.fontColor=(0,p.pluck)(n.labelcolor,n.fontcolor,H.color),R.labelBgColor=(0,p.pluck)(n.labelbgcolor,H.bgColor)||k,R.labelBorderColor=(0,p.pluck)(n.labelbordercolor,H.borderColor)||k,R.connectorColor=(0,p.pluck)(n.labelconnectorcolor,M.connectorColor),R.connectorAlpha=(0,p.pluck)(n.labelconnectoralpha,M.connectorAlpha),R.hoverBorderThickness=(0,p.pluckNumber)(n.borderhoverthickness,n.hoverborderthickness,M.hoverBorderThickness),R.hoverBorderColor=(0,p.pluck)(n.borderhovercolor,n.hoverbordercolor,M.hoverBorderColor,R.borderColor),R.hoverBorderAlpha=(0,p.pluck)(n.borderhoveralpha,n.hoverborderalpha,M.hoverBorderAlpha,R.borderAlpha),R.connectorThickness=(0,p.pluckNumber)(n.labelconnectorthickness,M.connectorThickness),R.origConnectorThickness=R.connectorThickness,R.borderThickness=U,R.link=n.link,R.isVisible=!0,R.id=e,R.originalId=n.origId,null!==G&&(o=Z&&Z.getColor(G))&&!o.outOfRange&&(w=o.code,o.oriAlpha!==s&&(S=o.oriAlpha+"")),(0,p.pluck)(n.color,n.alpha,n.angle,n.ratio)!==s?(l=(0,p.pluck)(n.color,w,M.fillColor),c=(0,p.pluck)(n.alpha,S,M.fillAlpha),d=(0,p.pluck)(n.angle,M.fillAngle),u=(0,p.pluck)(n.ratio,M.fillRatio),g=A({color:l,alpha:c,angle:d,ratio:u})):(v=A({color:(0,p.pluck)(w,M.fillColor),alpha:(0,p.pluck)(S,M.fillAlpha),angle:(0,p.pluck)(M.fillAngle),ratio:(0,p.pluck)(M.fillRatio)}),b=A({color:(0,p.pluck)(M.nullEntityColor),alpha:(0,p.pluck)(M.nullEntityAlpha),angle:(0,p.pluck)(M.nullEntityAngle),ratio:(0,p.pluck)(M.nullEntityRatio)}),l=(g=null===G?b:v).FCcolor.color,c=g.FCcolor.alpha,d=g.FCcolor.angle,u=g.FCcolor.ratio),X===k&&(P.showTooltip=0),R.visibleEntityAttr={stroke:(0,p.convertColor)(Y,K),fill:(R.fillColor=g).toString(),"fill-opacity":c/100},N=c.split(","),R.alphaArr=N,Q&&((0,p.pluck)(n.fillhovercolor,n.fillhoveralpha,n.fillhoverangle,n.fillhoverratio,n.hoverfillcolor,n.hoverfillalpha,n.hoverfillratio,n.hoverfillangle)!==s?(l=(0,p.pluck)(n.fillhovercolor,n.hoverfillcolor,M.hoverFillColor),c=(0,p.pluck)(n.fillhoveralpha,n.hoverfillalpha,M.hoverFillAlpha),d=(0,p.pluck)(n.fillhoverangle,n.hoverfillangle,M.hoverFillAngle),u=(0,p.pluck)(n.fillhoverratio,n.hoverfillratio,M.hoverFillRatio),y=A({color:l,alpha:c,angle:d,ratio:u})):(M.hoverColorObject||(M.hoverColorObject=A({color:M.hoverFillColor,alpha:M.hoverFillAlpha,angle:M.hoverFillAngle,ratio:M.hoverFillRatio})),y=M.hoverColorObject),R.hoverColor=y),!B&&(B=t.labelConfig={}),h=R.fontColor,f=R.fontFamily,m=R.fontBold,X=R.toolText,r=R.link,q?(i=q[0],a=q[1]):(i=x,a=C),B.align=i,B.vAlign=a,B.fontColor=h,B.bgColor=R.labelBgColor,B.borderColor=R.labelBorderColor,B.fontFamily=f,B.fontBold=m,B.toolText=X,B.link=r,"object"==typeof R.options)for(L=R.entityLabels=R.entityLabels||[],E=(T=R.labels||[]).length;E--;)L[E]||(L[E]={config:{}}),B=L[E].config,(q=T[E].labelAlignment)?(i=q[0],a=q[1]):(i=x,a=C),B.align=i,B.vAlign=a,B.displayValue=I.getDisplayValue(t,T[E],R.options.isDataEnabled,!E,n),B.toolText=X,B.align=i,B.vAlign=a,B.bgColor=R.labelBgColor,B.borderColor=R.labelBorderColor,B.fontColor=h,B.fontFamily=f,B.fontBold=m,B.toolText=X;else F={shortText:R.shortLabel,text:R.label},B.displayValue=I.getDisplayValue(t,F,!0,!0,n)},n.getDisplayValue=function(e,t,n,o,r){var i,a=this.getFromEnv("chart").config.entityOpts,l=e.config,c=l.cleanValue,d=l.formattedValue,u=a.labelSepChar;return n?o&&void 0!==r.displayvalue?i=r.displayvalue:(i=(0,p.pluck)(a.includeNameInLabels?a.useShortName?t.shortText:t.text:""),a.includeValueInLabels&&null!==c&&(i=i===s?d:i+u+d)):i=l.label,i},t._sanitizeEntityOptions=function(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e},n._redefineEntities=function(e){var t,n,o,r,i,a,l,s,c,d,u,g,h=this,f=h.config,m={},b={},v=h.getFromEnv("chart").config.entities,y=f.useSNameAsId,k=0;for(t=e.length;t--;)if(o=(n=e[t]).internalid,r=n.newid?n.newid:o,i=n.sname,a=n.lname,g=v[o],o=(0,p.trimString)(o),r=(r=(0,p.trimString)(r))&&r.toLowerCase(),g){for(u in m[r]=s={origId:o},b[o]=!0,g)s[u]=g[u];s.shortLabel=i||g.shortLabel,s.label=a||g.label,s.showhovereffect=n.showhovereffect,s.fillhovercolor=n.fillhovercolor,s.fillhoveralpha=n.fillhoveralpha,s.fillhoverangle=n.fillhoverangle,s.fillhoverratio=n.fillhoverratio,s.borderhoverthickness=n.borderhoverthickness}for(l in(d=h.components.data)||(d=h.components.data={}),m)d[l=l.toLowerCase()]||(d[l]={config:{}}),d[l].config=m[l],k+=1;for(l in c=d,v)if(s=v[l],!b[l=(0,p.trimString)(l)]){for(u in y?((g=c[s.shortLabel.toLowerCase()])||(g=c[s.shortLabel.toLowerCase()]={}),g.config={},g.origId=s.shortLabel):((g=c[l.toLowerCase()])||(g=c[l.toLowerCase()]={}),g.config={},g.config.origId=l),s)g.config[u]=s[u];k+=1}f.entityCount=k},n.draw=function(){var e=this,t=e.config,n=e.getFromEnv("chart"),o=p.hasSVG?200:10;e.createContainer(),this.config.ready=!1,t.BATCH_SIZE=o,t.labelBatchSize=p.hasSVG?200:20,this._batchRender()(0),n.config.entityFlag=!0,n.checkComplete()},n._batchRender=function(){var e,t,n,o,r,i=this,a=i.config,l=i.getFromEnv("chart").config.entities.firstEntity,c=i.components.data,d=a.BATCH_SIZE,u=a.entityKeys=l?i._getKeys(l,c):Object.keys(c),g=a.entityLength=u.length;return function a(l){for(e=l,n=0;u[e]!==s;)if(t=c[u[e]],r=i.drawEntity(t,d),n+=r,t.config.drawn&&((o=e===g-1?t:c[u[e-1]])&&(o.config.drawn=!1,o.config.outlineStartIndex=s),e++),n>=d){i.addJob("entityDraw",a.bind(i,e),f.priorityList.entitydraw);break}e===g&&(i._addEventListenersToEntities(0),i.initComplete())}},n._addEventListenersToEntities=function(e){var t,n,o,r=this,i=r.components.data,a=r.config,l=a.BATCH_SIZE,s=a.entityKeys,c=a.entityLength,d=0;for(t=e;t<c;t++)if((o=(n=i[s[t]]).config.options)&&!1===o.isDataEnabled||r.addMouseGestures(n),++d===l){r.addJob("_addEventListenersToEntities",r._addEventListenersToEntities.bind(this,t),f.priorityList.entitydraw);break}},t._getKeys=function(e,t){for(var n=[e],o=e;t[o];)o=t[o].nextId,n.push(o);return n},n._getDefaultTooltip=function(e,t){var n,o,r=e.config.cleanValue,i=e.config.formattedValue,a=this.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(!(o=t.labels&&t.labels[0]))return s;n=(a.useSNameInTooltip?o.shortText:o.text)+(null===r?k:a.tooltipSepChar+i)}else n=(a.useSNameInTooltip?t.shortLabel:t.label)+(null===r?k:a.tooltipSepChar+i);return n},n.drawEntity=function(e,t){var n,o,r,i,a,l,c,d,u=this,g=u.getFromEnv("chart"),h=g.getFromEnv("animationManager"),f=e.config,m=p.hasSVG||!y?"litepath":"path",b=g.config.entityOpts,v=f.outlines,k=u.getFromEnv("toolTipController"),C=this.getLinkedParent().getChildContainer("plot"),x=this.getLinkedParent().getChildContainer("plotShadow"),w=f.toolText,S=b.shadow,L=[],F={};if(u._configureEntityDrawingParams(e),o=(f=e.config).visibleEntityAttr,d=f.shadowOptions,n=f.outlineStartIndex===s?v.length:f.outlineStartIndex,e.graphics||(e.graphics={}),l=0,L=f.outlinePath||(f.outlinePath=[]),c=f.customStrokeWidthModifier,"object"==typeof f.options){for(;n--;)if(L=v[n].outline,r=!0===f.options.isDataEnabled?o:(0,p.extend2)((0,p.extend2)({},o),I(v[n].style,c)),(i=e.graphics.outlines)||(i=e.graphics.outlines=[]),!i[n]&&(i[n]={}),a=i[n].outline,r[m]=L,(a=i[n].outline=h.setAnimation({el:m,container:C,attr:r,component:u,label:"path"})).shadow(!!S&&d,x),k.enableToolTip(a,w),l++,f.outlineStartIndex=n,l===t)return l;return f.drawn=!0,l}for(;n--;)if(L=v[n].concat(L),l++,f.outlineStartIndex=n,l===t)return f.outlinePath=L,l;return!e.graphics.outlines&&(o[m]=L),Object.assign(F,o,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=h.setAnimation({el:e.graphics.outlines||m,container:C,attr:F,component:u,label:"path"}),f.drawn=!0,f.outlineStartIndex=0,f.outlinePath=[],e.graphics.outlines.shadow(!!S&&d,x),k.enableToolTip(e.graphics.outlines,w),l},n._configureEntityDrawingParams=function(e){var t,n=this.getFromEnv("chart"),o=e.config,r=n.config.entityOpts,i=n.config.scalingParams,a=!y||p.hasSVG,l=i.scaleFactor,s=i.strokeWidth,c=(a?n.baseScaleFactor:1)*s,d=1===r.scaleBorder,u=o.borderThickness,g=o.alphaArr,h=o.origConnectorThickness,f=o.hoverBorderThickness,m=o.visibleEntityAttr,b=m["fill-opacity"];o.shadowOptions={scalefactor:[l,l*n.config.baseScaleFactor],opacity:F.apply(S,g)/100,useFilter:0},o.fillOpacity=e.hidden?0:b,a?(u=o.entityBorderThickness=d?u*c:u/l,h/=l,t=d?l:i.sFactor,f&&(f=o.hoverBorderThickness=d?f*c:f/l)):(u=d?u*s:u,t=d?i.scaleFactor:n.baseScaleFactor),o.entityBorderThickness=u,o.connectorThickness=h,o.customStrokeWidthModifier=t,m["stroke-width"]=u,m.transform=p.hasSVG||!y?"":i.transformStr},n.drawLabels=function(e){var t,n,o,r,i=this,a=e,l=i.getFromEnv("chart"),s=i.config,c=s.labelBatchSize,d=s.entityLength,g=[],h=l.getChildContainer("upperAnnotationGroup"),p=0,f=i.getChildren("mapLabelAnnotations")&&i.getChildren("mapLabelAnnotations")[p],m=0,b=0,v=l.config.annotationConfig;for(t in f||(r=new u.default,i.attachChild(r,"mapLabelAnnotations"),(f=i.getChildren("mapLabelAnnotations")[p]).addCustomGroup(h)),f.destroy(),f._renderer&&(f._renderer=null),v.showbelow=0,a){if(i.drawLabel(a[t],g),++m===c){for(n=0;n<g.length;n++)g[n].animationLabel=w;for(o=f.addGroup(Object.assign(v,{id:"entityLabels"+p,items:g,animationLabel:"entityLabelGroup"}),i),n=0;n<o.items.length;n++)o.items[n].addEventListener("fc-mouseover",g[n].onmouseover),o.items[n].addEventListener("fc-mouseout",g[n].onmouseout),o.items[n].addEventListener("fc-click",g[n].onclick);p++,(f=i.getChildren("mapLabelAnnotations")&&i.getChildren("mapLabelAnnotations")[p])||(r=new u.default,i.attachChild(r,"mapLabelAnnotations"),(f=i.getChildren("mapLabelAnnotations")[p]).addCustomGroup(h)),f.destroy(),f._renderer&&(f._renderer=null),m=0,g=[]}else if(b===d-1){for(n=0;n<g.length;n++)g[n].animationLabel=w;for(o=f.addGroup(Object.assign(v,{id:"entityLabels"+p,items:g,animationLabel:"entityLabelGroup"}),i),n=0;n<o.items.length;n++)o.items[n].addEventListener("fc-mouseover",g[n].onmouseover),o.items[n].addEventListener("fc-mouseout",g[n].onmouseout),o.items[n].addEventListener("fc-click",g[n].onclick)}b++}i.drawLabelConnFn(0)},n.drawLabelConnFn=function(e){var t,n,o,r,i,a=this,l=a.config,s=a.components.data,c=l.BATCH_SIZE,d=l.entityKeys,u=d.length,g=0;for(n=e;n<u;n++){if("object"==typeof(r=(i=s[d[n]]).config).options)for(t=(o=r.labels)&&o.length||0;t--;)o[t].labelConnectors&&(a.drawLabelConnectors(i,o[t].labelConnectors,a),g++);else r.labelConnectors&&(a.drawLabelConnectors(i,r.labelConnectors,a),g++);if(g===c){a.addJob("drawLabelConnectors",a.drawLabelConnFn.bind(this,n),f.priorityList.entitydraw);break}}},n._getLabelObject=function(e,t,n){var o,r,i,a,l,c,d,u,g,h,f,m=this,b=m.getFromEnv("chart"),v=m.getFromEnv("chart-attrib"),y=e.config,k=b.config.scalingParams,w=e.graphics&&e.graphics.outlines,S=y.fontSize,L=y.labelPadding,F=y.labels||[],T=y.entityLabels||[];return t!==s?(f=F[t],a=(o=T[t].config).style=f.style,r=f.labelPosition,i=f.labelAlignment):(o=e.labelConfig,r=y.labelPosition,i=y.labelAlignment),r?(l=r[0],c=r[1]):(l=(d=w.getBBox()).x+d.width/2,c=d.y+d.height/2),i?("right"===(u=i[0])?l-=L:"left"===u&&(l+=L),"top"===(g=i[1])?c-=L:"bottom"===g&&(c+=L)):(u=x,g=C),h=parseFloat(S)/k.sFactor,!n&&a&&(a.color&&(o.fontColor=a.color),a["font-size"]&&(h=parseFloat(a["font-size"])/k.sFactor),a["font-family"]&&(o.fontFamily=a["font-family"]),a["font-weight"]!==s&&(o.fontBold="bold"===a["font-weight"])),o.x=l.toString(),o.y=c.toString(),o.wrap=1,o.type="text",o.fontSize=h,{x:l.toString(),y:c.toString(),wrapwidth:_[u](undefined,l+undefined)-L,wrapheight:P[g](undefined,c+undefined)-L,wrap:1,type:"text",align:o.align,valign:o.vAlign,text:o.displayValue,tooltext:o.toolText,outlineText:(0,p.pluckNumber)(v.textoutline,0),css:o.link!==s&&{cursor:"pointer",_cursor:"hand"},bgcolor:o.bgColor,bordercolor:o.borderColor,fillcolor:o.fontColor,fontsize:o.fontSize,font:o.fontFamily,bold:o.fontBold,onclick:function(t){var n,o,r=e.graphics.outlines;if(r instanceof Array)for(n=0,o=r.length;n<o;n++)m.entityClick(r[n].outline,t);else m.entityClick(r,t)},onmouseover:function(t){var n,o,r=e.graphics.outlines;if(r instanceof Array)for(n=0,o=r.length;n<o;n++)m.entityRollOver(r[n].outline,t);else m.entityRollOver(r,t)},onmouseout:function(t){var n,o,r=e.graphics.outlines;if(r instanceof Array)for(n=0,o=r.length;n<o;n++)m.entityRollOut(r[n].outline,t);else m.entityRollOut(r,t)},ontouchstart:function(t){var n,o,r=e.graphics.outlines;if(r instanceof Array)for(n=0,o=r.length;n<o;n++)m.entityRollOver(r[n].outline,t);else m.entityRollOver(r,t);m.entityRollOver(r,t)}}},n.drawLabel=function(e,t){var n,o,r,i=e.config;if(i.showLabel)if("object"==typeof i.options)for(o=(r=i.labels)&&r.length||0,n=i.options.isDataEnabled;o--;)t.push(this._getLabelObject(e,o,n,!o));else t.push(this._getLabelObject(e,s,!0,!0))},n.drawLabelConnectors=function(e,t,n){for(var o,r,i=e.config,a=this.getFromEnv("chart"),l=a.getFromEnv("animationManager"),s=a.config.scalingParams,c=n.getLinkedParent().getChildContainer("plot"),d=t&&t.length||0,u=i.showLabel;d--;)r=t[d],o=e.graphics.connectorElem,u?e.graphics.connectorElem=o=l.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:r,opacity:1,transform:p.hasSVG||!y?"":s.transformStr,stroke:(0,p.convertColor)(i.connectorColor,i.connectorAlpha),"shape-rendering":"crisp","stroke-width":i.connectorThickness},container:c,component:this,label:"labelConnectors"}):o&&o.hide()},n.entityClick=function(e,t){var n=e.node.__entity,o=this.getFromEnv("chart"),r=o.config.scalingParams,i=e.getBBox(),a=o.getFromEnv("linkClickFN"),l=n.config,c=l.link;i.width=i.width*r.scaleFactor,i.height=i.height*r.scaleFactor,i.x=i.x*r.scaleFactor+r.translateX,i.y=i.y*r.scaleFactor+r.translateY,i.x2=i.x+i.width,i.y2=i.y+i.height,o.fireChartInstanceEvent("entityclick",l.eventArgs,t),c!==s&&a.call({link:c,entity:n,entityBox:i},!0)},n.entityRollOver=function(e,t){var n=e.node.__entity,o=n.config,r=this.getFromEnv("chart"),i=r.getFromEnv("animationManager"),a=o.hoverAttr;r.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(n.config.timer):o.useHoverColor&&o.isVisible&&!n.hidden&&a&&(r.config.hoverEntity=e,i.setAnimation({el:e,attr:a,component:this,state:"updating",label:"path"}),e.data("hovered",!0))},n.entityRollOut=function(e,t){var n=e.node.__entity,o=this,r=o.getFromEnv("chart"),i=r.getFromEnv("animationManager"),a=n.config.revertAttr;r.plotEventHandler(e,t,"entityRollOut"),n.config.timer=setTimeout((function(){!0!==n.hidden&&a&&(i.setAnimation({el:e,attr:a,component:o,state:"updating",label:"path"}),e.data("hovered",!1))}),100)},n.addMouseGestures=function(e){var t,n,o,r,i=e.config,a=i.originalId,l=this,c=e.graphics,d=i.useHoverColor,u=i.hoverBorderThickness,g=i.hoverBorderColor,h=i.hoverBorderAlpha,f=i.entityBorderThickness,m=i.borderColor,b=i.borderAlpha,v=i.link,y=i.visibleEntityAttr,k="groupId"+a,C=function(t){v!==s&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",i.eventArgs),t.data("groupId",k),t.node.__entity=e,e._listenersBinded||t.on("fc-click",l.entityClick.bind(l,t)).hover(l.entityRollOver.bind(l,t),l.entityRollOut.bind(l,t))};for(t in i.eventArgs={value:i.cleanValue,label:i.label,shortLabel:i.shortLabel,originalId:i.origId,id:i.id||i.origId},i.legacyEventArgs={value:i.value,lName:i.label,sName:i.shortLabel,id:i.originalId||i.id},d&&(i.hoverAttr={fill:(0,p.toRaphaelColor)(i.hoverColor)},i.revertAttr={fill:(0,p.toRaphaelColor)(i.fillColor),stroke:(0,p.toRaphaelColor)(i.borderColor,i.borderAlpha)},i.revertAttr["fill-opacity"]=y["fill-opacity"],u!==f&&(i.hoverAttr["stroke-width"]=(0,p.pluckNumber)(u,f),i.revertAttr["stroke-width"]=f),g===m&&h===b||(i.hoverAttr.stroke=(0,p.convertColor)(g,h),i.revertAttr.stroke=(0,p.convertColor)(m,b))),c)if(c.hasOwnProperty(t))if(c[t]instanceof Array){for(n=0,o=(r=c[t]).length;n<o;n++)C(r[n].outline);e._listenersBinded=!0}else C(c[t]),e._listenersBinded=!0},n.getDataLimits=function(){var e=this.config;return{max:e.max,min:e.min}},n.createContainer=function(){var e=this,t=e.getLinkedParent(),n=e.getFromEnv("animationManager"),o=t.getChildContainer("layer0");!e.getChildContainer("abovePlotGroup")&&e.addChildContainer("abovePlotGroup",n.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:o,component:e,label:"group"})),!e.getChildContainer("belowPlotGroup")&&e.addChildContainer("belowPlotGroup",n.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:o,component:e,label:"group"}))},n.initComplete=function(){var e=this.getFromEnv("chart"),t=this.components.data;this.drawLabels(t),e.config.entitiesReady=!0,e.checkComplete()},t}(d.ComponentInterface);a=M})),n.register("781uO",(function(n,o){var r,i;t(n.exports),e(n.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e})),r=!0,i=void 0;var a="final",l=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],s=function(){return l[0].slot="plot",l},c=function(e){return[{finalAttr:function(){return e.finalAttr}}]},d=function(){return l[0].slot=a,l},u=function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},g=function(){return l[0].slot=a,l},h=function(e){return[{finalAttr:function(){return e.finalAttr}}]},p=function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]},f=function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]};i={"initial.dataset.entities":function(){return{"path.appearing":s,"path.updating":c,"labelConnectors.appearing":d,"labelConnectors.updating":null,"entityLabel.appearing":u,"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":g,"markerItem.updating":h}},"initial.group.mapGroup":function(){return{"group.appearing":p,"group.updating":f,"*":null}}}})),n.register("88VVq",(function(n,o){var r,i;t(n.exports),e(n.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e})),r=!0,i=function(e){var t,n,o,r=window.parseFloat,i="array",a="none",l=e._createNode,s=e._setFillAndStroke,c=e.el.constructor,d="litepath",u={Q:"L",Z:"X",q:"l",z:"x",",":" "},g=/,?([achlmqrstvxz]),?/gi,h=function(){return this.join(",").replace(g,t)};e.svg?(t="$1",n=function(){var n=this,o=e.is(arguments[0],i)?arguments[0]:Array.prototype.slice.call(arguments);o?"string"==typeof o?o=o.replace(g,t):o.toString=h:o="M0,0",n.node.setAttribute("d",o.toString())},e._engine.litepath=function(t,n,o,r,i){var u,g=l("path");return(r||n).canvas.appendChild(g),(u=new c(g,n,r)).type=d,u.id=g.raphaelid=e._oid++,g.raphael=!0,s(u,i||{fill:a,stroke:"#000"}),u},e._getPath.litepath=function(t){return e.parsePathString(t.node.getAttribute("d"))}):e.vml&&(t=function(e,t){return u[t]||t},o=function(){var e=this;return e._transform.apply(e,arguments),e._.bcoord&&(e.node.coordsize=e._.bcoord),e},n=function(e){var n=e;return n?"string"==typeof n?n=n.replace(g,t):n.toString=h:n="M0,0",this.node.path=n,this},e._engine.litepath=function(t,n,i,s,u){var g,h=l("shape"),p=h.style,f=new c(h,n,s),m=u||{fill:a,stroke:"#000"},b=i;return p.cssText="position:absolute;left:0;top:0;width:21600px;height:21600px;",b=r(b),isNaN(b)?h.coordsize="21600 21600":(f._.bzoom=b,p.width="1px",p.height="1px",h.coordsize=f._.bcoord=b+" "+b),h.coordorigin=n.coordorigin,f.type=d,f.id=h.raphaelid=e._oid++,h.raphael=!0,f._transform=f.transform,f.transform=o,e._setFillAndStroke(f,m),(s||n).canvas.appendChild(h),(g=l("skew")).on=!0,h.appendChild(g),f.skew=g,f},e._getPath.litepath=function(t){return e.parsePathString(t.node.path||"")});e.fn.litepath=function(t,o,r){var a,l,s,u=t,g=o,h=r;return"object"==typeof u&&u.constructor!==c&&(a=u,l=(u=u.litepath).zoom,h=u.group),g&&g.constructor===c?(h=g,l=undefined):l=g,u&&u.constructor===c&&(h=u,u=""),(s=e._engine.litepath(u,this,l,h,a)).ca.litepath=n,u&&s.attr(d,e.is(u,i)?[u]:u),this.__set__&&this.__set__.push(s),this._elementsById[s.id]=s}}})),n.register("4dlrQ",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s,c=l(n("ix9Ix")),d=l(n("lMAIW")),u=l(n("03SjN")),g=l(n("aMNoX")),h=n("LZTKL"),p=l(n("781uO")),f=n("fEyGJ"),m=n("ibENm"),b=n("aqVRP"),v="",y="middle",k="center",C="polygon",x="circle",w=window.Math,S=w.min,L=w.max,F=function(e){var t,n=this.getFromEnv("chart"),o=this.getChildren("mapAnnotations")[0],r=e.markerShape,i=r.groupConfig,a=r.data("unfilteredConfig"),l=a._markerEventArgs,c=e.config;a.hovereffect&&("circle"===r.config.type&&(t=(0,f.extend2)({fillcolor:a.hoverfillcolor,fillalpha:a.hoverfillalpha,fillangle:a.hoverfillangle,fillratio:a.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:1},a._hoverattrs)),t=(0,f.extend2)({},a._hoverattrs),o.update(r.getId(),t)),l||(l=a._markerEventArgs={x:+a.x,y:+a.y,scaledX:a.x*i.scaleX,scaledY:a.y*i.scaleY,chartX:a.x*i.scaleX+i.grpXShift,chartY:a.y*i.scaleY+i.grpYShift,id:a.id,label:a.label}),(0,m.raiseEventGroup)(c.options.id,"markerRollOver",l,n.getFromEnv("chartInstance"),c,s,s,s)},T=function(e){var t,n=this.getFromEnv("chart"),o=this.getChildren("mapAnnotations")[0],r=e.markerShape,i=r.getElement(),a=e.config,l=r.data("unfilteredConfig");i&&l.hovereffect&&("circle"===r.config.type&&(t=(0,f.extend2)({fillcolor:r.config.rawColor,fillalpha:r.config.rawAlpha,fillangle:r.config.rawAngle,fillratio:r.config.rawRatio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===r.config.rawFillPattern},l._defaultattrs)),t=(0,f.extend2)({},l._defaultattrs),o.update(r.getId(),t)),(0,m.raiseEventGroup)(a.id,"markerRollOut",l._markerEventArgs,n.getFromEnv("chartInstance"),s,s,s)},E=function(e,t){var n=t.config.options,o=this.getFromEnv("chart"),r=t.markerShape,i=r.config,a=r.groupConfig,l=this.getFromEnv("linkClickFN"),s=r.config.link,c=i._markerEventArgs;s&&l&&l.call({link:s},!0),c||(c=i._markerEventArgs={x:+i.x,y:+i.y,scaledX:i.x*a.scaleX,scaledY:i.y*a.scaleY,chartX:i.x*a.scaleX+a.grpXShift,chartY:i.y*a.scaleY+a.grpYShift,id:n.id,label:n.label}),o.fireChartInstanceEvent("markerClick",c,e)},N=function(e,t){var n,o=e&&e.length||!1,r=t||"id",i={};if(!e)return e;for(;o--;)(n=e[o])[r]!==s&&(i[n[r].toLowerCase()]=n);return i},A=function(e,t,n){return{x:e.toString(),y:(t-n).toString(),align:k,valign:"top"}},I=function(e,t,n){return{x:(e-n).toString(),y:t.toString(),align:"right",valign:y}},_=function(e,t,n){return{x:(e+n).toString(),y:t.toString(),align:"left",valign:y}},P=function(e,t,n){return{x:e.toString(),y:(t+n).toString(),align:k,valign:"bottom"}},O=function(e,t){return{x:e.toString(),y:t.toString(),align:k,valign:y}},M=function(){return arguments[1]},R=function(e,t){return e-t},B=function(e,t){return 2*S(t,e-t)},D=function(){return arguments[1]},G=function(e,t){return 2*S(t,e-t)},z=function(e,t){return e-t};(0,h.addDep)({name:"mapsAnimation",type:"animationRule",extension:p.default});var V=function(e){function t(){var t;return(t=e.call(this)||this).components={},t.getLabelAlignment={top:A,left:I,right:_,bottom:P,center:O},t.getWrapWidth={right:M,left:R,center:B},t.getWrapHeight={top:D,middle:G,bottom:z},t.hoverFn=F,t.hoverOutFn=T,t.clickFn=E,t}(0,c.default)(t,e);var n=t.prototype;return n.getName=function(){return"markers"},n.getType=function(){return"dataset"},n.configureAttributes=function(e){if(e){this.JSONData=e;var t,n=this,o=n.getChildren("mapAnnotations")&&n.getChildren("mapAnnotations")[0],r=n.getFromEnv("chart").config.markerOpts;o||(t=new g.default,n.attachChild(t,"mapAnnotations"),o=n.getChildren("mapAnnotations")[0]),o.destroy(),n.calculateDataLimits(),r.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}},n.calculateMarkerRadiusLimits=function(){if(this.JSONData){var e=this,n=e.JSONData,o=e.config,r=e.getFromEnv("chart"),i=r.config.width,a=r.config.height,l=n.markermaxradius,s=n.markerminradius,c=t.getMarkerRadiusLimits(i,a,l,s);o.minRadius=c.min,o.maxRadius=c.max}},n.calculateDataLimits=function(){var e,t,n,o,r=this.getFromEnv("chart"),i=this.config,a=(r.jsonData.markers||{}).items||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(o=0,t=a.length;o<t;o++)n=a[o].value,null!==(e=l.getCleanValue(n))&&(s=S(e,s),c=L(e,c));i.min=s,i.max=c},n._parseMarkers=function(){var e,n,o,r,i,a,l,c,d=this,u=d.getFromEnv("chart"),g=u.jsonData.markers,h=g.items,p=g.shapes,m=u.config.markerOpts,b=m.dataLabels.style,y=this.getFromEnv("number-formatter"),k=d.components.shapeObjs={},C=d.components.markerObjs={};if(h&&h.length){if(p&&p.length)for(n=p.length;n;n-=1)(c=(r=p[n-1]).id.toLowerCase())&&(k[c]=r);for(n=h.length;n--;)(c=(r=h[n]).id&&r.id.toLowerCase())&&((e=r.value)!==s&&""!==e&&(e=parseFloat(e)),(i=(o=t._initializeMarkerItem(c,r,null,u)).config.options.shapeid)&&"string"==typeof i&&(i=i.toLowerCase()),l=(a=o.config).options,a.cleanValue=y.getCleanValue(e),null!==a.cleanValue?a.formattedValue=y.dataLabels(e):a.formattedValue=s,a.fillColor=(0,f.pluck)(l.fillcolor,l.color,m.fillColor),a.fillAlpha=(0,f.pluck)(l.fillalpha,l.alpha,m.fillAlpha),a.fillRatio=(0,f.pluck)(l.fillratio,m.fillRatio),a.fillAngle=(0,f.pluck)(l.fillangle,m.fillAngle),a.borderThickness=(0,f.pluckNumber)(l.borderthickness,m.borderThickness),a.borderColor=(0,f.pluck)(l.bordercolor,m.borderColor),a.borderAlpha=(0,f.pluck)(l.borderalpha,m.borderAlpha),a.labelPadding=l.labelpadding||m.labelPadding,a.fontColor=(0,f.pluck)(l.labelcolor,b.fontColor),a.labelBgColor=(0,f.pluck)(l.labelbgcolor,b.labelBgColor)||v,a.labelBorderColor=(0,f.pluck)(l.labelbordercolor,b.labelBorderColor)||v,r.__hideMarker&&(o._isHidden=!0),i&&(o.shapeObj=k[i]),C[c]=o)}},n.defineMarkersNShapes=function(){var e,n,o,r,i,a,l,c,d=this,u=d.getFromEnv("chart"),g=u.jsonData.markers,h=g.definition,p=this.getFromEnv("number-formatter"),m=u.config.markerOpts,b=m.dataLabels.style,v=N(h)||{},y=N(g.application)||{},k=g.shapes,C=d.components.shapeObjs=d.components.shapeObjs||(d.components.shapeObjs={}),x=d.components.markerObjs=d.components.markerObjs||(d.components.markerObjs={}),w={},S={};if(h&&h.length){for(r in C)w[r]=!1;for(r in x)S[r]=!1;if(k&&k.length)for(r=k.length;r;r-=1)(c=(a=k[r-1]).id.toLowerCase())&&(C[c]=a,w[c]=!0);for(c in v)a=v[c],i=x[c]=t._initializeMarkerItem(c,a,y[c],u),S[c]=!0,l=i.config.options.shapeid,n=i.config,o=a.value,n.cleanValue=p.getCleanValue(o),e=n.options,null!==n.cleanValue?n.formattedValue=p.dataLabels(o):n.formattedValue=s,n.fillColor=(0,f.pluck)(e.fillcolor,e.color,m.fillColor),n.fontColor=(0,f.pluck)(e.labelcolor,b.fontColor),n.fillAlpha=(0,f.pluck)(e.fillalpha,e.alpha,m.fillAlpha),n.fillRatio=(0,f.pluck)(e.fillratio,m.fillRatio),n.fillAngle=(0,f.pluck)(e.fillangle,m.fillAngle),n.borderThickness=(0,f.pluckNumber)(e.borderthickness,m.borderThickness),n.borderColor=(0,f.pluck)(e.bordercolor,m.borderColor),n.borderAlpha=(0,f.pluck)(e.borderalpha,m.borderAlpha),n.labelPadding=e.labelpadding||m.labelPadding,n.options.tooltext=(0,f.pluck)(e.tooltext,m.tooltext),n.link=e.link,l&&(i.shapeObj=C[l.toLowerCase()]);for(r in w)w[r]||delete C[r];for(r in x)S[r]||delete x[r]}},t.getMarkerRadiusLimits=function(e,t,n,o){var r,i,a=S(e,t),l=.02*a,s=.07*a;return r=parseFloat(o),i=parseFloat(n),isNaN(r)||isNaN(i)?isNaN(r)?isNaN(i)?{min:l,max:s}:{min:parseInt(i/10,10),max:i}:{min:r,max:10*r}:r<i?{min:r,max:i}:{min:i,max:r}},n.getDataLimits=function(){var e=this.config;return{min:e.min,max:e.max}},t._initializeMarkerItem=function(e,t,n){var o,r={},i=r.config;return i||(i=r.config={}),i.id=e,i.definition=t,i.application=n,i.hasValue=null,i.value=null,i.options=null,i.label=null,i.markerShape=null,i.markerLabel=null,i.drawOptions={shape:null,label:null},i.drawComplete=!1,o=r.config.options=(0,f.extend2)({},i.definition),i.dataEnabled?isNaN(o.value)||""===o.value||(r.value=parseFloat(o.value),r.hasValue=!0):(i.applyAll||n)&&(i.options=(0,f.extend2)(o,i.application)),r},n.configureConnectors=function(){var e,t,n,o,r,i,a,l,s,c,d,u,g,h,p=this,m=p.getFromEnv("chart"),b=p.getChildren("mapAnnotations")[0],C=m.jsonData,x=p.components,w=C.markers||{},S=w.connector||w.connectors||[],L=x.markerObjs,F=S.length,T=p.components.connectors,E=function(e){return function(t){var n=this.data("unfilteredConfig");n.hoverEffect&&b.update(this.getId(),n._hoverAttrs),m.fireChartInstanceEvent("connectorrollover",e,t)}},N=function(e){return function(t){var n=this.data("unfilteredConfig");n.hoverEffect&&b.update(this.getId(),n._defaultAttrs),m.fireChartInstanceEvent("connectorrollout",e,t)}},A=function(e){return function(t){m.fireChartInstanceEvent("connectorClick",e,t)}},I=m.config.connectorOpts,_={};for(T=p.components.connectors=[],h=0;h<F;h++)((g=S[h]).from||g.to)&&(t=L[g.from.toLowerCase()],n=L[g.to.toLowerCase()],t&&n&&(o=S[h].label,!(_=T[h])&&(_=T[h]={}),!_.config&&(e=_.config={}),!_.graphics&&(_.graphics={}),(e=_.config=(0,f.extend2)({},g)).fromMarker=t,e.toMarker=n,e.link=g.link,e.showTooltip=(0,f.pluckNumber)(g.showtooltip,I.showTooltip),r=e.tooltext=e.showTooltip?(0,f.pluck)(g.tooltext,I.tooltext):v,i=e.thickness=(0,f.pluck)(g.thickness,I.thickness),a=e.color=(0,f.pluck)(g.color,I.color),l=e.alpha=(0,f.pluck)(g.alpha,I.alpha),e.hoverEffect=(0,f.pluckNumber)(g.showhovereffect,I.showHoverEffect),s=(0,f.pluck)(g.hovercolor,I.hoverColor,a),c=(0,f.pluck)(g.hoveralpha,I.hoverAlpha,l),d=(0,f.pluck)(g.hoverthickness,I.hoverThickness,i),e.dashed=(0,f.pluck)(g.dashed,I.dashed),e.dashLen=(0,f.pluckNumber)(g.dashlen,I.dashlen),e.dashGap=(0,f.pluckNumber)(g.dashgap,I.dashgap),r&&(e.tooltext=r=(0,f.parseUnsafeString)((0,f.parseTooltext)(r,[3,40,41,42,43],{label:o,fromId:t.config.definition.id,toId:n.config.definition.id,fromLabel:t.config.definition.label,toLabel:n.config.definition.label},undefined),!1)),e.eventArgs={fromMarkerId:t.config.id,toMarkerId:n.config.id,label:o},e._hoverAttrs={color:s,alpha:c,thickness:d},e._defaultAttrs={color:a,alpha:l,thickness:i},e.type="line",e.onclick=A(e.eventArgs),e.onmouseover=E(e.eventArgs),e.onmouseout=N(e.eventArgs),o&&(!(u=_.labelConfig)&&(u=_.labelConfig={}),u.type="text",u.text=o,u.align=k,u.valign=y,u.font=I.font,u.fillcolor=(0,f.pluck)(g.labelcolor,I.fontColor),u.bgcolor=(0,f.pluck)(g.labelbgcolor,I.labelBgColor),u.bordercolor=(0,f.pluck)(g.labelbordercolor,I.labelBorderColor),u.tooltext=e.tooltext)))},n.draw=function(){var e,t,n,o,r,i,a,l,s=this,c=s.getFromEnv("chart"),d=s.config,u=s.getChildren("mapAnnotations")[0],g=s.components.markerObjs,h=c.config,p=h.markerOpts,f=h.scalingParams,m=c.config.annotationConfig,v=[],y=[],k={},C={};for(r in u.destroy(),s.createContainer(),s._drawConnectors(),s.imageLoadCount=0,s.imageCount=0,d.autoScale=p.autoScale?f.sFactor:1,g)e=null,(o=(t=g[r]).config).conIsHidden||(e=this._drawMarkerItem(t)),e&&(C[r]=e,o._annotationIndex=v.length,k[r]=t,e.markerShape&&(n=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===e.markerShape.type?0:1},e.markerShape),v.push(n)),e.markerLabel&&(n=Object.assign({animationLabel:"markerItem",id:e.markerShape.id},e.markerLabel),y.push(n)));for(r in l=u.addGroup(Object.assign(m,{id:"markers",fillalpha:"100",items:v,scaleimages:1}),s),a=u.addGroup(Object.assign(m,{id:"markerLabels",items:y,scaleimages:1}),s),s.components.markerGroup=l,s.components.markerLabelGroup=a,i=0,g)C[r]&&((t=g[r]).markerShape=l.retrieveItem(v[i].id),t.markerShape.data("unfilteredConfig",v[i]),C[r].markerLabel&&(t.markerLabel=a.retrieveItem(v[i].id),t.markerLabel.data("unfilteredConfig",y[i])),i++);s.addJob("buildKdtree",s._buildKdTree.bind(s),b.priorityList.kdTree)},n._buildKdTree=function(){var e,t,n=this,o=n.components.kdArrayMap,r=n.components.markerGroup,i=[],a=r&&r.items,l=a&&a.length||0;for(t=0;t<l;t++)o[e=a[t].config.id]&&i.push(o[e]);n.components.kDTree||(n.components.kDTree=new u.default(!0)),n.components.kDTree._setSearchLimit(1/0,1/0),n.components.kDTree.buildKdTree(i)},n._drawMarkerItem=function(e){var t,n,o,r,i,a,l,c,d,u,g,h,p,m,b,y,k,w,S=this,L=S.getFromEnv("chart"),F=L.config,T=S.config,E=F.scalingParams,N=e.config,A=N.options,I=N.definition,_=F.markerOpts,P=_.dataLabels.style,O=A.shapeid,M=A.scale||1,R=A.label||v,B=L.config.scalingParams.scaleFactor*L.config.baseScaleFactor,D=(A.labelpos||"top").toLowerCase(),G=N.formattedValue===s?s:N.formattedValue,z=A.tooltext||_.tooltext,V=(0,f.pluckNumber)(I.radius,N.radius,_.radius)*M*T.autoScale||1e-4,W=N.fillColor,j=N.fillAlpha,H=N.fillRatio,X=N.fillAngle,Y=N.borderThickness,K=N.borderColor,U=N.borderAlpha,J=S.getChildren("mapAnnotations")[0],Q=S.components.kdArrayMap||(S.components.kdArrayMap={}),q=e.config.id;if(N.autoScale=_.autoScale?B:1,O)return z=z?(0,f.parseUnsafeString)((0,f.parseTooltext)(z,[1,2,3],{formattedValue:G,label:R},A),!1):G?R+_.tooltipSepChar+G:R,G!==s&&null!==G?R=R+_.labelSepChar+G:isNaN(M)?M=1:M<0?M=0:M>5&&(M=5),(0,f.extend2)(A,{x:A.x&&A.x.toString(),y:A.y&&A.y.toString(),fillcolor:W,fillalpha:j,fillratio:H,fillangle:X,borderthickness:Y,bordercolor:K,borderalpha:U,hovereffect:(0,f.pluck)(_.showHoverEffect),radius:V&&V.toString(),link:A.link,showshadow:(0,f.pluckNumber)(A.showshadow,N.shadow),_markerLabel:R,_markerId:A.id,id:(A.id+v).toLowerCase()}),delete A.tooltext,N.tooltext=!!_.showTooltip&&z,p=Number(A.x)*E.sFactor+E.translateX,m=Number(A.y)*E.sFactor+E.translateY,V=A.radius,"triangle"===O?((0,f.extend2)(A,{type:"polygon",sides:3,startangle:_.startAngle}),w=C,k=3):"diamond"===O?((0,f.extend2)(A,{type:"polygon",sides:4,startangle:_.startAngle}),w=C,k=4):"arc"===O?(y=.6*V,(0,f.extend2)(A,{type:"arc",startangle:0,endangle:360,innerradius:y}),w="arc"):"circle"===O?(A.type=x,w=x):(g=S.getShapeArgs.call(e),_.dataEnabled&&_.valueToRadius&&A.radius!==s?delete g.radius:(!g.radius&&(g.radius=_.radius),g.radius*=M*N.autoScale),(0,f.extend2)(A,g),A.id=A._markerId&&A._markerId.toLowerCase(),y=g.innerradius,g.radius&&(V=g.radius),w=g.type&&g.type.toLowerCase(),k=g.sides,(V=Number(V))&&y&&V<y&&(h=V,A.radius=V=y,A.innerradius=y=h)),A.type=A.type&&A.type.toLowerCase(),(0,f.extend2)(A,{hoverfillcolor:(0,f.pluck)(A.fillhovercolor,_.hoverFillColor,A.fillcolor),hoverfillalpha:(0,f.pluck)(A.fillhoveralpha,_.hoverFillAlpha,A.fillalpha),hoverfillratio:(0,f.pluck)(A.fillhoverratio,_.hoverFillRatio,A.fillratio),hoverfillangle:(0,f.pluck)(A.fillhoverangle,_.hoverFillAngle,A.fillangle),hoverborderthickness:(0,f.pluckNumber)(A.borderhoverthickness,_.hoverBorderThickness,A.borderthickness),hoverbordercolor:(0,f.pluck)(A.borderhovercolor,_.hoverBorderColor,A.bordercolor),hoverborderalpha:(0,f.pluck)(A.borderhoveralpha,_.hoverBorderAlpha,A.borderalpha)}),A._hoverattrs={fillalpha:A.hoverfillalpha,fillcolor:A.hoverfillcolor,fillangle:A.hoverfillangle,fillratio:A.hoverfillratio,borderThickness:"0"!==A.showborder?A.hoverborderthickness:0,borderColor:A.hoverbordercolor,borderAlpha:A.hoverborderalpha},A._defaultattrs={fillalpha:A.fillalpha,fillcolor:A.fillcolor,fillangle:A.fillangle,fillratio:A.fillratio,borderThickness:"0"!==A.showborder?A.borderthickness:0,borderColor:A.bordercolor,borderAlpha:A.borderalpha},"image"===A.type?(A.borderthickness=A.borderthickness||0,A.onload=function(t){var n=t.width,o=t.height;b={},A=this.config,p=(Number(A.derivedX)-n/(2*E.sFactor))*E.sFactor,m=(Number(A.derivedY)-o/(2*E.sFactor))*E.sFactor,(b=Q[q]||(Q[q]={})).x=p+E.translateX,b.y=m+E.translateY,b.element=e,b.shapeInfo={type:"rect",width:n,height:o},n&&o&&J.update(this.getId(),{x:p,y:m,width:n,height:o,autoscale:0}),S.imageLoadCount++,S.imageLoadCount===S.imageCount&&S._buildKdTree()},A.onerror=function(){S.imageLoadCount++,S.imageLoadCount===S.imageCount&&S._buildKdTree()},S.imageCount++):((b=Q[q]||(Q[q]={})).x=p,b.y=m,b.element=e,b.shapeInfo={type:w,sides:k,radius:Number(V)+A.borderthickness/2,innerradius:y}),N.drawOptions.shape=A,_.showLabels?(u=A.labelpadding||_.labelPadding,n=(t=S._getLabelOptions(D,u,A)).align,o=t.valign,r=N._labelBaseWidth,i=N._labelBaseHeight,a=N._labelXOffset,l=N._labelYOffset,(c=_.labelWrapWidth?_.labelWrapWidth:S.getWrapWidth[n](r,Number(t.x)+a))>u&&(c-=u),(d=_.labelWrapHeight?_.labelWrapHeight:S.getWrapHeight[o](i,Number(t.y)+l))>u&&(d-=u),N.drawOptions.label=(0,f.extend2)({type:"text"},{text:R,tooltext:A.tooltext,x:t.x,y:t.y,align:n,valign:t.valign,wrap:1,wrapwidth:c,wrapheight:d,fontsize:P.fontSize/E.sFactor,font:P.fontFamily,color:N.fontColor,bgcolor:N.labelBgColor||v,bordercolor:N.labelBorderColor||v}),{markerShape:A,markerLabel:N.drawOptions.label}):{markerShape:A}},n.highlightPoint=function(e,t){var n=e.element,o=this,r=t.originalEvent,i=o.getFromEnv("chart"),a=o.getFromEnv("toolTipController"),l=o.config.currentToolTip,s=i.config.lastHoveredPoint;s&&s!==e&&(s&&o.hoverOutFn(s.element),i.config.lastHoveredPoint=null,a.hide(l)),!1!==e&&("click"===t.type||"touchstart"===t.type?(i.config.lastHoveredPoint!==e&&o.hoverFn(n),o.clickFn(t,n)):"mousemove"===t.type&&i.config.lastHoveredPoint!==e&&o.hoverFn(n),n.config.tooltext&&(l?a.draw(r,n.config.tooltext,l):l=o.config.currentToolTip=a.draw(r,n.config.tooltext)),i.config.lastHoveredPoint=e)},n._drawConnectors=function(){var e,t,n,o,r,i,a,l,s,c,d,u,g,h=this,p=h.getFromEnv("chart"),f=p.config.annotationConfig,m=h.components.connectors||(h.components.connectors=[]),b=m.length,v=p.config.scalingParams,y=p.config.connectorOpts,k=y.showLabels,C=h.getChildren("mapAnnotations")[0],x=[],w=[],S=[],L={};for(S.push({id:"connectorLabels",fillalpha:"100",items:w}),S.push({id:"connectors",fillalpha:"100",items:x}),n=0;n<b;n++)m[n]&&(L[n]=!0,s=m[n].config.fromMarker.config,c=m[n].config.toMarker.config,r=s.options.x,i=s.options.y,a=c.options.x,l=c.options.y,m[n].config.x=r,m[n].config.y=i,m[n].config.tox=a,m[n].config.toy=l,g=Object.assign({animationLabel:"markerItem"},m[n].config),x.push(g),m[n].labelConfig&&k&&(m[n].labelConfig.x=((Number(r)+Number(a))/2).toString(),m[n].labelConfig.y=((Number(i)+Number(l))/2).toString(),m[n].labelConfig.fontsize=y.fontSize/(v.scaleFactor*p.config.baseScaleFactor),g=Object.assign({animationLabel:"markerItem"},m[n].labelConfig),w.push(g)));for(d=C.addGroup(Object.assign(f,S[1]),h),u=C.addGroup(Object.assign(f,S[0]),h),n=0,o=0;n<b;n++)L[n]&&((e=d.items[o])&&(e.data("unfilteredConfig",x[o]),e.addEventListener("fc-mouseover",m[n].config.onmouseover),e.addEventListener("fc-mouseout",m[n].config.onmouseout),e.addEventListener("fc-click",m[n].config.onclick)),m[n].labelConfig&&k&&(t=u.items[o])&&t.data("unfilteredConfig"),o++)},n.getShapeArgs=function(){var e,t=this.config,n=(0,f.extend2)({},this.shapeObj);return t.autoScale=1,n?("polygon"===n.type?n.sides<3?n.type=x:n.startangle=t.startAngle:"arc"===n.type&&(e=(n.radius||t.markerRadius)*t.autoScale,n.radius=e,n.innerradius=n.innerradius&&n.innerradius*t.autoScale||.6*e),n):null},n._getLabelOptions=function(e,t,n,o,r){var i,a,l,c=e&&e.toLowerCase();return this.getLabelAlignment[c]||(c="center"),a=Number(n.x),l=Number(n.y),i=o===s||r===s?n.radius||0:/^(top|bottom)$/gi.test(c)&&.5*r||/^(left|right)$/gi.test(c)&&.5*o||0,i=Number(i)+Number(t),this.getLabelAlignment[c](a,l,i)},n.addMarkerItem=function(e){var n,o,r,i,a,l,c,d,u=this,g=u.getFromEnv("chart"),h=e,p=u.components.markerObjs,m=u.components.shapeObjs,b=u.components.markerGroup,v=u.components.markerLabelGroup,y=u.getChildren("mapAnnotations")[0],k=u.getFromEnv("number-formatter"),C=g.config.markerOpts;if(d=h.id.toLowerCase()){if(p[d])return;delete h.value,u.imageLoadCount=0,(n=t._initializeMarkerItem(d,h,null)).dataset=u,c=n.config.options.shapeid,i=n.config,l=h.value,i.cleanValue=k.getCleanValue(l),o=i.options,null!==i.cleanValue?i.formattedValue=k.dataLabels(l):i.formattedValue=s,i.fillColor=(0,f.pluck)(o.fillcolor,o.color,C.fillColor),i.fillAlpha=(0,f.pluck)(o.fillalpha,o.alpha,C.fillAlpha),i.fillRatio=(0,f.pluck)(o.fillratio,C.fillRatio),i.fillAngle=(0,f.pluck)(o.fillangle,C.fillAngle),i.borderThickness=(0,f.pluckNumber)(o.borderthickness,C.borderThickness),i.borderColor=(0,f.pluck)(o.bordercolor,C.borderColor),i.borderAlpha=(0,f.pluck)(o.borderalpha,C.borderAlpha),i.labelPadding=o.labelpadding||C.labelPadding,i.options.tooltext=(0,f.pluck)(o.tooltext,C.tooltext),i.link=o.link,c&&(n.shapeObj=m[c&&c.toLowerCase()]),p[d]=n,r=u._drawMarkerItem(n),b&&v&&(r.markerShape&&(a=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===r.markerShape.type?0:1},r.markerShape),n.markerShape=y.addItem(b.getId(),a,u),n.markerShape.data("unfilteredConfig",a)),r.markerLabel&&(a=Object.assign({animationLabel:"markerItem"},r.markerLabel),n.markerLabel=y.addItem(v.getId(),a,u),n.markerLabel.data("unfilteredConfig",a))),u._buildKdTree()}},n.updateMarkerItem=function(e,t){var n,o,r,i,a=this,l=a.getFromEnv("chart"),s=a.getChildren("mapAnnotations")[0],c=a.components.markerObjs,d=l.config.markerOpts,u={},g=c[e];if(g){for(o in n=g.config.options,(0,f.extend2)(n,t),a.imageLoadCount=0,r=g.config,t)u[o.toLowerCase()]=t[o]&&t[o].toString();r.fillColor=(0,f.pluck)(u.fillcolor,u.color,d.fillColor),r.fillAlpha=(0,f.pluck)(u.fillalpha,u.alpha,d.fillAlpha),r.fillRatio=(0,f.pluck)(u.fillratio,d.fillRatio),r.fillAngle=(0,f.pluck)(u.fillangle,d.fillAngle),r.borderThickness=(0,f.pluckNumber)(u.borderthickness,d.borderThickness),r.borderColor=(0,f.pluck)(u.bordercolor,d.borderColor),r.borderAlpha=(0,f.pluck)(u.borderalpha,d.borderAlpha),r.labelPadding=u.labelpadding||d.labelPadding,r.options.tooltext=(0,f.pluck)(u.tooltext,d.tooltext),r.link=u.link,i=a._drawMarkerItem(g).markerShape,a._buildKdTree(),s.update(e,i)}},n.createContainer=function(){var e=this,t=e.getLinkedParent(),n=e.getFromEnv("animationManager"),o=t.getChildContainer("layer1");!e.getChildContainer("abovePlotGroup")&&e.addChildContainer("abovePlotGroup",n.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:o,component:e,label:"group"})),!e.getChildContainer("belowPlotGroup")&&e.addChildContainer("belowPlotGroup",n.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:o,component:e,label:"group"}))},n._removeMarkerItem=function(e){var t,n,o=this,r=o.components,i=r.markerObjs,a=i[e],l=r.kdArrayMap,s=o.getChildren("mapAnnotations")[0];a&&(t=a.markerShape,n=a.markerLabel,t&&s.destroy(t.getId()),n&&s.destroy(n.getId()),delete l[e],o._buildKdTree()),delete i[e]},n.getElement=function(e){if(this.components.kDTree)return this.components.kDTree.getNeighbour(e)},t}(d.default);a=V})),n.register("03SjN",(function(n,o){var r,i;t(n.exports),e(n.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e})),r=!0,i=void 0;var a,l=function(e,t,n,o,r){return Math.pow(n-e,2)+Math.pow(o-t,2)<=Math.pow(r,2)},s=Math.PI,c=Math.cos,d=Math.sin,u=Math.max,g=Math.min,h=s/180,p=function(e,t,n,o,r,i){var a,l,s;return a=(o-t)*(r-n),l=(n-e)*(i-o),isNaN(a)&&(a=0),isNaN(l)&&(l=0),0===(s=a-l)?0:s>0?1:2},f=function(e,t,n,o,r,i){return n<=u(e,r)&&n>=g(e,r)&&o<=u(t,i)&&o>=g(t,i)},m=function(e,t,n,o,r,i,a,l){var s=p(e,t,n,o,r,i),c=p(e,t,n,o,a,l),d=p(r,i,a,l,e,t),u=p(r,i,a,l,n,o);return s!==c&&d!==u||(!(0!==s||!f(e,t,r,i,n,o))||(!(0!==c||!f(e,t,a,l,n,o))||(!(0!==d||!f(r,i,e,t,a,l))||!(0!==u||!f(r,i,n,o,a,l)))))},b=function(e,t,n,o,r,i,u){var g,b,v,y,k,C,x,w=0,S=!1;if(l(e,t,n,o,r)&&i>=3){for(b=u===a?.5*s:u%360*h,x=2*s/i,v=n+r*c(-b),C=o+r*d(-b),g=0;g<i;g++){if(y=n+r*c(-(b+=x)),k=o+r*d(-b),m(v,C,y,k,e,t,Infinity,t)){if(0===p(v,C,e,t,y,k))return f(v,C,e,t,y,k);w++}v=y,C=k}S=w%2!=0}return S},v=function(e,t){return!e||e&&t&&t.i>e.i?t:e};var y=function(){function e(e){this.configure(e)}var t=e.prototype;return t.configure=function(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()},t.defaultValidator=function(){var e=this;return function(t){var n=e.mousePoint;return!!(t&&Math.pow((t.x-n.x)/e.xLimit,2)+Math.pow((t.y-n.y)/e.yLimit,2)<=1)}},t.shapeValidator=function(){var e=this;return function(t){var n,o,r,i,a,s,c,d,u=e.mousePoint,g=t&&t.shapeInfo,h=!1,p=u.x,f=u.y;switch(g&&g.type){case"circle":o=g.radius,h=l(p,f,t.x,t.y,o);break;case"arc":n=g.innerradius,o=g.radius,h=!l(p,f,t.x,t.y,n)&&l(p,f,t.x,t.y,o);break;case"polygon":o=g.radius,i=g.startAngle,r=g.sides,h=b(p,f,t.x,t.y,o,r,i);break;case"rect":case"rectangle":a=t.x,c=t.y,s=a+(g.width||0),d=c+(g.height||0),h=p>=a&&p<=s&&f>=c&&f<=d;break;case"default":h=!1}return h}},t.buildKdTree=function(e){return this.kdTree=function(e){"use strict";var t,n,o,r=e,i=r&&r[0]&&r[0].r||5,a=Math.max,l=Math.floor,s=Math.sqrt,c=Math.min,d=Math.log,u=Math.exp,g=Math.pow;function h(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}for(n=function(e,t,o,r){for(var i,g,p,f,m,b,v,y,k,C,x=o,w=r;w>x;){for(w-x>600&&(g=t-x+1,p=d(i=w-x+1),f=.5*u(2*p/3),m=.5*s(p*f*(i-f)/i)*(g-i/2<0?-1:1),b=a(x,l(t-g*f/i+m)),v=c(w,l(t+(i-g)*f/i+m)),n(e,t,b,v)),y=e[t],k=x,C=w,h(e,x,t),e[w].x>y.x&&h(e,x,w);k<C;){for(h(e,k,C),k++,C--;e[k].x<y.x;)k++;for(;e[C].x>y.x;)C--}e[x].x===y.x?h(e,x,C):h(e,++C,w),C<=t&&(x=C+1),t<=C&&(w=C-1)}},o=function(e,t,n,r){for(var i,g,p,f,m,b,v,y,k,C,x=n,w=r,S=e;w>x;){for(w-x>600&&(g=t-x+1,p=d(i=w-x+1),f=.5*u(2*p/3),m=.5*s(p*f*(i-f)/i)*(g-i/2<0?-1:1),b=a(x,l(t-g*f/i+m)),v=c(w,l(t+(i-g)*f/i+m)),o(S,t,b,v)),y=S[t],k=x,C=w,h(S,x,t),S[w].y>y.y&&h(S,x,w);k<C;){for(h(S,k,C),k++,C--;S[k].y<y.y;)k++;for(;S[C].y>y.y;)C--}S[x].y===y.y?h(S,x,C):h(S,++C,w),C<=t&&(x=C+1),t<=C&&(w=C-1)}},t=(r=r||[]).length;t--;)r[t].r>i&&(i=r[t].r),r[t].i=t,r[t].x=+r[t].x,r[t].y=+r[t].y;return{tree:0===r.length?{}:function e(t,r,i,a){var l,s={},c=a?"y":"x";return r===i?(s.point=t[r],s):i-r==1?(t[r][c]>t[i][c]?(s.point=t[r],s.left={point:t[i]}):(s.point=t[i],s.left={point:t[r]}),s):(l=r+i>>1,a?o(t,l,r,i):n(t,l,r,i),s.point=t[l],s.left=e(t,r,l-1,!a),s.right=e(t,l+1,i,!a),s)}(r,0,r.length-1,!1),search:function(e,t,n,o){var r,a,l,c=this.tree,d=o,u=e-i,h=e+i,p=t-i,f=t+i,m=!1,b=0;function v(e,t,n,o){return s(g(e-n,2)+g(t-o,2))}function y(o,r){return"circle"===n?v(o,r,e,t)<=u:o>=u&&o<=h&&r>=p&&r<=f}function k(e,t,n){return e>=t&&e<=n}function C(n){var o=k(e,n.x1,n.x2)&&k(t,n.y1,n.y2),i=v(e,t,n.point.x,n.point.y);if(!r)return r=n,m=o,void(b=i);o?m?n.point.i>r.point.i&&(r=n,m=o,b=i):(r=n,m=o,b=i):m||i<b&&(r=n,m=o,b=i)}function x(o,r){"circle"===n?u=o:(u=e-o||0,h=e+o||0,p=t-r||0,f=t+r||0)}return d=d||{},l=function(e){e&&e.point&&(x(d.rx||e.point.r,d.ry||e.point.r),y(e.point.x,e.point.y)&&C(e),p<=e.point.y&&a(e.left),f>=e.point.y&&a(e.right))},(a=function(e){e&&e.point&&(x(d.rx||e.point.r,d.ry||e.point.r),y(e.point.x,e.point.y)&&C(e),u<=e.point.x&&l(e.left),h>=e.point.x&&l(e.right))})(c),r&&r.point||r}}}(e),this.tree=this.kdTree.tree,this},t.getNeighbour=function(e,t,n){var o=this,r=o.tree,i=o.validatorFn;return o.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,n,e.options):r?o._searchBtwnLimit(r,!0,i):void 0},t._searchBtwnLimit=function(e,t,n){var o,r,i=t?"x":"y",l={x1:e.point.x-e.point.shapeInfo.width,x2:e.point.x+e.point.shapeInfo.width,y1:e.point.y-e.point.shapeInfo.height,y2:e.point.y+e.point.shapeInfo.height},s=t?l.x1:l.y1,c=t?l.x2:l.y2;if((o=e&&e.point&&e.point[i])!==a)return n(e.point)&&(r=e.point),o>=s&&e.left&&(r=v(r,this._searchBtwnLimit(e.left,!t,n))),o<=c&&e.right&&(r=v(r,this._searchBtwnLimit(e.right,!t,n))),r},t._setSearchLimit=function(e,t){this.xLimit=e,this.yLimit=t},e}();y.prototype.constructor=y,i=y})),n.register("jWUfQ",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("ix9Ix")),c=n("1vwRT"),d=n("fEyGJ"),u=n("LZTKL"),g=l(n("781uO")),h=function(e){e.configure&&e.configure()};(0,u.addDep)({name:"mapsAnimation",type:"animationRule",extension:g.default});var p=function(e){function t(){return e.apply(this,arguments)||this}(0,s.default)(t,e);var n=t.prototype;return n.getType=function(){return"group"},n.getName=function(){return"mapGroup"},n.configure=function(){this._mapChildren(h)},n.createContainer=function(){var e,t=this,n=t.getLinkedParent(),o=t.getFromEnv("animationManager"),r=n.getChildContainer();e=r.plotGroup,!t.getChildContainer("plotShadow")&&t.addChildContainer("plotShadow",o.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),!t.getChildContainer("plot")&&t.addChildContainer("plot",o.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"})),!t.getChildContainer("layer0")&&t.addChildContainer("layer0",o.setAnimation({el:"group",attr:{name:"ann-layer0",opacity:1},container:r.abovePlotGroup,component:t,label:"group"})),!t.getChildContainer("layer1")&&t.addChildContainer("layer1",o.setAnimation({el:"group",attr:{name:"ann-layer1",opacity:1},container:r.abovePlotGroup,component:t,label:"group"})),n.config.labelsOnTop?t.getChildContainer("layer0").toFront():t.getChildContainer("layer0").toBack()},n._transformGroup=function(){var e=this,t=this.getFromEnv("chart"),n=t.getFromEnv("chartInstance"),o=e.getFromEnv("animationManager"),r=t.jsonData,i=e.getChildContainer("plot"),a=e.getChildContainer("plotShadow"),l=t.config.scalingParams;i.hide(),a.hide(),t.config.entitiesReady=!1,n.addEventListener("internal.mapdrawingcomplete",(function(t){t.detachHandler(),d.hasSVG&&(n.args.link&&n.args.clickedEntityBox&&r.chart.linkedcharttransition,i&&o.setAnimation({el:i,attr:{transform:l.transformStr},component:e,label:"group"}),a&&o.setAnimation({el:a,attr:{transform:l.transformStr},component:e,label:"group"})),i.show(),a.show()})),t.checkComplete()},n.draw=function(){this.createContainer(),this._transformGroup()},n.getDataLimits=function(e){var t,n=this,o=1/0,r=-1/0,i=0,a=function(e){r=Math.max(r,e.max),o=Math.min(o,e.min)};return n._mapChildren((function(n){n.getState("removed")||!1===n.getState("visible")?e&&(t=n.getDataLimits(e),a(t)):(i++,t=n.getDataLimits(e),a(t))})),i?n.setState("visible",!0):n.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:r,min:o}},t}(c.ComponentInterface);a=p})),n.register("3MtFz",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=function(e){!function(e){var t=e.getChildren("colorManager");if(!e.getFromEnv("dataSource").colorrange)return t&&(t[0].config.legendItemIds=[]),void e.deleteFromEnv("colorManager");if(t)return e.addToEnv("colorManager",t[0]),void t[0].configure();t=new s.default,e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),t.configure()}(e)};var s=l(n("lh7aA"))})),n.register("lh7aA",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("ix9Ix")),c=n("1vwRT"),d=l(n("ekh8K")),u=l(n("2q9Ng")),g=n("fEyGJ"),h="gradient",p="icon";function f(e){var t=e||k;return(0,g.getValidColor)(t)||k}var m,b,v,y="rgba(192,192,192,"+(g.isIE?.002:1e-6)+")",k="#000000",C=((v={}).legendCarpetConf={spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},v.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},v.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}},v.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,g.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},v.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:y,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:y,stroke:"#FFFFFF"}}},v.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(e){b=e.chart},legacyDataParser:function(e,t){var n,o,r,i,a,l,s,c,d,u,h,p,v,y={},k=b.getFromEnv("number-formatter"),C=b.getFromEnv("dataSource"),x=C.data,w=t||{};if(!e)return!1;for("maps"!==b.defaultDatasetType||w.min!==m&&w.max!==m?"HeatMap"!==b.getName()||w.min!==m&&w.max!==m||(w={min:1/0,max:-1/0},C.dataset.forEach((function(e){e.data&&e.data.forEach((function(e){w.min=Math.min(w.min,(0,g.pluckNumber)(e.value,w.min)),w.max=Math.max(w.max,(0,g.pluckNumber)(e.value,w.max))}))}))):(w={min:1/0,max:-1/0},x&&x.forEach((function(e){w.min=Math.min(w.min,(0,g.pluckNumber)(e.value,w.min)),w.max=Math.max(w.max,(0,g.pluckNumber)(e.value,w.min))}))),y.mapByPercent=h=!!(0,g.pluckNumber)(e.mapbypercent,0),n=e.color||[],e.minvalue===m&&(e.minvalue=w.min!==m?h?0:w.min:0),e.maxvalue===m&&(e.maxvalue=w.max!==m?h?100:w.max:100),e.maxvalue!==e.minvalue&&w.min!==1/0&&w.max!==-1/0||(e.minvalue=0,e.maxvalue=100),p=!1,a=0,s=n.length;a<s;a++)if(n[a].maxvalue){p=!0;break}for(p||(n=[]),r=e.code,c=y.colorRange=[],y.gradient=!!(0,g.pluckNumber)(e.gradient,1),n.length?r=f(r):(r?(i=f(r),r=f()):(r=f(),v=r,i=(0,g.getLightColor)(v,1)),n.push({code:i,maxvalue:e.maxvalue,label:m})),function(e){var t,n,o,r=b.getFromEnv("number-formatter");for(t=0,n=e.length;t<n;t++)(o=e[t].maxvalue)&&(e[t].maxvalue=r.getCleanValue(o))}(n),n=n.sort((function(e,t){return e.maxvalue-t.maxvalue})),d=u=e.minvalue&&k.getCleanValue(e.minvalue),u=(d!==m||null!==d)&&(h?d+"%":k.legendValue(d)),c.push({code:(0,g.dehashify)(r),value:d,displayValue:u,label:e.startlabel}),a=0,s=n.length;a<s;a++)l=f((o=n[a]).code||o.color),d=u=o.maxvalue,isNaN(parseInt(d,10))||(u=(d!==m||null!==d)&&(h?d+"%":k.legendValue(d)),c.push({code:(0,g.dehashify)(l),value:d,displayValue:u,label:o.label||o.displayvalue}));return c[c.length-1].label=e.endlabel||o.label,y},getDefaultConf:function(e){return v[e]}}),x=function(e){function t(){var t;return(t=e.call(this)||this).datasource={},t.config.legendItemIds=[],t}(0,s.default)(t,e);var n=t.prototype;return n.configure=function(){var e,t,n=this,o=this.getFromEnv("chart"),r=this.getFromEnv("dataSource").chart.mapbycategory,i=o.config.showLegend,a=o.getChildren("colorRange")&&o.getChildren("colorRange")[0];switch(o.addToEnv("colorManager",n),n.datasource=o.getFromEnv("dataSource"),e=n.datasource.colorrange,a&&a.remove({instant:!0}),i||(n.config.legendItemIds=[]),"maps"===o.defaultDatasetType?e.gradient&&Number(e.gradient)?h:e.color?p:"none":"TreeMap"===o.getName()||e.gradient&&"0"!==e.gradient&&!Number(r)?h:p){case h:C.init({chart:o}),t=C.legacyDataParser(e),(0,g.componentFactory)(o,u.default,"colorRange",1,[t]),a=o.getChildren("colorRange")[0],o.addToEnv("colorRange",a),t||(a._dontPlot=!0),n.config.legendItemIds=[],n._configureGradientLegend(a);break;case"icon":(0,g.componentFactory)(o,d.default,"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:(0,g.pluckNumber)(r,0),defaultColor:"cccccc",numberFormatter:o.getFromEnv("number-formatter")}]),o.addToEnv("colorRange",o.getChildren("colorRange")[0]),i&&n._addLegendItems();break;case"none":o.deleteFromEnv("colorManager"),n.config.legendItemIds=[]}},n._configureGradientLegend=function(e){var t=this,n=t.getFromEnv("chart").getFromEnv("gLegend");n&&(n.setColorRange(e),t.addExtEventListener("rangeUpdated",(function(e,n){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:n,component:"gradientlegend"})}),n))},n._addLegendItems=function(){var e,t,n,o,r,i=this,a=i.config,l=i.getFromEnv("chart"),s=l.getChildren("legend")[0],c=l.getFromEnv("colorRange").colorArr,d=c.length;for(o=0;o<d;o++)r={label:(0,g.pluck)(c[o].label,c[o].displayvalue),datasetObj:c[o],index:o},t=(0,g.getLightColor)(c[o].code,40),e={FCcolor:{color:c[o].code+","+c[o].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},(n=s.getItem(a.legendItemIds[o]))||(a.legendItemIds.push(s.createItem(i)),(n=s.getItem(a.legendItemIds[o])).addEventListener("fc-click",n.itemClickFn)),n.removeLegendState("hidden"),c[o].legendItemId=n&&n.getId(),n.configure(r),n.setStateCosmetics("default",{symbol:{fill:(0,g.toRaphaelColor)(e),rawFillColor:c[o].code}});for(o=d;o<a.legendItemIds.length;o++)s.disposeItem(a.legendItemIds[o]);a.legendItemIds.splice(d)},n.legendInteractivity=function(e){var t=this.getFromEnv("colorRange").colorArr[e.config.index];this.fireEvent("legendUpdate",{legendItem:e,colorObj:t,component:"legend"})},n.getColor=function(e){var t=this;return!Number(t.datasource.chart.mapbycategory)&&Number(t.datasource.colorrange.gradient)?{code:t.getColorByValue(e),label:t.getLabelByValue(e)}:t.getColorObj(e)},n.getValueRatio=function(){return this.getFromEnv("colorRange").getValueRatio()},n.getCumulativeValueRatio=function(){return this.getFromEnv("colorRange").getCumulativeValueRatio()},n.getBoxFill=function(e){return this.getFromEnv("colorRange").getBoxFill(e)},n.getColorByValue=function(e){return this.getFromEnv("colorRange").getColorByValue(e)},n.getColorObj=function(e){return this.getFromEnv("colorRange").getColorObj(e)},n.getLabelByValue=function(e){return this.getFromEnv("colorRange").getLabelByValue(e)},t}(c.ComponentInterface);a=x})),n.register("ekh8K",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s,c=l(n("9Lt1F")),d=l(n("ix9Ix")),u=n("fEyGJ"),g=n("1vwRT"),h=function(e,t){return+e.minvalue==+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue},p=function(e,t,n){var o=e[0],r=e[1],i=e[2],a=o+(t[0]-o)*n,l=r+(t[1]-r)*n,s=i+(t[2]-i)*n;return{hex:(u.COLOR_BLACK+(a<<16|l<<8|s).toString(16)).slice(-6),rgb:[a,l,s]}},f=function(e){function t(){var t;t=e.call(this)||this;var n=(0,c.default)(t);return n.mapByCategory=!1,n.colorArr=[],n.noValidRange=!0,n.sortLegend=!1,t}(0,d.default)(t,e);var n=t.prototype;return n.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this),this.config.defaultObj={code:"CCCCCC",alpha:"100"}},n.getType=function(){return"colorComponent"},n.getName=function(){return"colorBucket"},n.configure=function(e){if(e){var t,n,o,r,i,a,l,c,d,g,p,f=this,m=f.mapByCategory,b=e.numberFormatter,v=e.colorRange||{},y=(0,u.extend2)([],v.color),k=this.getLinkedParent(),C=Math.min(Math.max((0,u.pluckNumber)(f.getFromEnv("dataSource").chart.palette,0)-1,0),4),x=k.defaultPaletteOptions&&k.defaultPaletteOptions.paletteColors[C],w=(0,u.pluckNumber)(b.getCleanValue(v.maxvalue),1/0),S=(0,u.pluckNumber)(b.getCleanValue(v.minvalue),-1/0),L=f.colorArr;if(e.mapByCategory!==s&&(m=f.mapByCategory=!!Number(e.mapByCategory)),(y=m?y.filter((function(e){return e.code||e.color})):y.filter((function(e){return e.minvalue||e.maxvalue}))).forEach((function(e){e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(c=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=c),e.minvalue?e.maxvalue?(g=b.getCleanValue(e.minvalue),d=b.getCleanValue(e.maxvalue),e.rangeLabel=b.dataLabels(g)+"-"+b.dataLabels(d)):(g=b.getCleanValue(e.minvalue),e.maxvalue=d=w,e.rangeLabel=d===1/0?">"+b.dataLabels(g):b.dataLabels(g)+"-"+b.dataLabels(d)):(e.minvalue=g=S,d=b.getCleanValue(e.maxvalue),e.rangeLabel=g===-1/0?"<"+b.dataLabels(d):b.dataLabels(g)+"-"+b.dataLabels(d))})),y.sort(h),y&&(t=y.length)){for(L.length=0,n=0;n<t;n+=1)l=y[n],o=(0,u.pluck)(l.color,l.code,x&&x[n]),r=(0,u.pluck)(l.alpha),a=(0,u.pluck)(l.bordercolor),i=(0,u.pluck)(l.borderalpha,100),d=(0,u.pluckNumber)(l.maxvalue),g=(0,u.pluckNumber)(l.minvalue),p=(0,u.pluck)(l.label,l.displayvalue,l.rangeLabel),(o&&d>=g||m&&p)&&L.push({code:o,alpha:r||"100",oriAlpha:r,maxvalue:d,minvalue:g,label:(0,u.parseUnsafeString)(p),labelId:p.toLowerCase(),bordercolor:a,borderAlpha:i,name:l.name,tllabelfont:l.tllabelfont,tllabelfontsize:l.tllabelfontsize,tllabelfontcolor:l.tllabelfontcolor,trlabelfont:l.trlabelfont,trlabelfontsize:l.trlabelfontsize,trlabelfontcolor:l.trlabelfontcolor,bllabelfont:l.bllabelfont,bllabelfontsize:l.bllabelfontsize,bllabelfontcolor:l.bllabelfontcolor,brlabelfont:l.brlabelfont,brlabelfontsize:l.brlabelfontsize,brlabelfontcolor:l.brlabelfontcolor});f.sortedColorArr=f.colorArr.slice(0)}else f.noValidRange=!0,f.colorArr=[],f.sortedColorArr=[]}},n.getColorObj=function(e){if(e===s)return{outOfRange:!0};var t,n,o,r=this,i=r.sortedColorArr,a=r.gradient?1:0,l=i[a],c=e;if(r.mapByCategory){for(c=(0,u.parseUnsafeString)(c).toLowerCase()||c.toString().toLowerCase();l;){if(l.labelId===c||l.maxvalue>=c&&l.minvalue<=c)return{code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:a,legendItemId:l.legendItemId,tlLabelFont:l.tllabelfont,tlLabelFontSize:l.tllabelfontsize,tlLabelFontColor:l.tllabelfontcolor,trLabelFont:l.trlabelfont,trLabelFontSize:l.trlabelfontsize,trLabelFontColor:l.trlabelfontcolor,blLabelFont:l.bllabelfont,blLabelFontSize:l.bllabelfontsize,blLabelFontColor:l.bllabelfontcolor,brLabelFont:l.brlabelfont,brLabelFontSize:l.brlabelfontsize,brLabelFontColor:l.brlabelfontcolor};l=i[a+=1]}return{outOfRange:!0}}if(r.gradient){if(r.scaleMin<=c&&r.scaleMax>=c){for(;l&&l.maxvalue<c;)l=i[a+=1];return o=(c-l.minvalue)/l.range,{code:p(i[a-1].codeRGB,l.codeRGB,o).hex}}return{outOfRange:!0}}for(;l;){if(c<l.minvalue&&!t&&(n=0===a?{code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:a,name:l.name,label:l.label,outOfRange:!0,bordercolor:l.bordercolor,borderalpha:l.borderAlpha}:{code:i[a-1].code,alpha:i[a-1].alpha||"100",oriAlpha:i[a-1].oriAlpha,seriesIndex:a,name:i[a-1].name,label:i[a-1].label,outOfRange:!0,bordercolor:i[a-1].bordercolor,borderalpha:i[a-1].borderAlpha}),c>l.maxvalue&&a===i.length-1&&(n={code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:a,name:l.name,label:l.label,outOfRange:!0,bordercolor:l.bordercolor,borderalpha:l.borderAlpha}),l.maxvalue>c&&l.minvalue<=c?n={code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:a,name:l.name,label:l.label,bordercolor:l.bordercolor,borderalpha:l.borderAlpha}:c===l.maxvalue&&(t={code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:a,name:l.name,label:l.label,bordercolor:l.bordercolor,borderalpha:l.borderAlpha,tlLabelFont:l.tllabelfont,tlLabelFontSize:l.tllabelfontsize,tlLabelFontColor:l.tllabelfontcolor,trLabelFont:l.trlabelfont,trLabelFontSize:l.trlabelfontsize,trLabelFontColor:l.trlabelfontcolor,blLabelFont:l.bllabelfont,blLabelFontSize:l.bllabelfontsize,blLabelFontColor:l.bllabelfontcolor,brLabelFont:l.brlabelfont,brLabelFontSize:l.brlabelfontsize,brLabelFontColor:l.brlabelfontcolor}),a===i.length-1&&t)return t;if(n)return n.tlLabelFont=l.tllabelfont,n.tlLabelFontSize=l.tllabelfontsize,n.tlLabelFontColor=l.tllabelfontcolor,n.trLabelFont=l.trlabelfont,n.trLabelFontSize=l.trlabelfontsize,n.trLabelFontColor=l.trlabelfontcolor,n.blLabelFont=l.bllabelfont,n.blLabelFontSize=l.bllabelfontsize,n.blLabelFontColor=l.bllabelfontcolor,n.brLabelFont=l.brlabelfont,n.brLabelFontSize=l.brlabelfontsize,n.brLabelFontColor=l.brlabelfontcolor,n;l=i[a+=1]}return i.length?void 0:{outOfRange:!0}},n.getColorRangeArr=function(e,t){var n,o,r,i,a,l,s,c,d=[],g=e,h=t;if(!this.defaultAsigned&&(g>h&&(n=g,g=h,h=n),g<h&&(i=this.getColorObj(g),l=this.getColorObj(h),i&&l))){for(a=g,o=i.seriesIndex,r=l.seriesIndex;o<=r;o+=1)(s=(0,u.extend2)({},this.colorArr[o])).minvalue!==a&&(s.minvalue=a),d.push(s),c=s,a=s.maxvalue;c&&(c.maxvalue=h)}return d},t}(g.ComponentInterface);a=f})),n.register("2q9Ng",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s=l(n("ix9Ix")),c=n("1vwRT"),d=n("fEyGJ"),u=function(e){function t(){var t;return(t=e.call(this)||this).colorRange={},t.valueRatio={},t.data={},t.mapByPercent=d.UNDEF,t}(0,s.default)(t,e);var n=t.prototype;return n.getType=function(){return"colorComponent"},n.getName=function(){return"gradientColorRange"},n.configure=function(e){if(e){var t,n,o,r=this;for(r.data=e,r.appender=d.BLANKSTRING,o=r.colorRange=e.colorRange.sort((function(e,t){return e.value-t.value})),r.valueRatio=d.UNDEF,r.values=[],t=0,n=o.length;t<n;t++)r.values.push(o[t].value)}},n.getValueRatio=function(){var e,t,n=this.colorRange,o=n.length,r=this.valueRatio,i=n[o-1].value,a=n[0].value,l=i-a,s=0;if(r)return r;for(r=this.valueRatio=[],e=0;e<o;e++)t=(n[e].value-a)/l,r.push(100*(t-s)),s=t;return r},n.getCumulativeValueRatio=function(){var e,t,n=this.colorRange,o=n.length,r=n[0].value,i=n[o-1].value,a=[];for(t=0;t<o;t++)e=n[t],a.push((e.value-r)/(i-r)*100);return a},n.getBoxFill=function(e){var t,n,o,r=this.colorRange,i=r.length,a=[];for(o=e?90:0,n=0;n<i;n++)t=r[n],a.push(t.code);return(0,d.toRaphaelColor)({FCcolor:{alpha:"100,100,100",angle:o,color:a.join(","),ratio:this.getValueRatio().join(",")}})},n.getColorByValue=function(e){var t,n,o,r,i=this.values,a=this.colorRange;if(e!==d.UNDEF&&null!==e){for(n=0,t=i.length;n<t;n++){if(e===i[n]){r=a[n].code;break}if(!n&&e<i[n]){o=!0;break}if(n===t-1&&e>i[n]){o=!0;break}if(e>i[n]&&e<i[n+1]){l=a[n],s=a[n+1],c=e,u=void 0,g=void 0,h=void 0,p=void 0,g=l.value,h=(0,d.HEXtoRGB)(l.code),p=(0,d.HEXtoRGB)(s.code),u=s.value-g,r=(0,d.RGBtoHex)([Math.round(h[0]+(p[0]-h[0])/u*(c-g)),Math.round(h[1]+(p[1]-h[1])/u*(c-g)),Math.round(h[2]+(p[2]-h[2])/u*(c-g))]);break}}var l,s,c,u,g,h,p;if(!o)return r}},n.getLabelByValue=function(e){var t,n,o,r,i=this.values,a=this.colorRange;if(e!==d.UNDEF&&null!==e){for(n=0,t=i.length;n<t;n++){if(e===i[n]){r=a[n].label;break}if(!n&&e<i[n]){o=!0;break}if(n===t-1&&e>i[n]){o=!0;break}if(e>i[n]&&e<i[n+1]){r=a[n].label;break}}if(!o)return r}},t}(c.ComponentInterface);a=u})),n.register("e42zm",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=function(e){!function(e){var t,n=e.getFromEnv("dataSource").colorrange,o=e.getFromEnv("dataSource").chart.mapbycategory,r="maps"===e.defaultDatasetType,i="TreeMap"===e.getName(),a=e.getFromEnv("legend"),l=e.getFromEnv("gLegend");t=n&&e.config.showLegend?r?n.gradient&&Number(n.gradient)?g:n.color?h:u:i?n.gradient&&"0"!==n.gradient?g:u:n.gradient&&"0"!==n.gradient&&!Number(o)?g:h:u;switch(t){case"gradient":e.deleteFromEnv("legend"),a&&a.remove(),(0,s.componentFactory)(e,c.default,"gLegend",1),(l=e.getChildren("gLegend")[0]).configure(),e.addToEnv("gLegend",l);break;case"icon":e.deleteFromEnv("gLegend"),l&&l.remove(),(0,s.componentFactory)(e,d.default,"legend",1,{showLegend:!0}),(a=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",a);break;case"none":e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),l&&l.remove(),a&&a.remove()}}(e)};var s=n("fEyGJ"),c=l(n("92dJb")),d=l(n("38kIM")),u="none",g="gradient",h="icon"})),n.register("92dJb",(function(o,r){var i,a;t(o.exports),e(o.exports,"__esModule",(function(){return i}),(function(e){return i=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e}));var l=n("iQtbn");i=!0,a=void 0;var s,c,d,u,g,h=l(n("9Lt1F")),p=l(n("ix9Ix")),f=n("fEyGJ"),m=n("1vwRT"),b={},v="rgba(192,192,192,"+(f.isIE?.002:1e-6)+")",y=!1,k=!0,C=",",x="#000000",w="absolute",S="top",L="bottom",F="left",T="right",E="GL_VALUES",N={}.hasOwnProperty,A="M",I="L";function _(e,t){return function e(t,n){var o,r;for(r in t)N.call(t,r)&&(o=t[r],n[r]===s?n[r]=o:"object"==typeof o&&null!==o&&e(o,n[r]))}(e,t),t}function P(e){var t=e||x;return(0,f.getValidColor)(t)||x}function O(e){var t,n=e.fontSize+"";return n?(t=n.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function M(e){return!(e!==s&&null!=e&&!isNaN(e))}b.CAPTION="CAPTION",b.LEGEND_BODY="LEGEND_BODY",b.AXIS_LABEL="LEGEND_LABEL",b.LEGEND_AXIS="LEGEND_AXIS",b.RANGE="RANGE",b.AXIS_VALUE="AXIS_VALUE",(g={}).legendCarpetConf={spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},g.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},g.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}},g.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,f.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},g.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:v,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:v,stroke:"#FFFFFF"}}},g.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},c={init:function(e){u=e.chart},legacyDataParser:function(e,t){var n,o,r,i,a,l,c,d,g,h,p,m,b,v={},y=u.getFromEnv("number-formatter");if(!e)return!1;for(v.mapByPercent=p=!!(0,f.pluckNumber)(e.mapbypercent,0),n=e.color||[],e.minvalue===s&&(e.minvalue=t.min!==s?p?0:t.min:0),e.maxvalue===s&&(e.maxvalue=t.max!==s?p?100:t.max:100),m=!1,a=0,c=n.length;a<c;a++)if(n[a].maxvalue){m=!0;break}for(m||(n=[]),r=e.code,d=v.colorRange=[],v.gradient=!!(0,f.pluckNumber)(e.gradient,1),n.length?r=P(r):(r?(i=P(r),r=P()):(r=P(),b=r,i=(0,f.getLightColor)(b,1)),n.push({code:i,maxvalue:e.maxvalue,label:s})),function(e){var t,n,o,r=u.getFromEnv("number-formatter");for(t=0,n=e.length;t<n;t++)(o=e[t].maxvalue)&&(e[t].maxvalue=r.getCleanValue(o))}(n),n=n.sort((function(e,t){return e.maxvalue-t.maxvalue})),g=h=e.minvalue&&y.getCleanValue(e.minvalue),h=(g!==s||null!==g)&&(p?g+"%":y.legendValue(g)),d.push({code:(0,f.dehashify)(r),value:g,displayValue:h,label:e.startlabel}),a=0,c=n.length;a<c;a++)l=P((o=n[a]).code||o.color),g=h=o.maxvalue,isNaN(parseInt(g,10))||(h=(g!==s||null!==g)&&(p?g+"%":y.legendValue(g)),d.push({code:(0,f.dehashify)(l),value:g,displayValue:h,label:(0,f.parseUnsafeString)(o.label||o.displayvalue)}));return d[d.length-1].label=(0,f.parseUnsafeString)(e.endlabel||o.label),v},getDefaultConf:function(e){return g[e]}};var R=function(e){(0,p.default)(n,e);var t=n.prototype;function n(){var t;return t=e.call(this)||this,d=(0,h.default)(t),t.enabled=!1,t.drawOptions={},t.components={},t}return t.getType=function(){return"gradientLegend"},t.getName=function(){return"gLegend"},t.setColorRange=function(e){var t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)},t.configureAttributes=function(){var e,t,n,o,r,i,a,l,d,u,g,h,p=this,m=p.getFromEnv("chart"),b=p.getFromEnv("dataSource").chart,v=p.conf={},y=b.outcnvbasefont,k=this.computeFontSize(b.outcnvbasefontsize),C=b.outcnvbasefontcolor,x=m.config.dataLabelStyle;c.init({chart:m}),p.data=p.getFromEnv("dataSource").colorrange,p._dontPlot||(p.drawOptions={smartLabel:p.getFromEnv("smartLabel"),gLegend:p},p._dontPlot=!1,p._recalculateLogicalSpace=!0,v.caption=(0,f.parseUnsafeString)((0,f.pluck)(b.legendcaption)),v.legendPosition=(0,f.pluck)(b.legendposition,"bottom").toLowerCase(),v.legendXPosition=(0,f.pluckNumber)(b.legendxposition,0),v.legendYPosition=(0,f.pluckNumber)(b.legendyposition,0),v.legendMaxHeight=(0,f.pluckNumber)(b.legendmaxheight,0),v.legendMaxWidth=(0,f.pluckNumber)(b.legendmaxwidth,0),v.legendVertical="string"==typeof b.legendorientation&&"vertical"===b.legendorientation.toLowerCase(),v.showLegend=(0,f.pluckNumber)(b.showlegend,1),v.interactiveLegend=(0,f.pluckNumber)(b.interactivelegend,1),v.showLegendLabels=(0,f.pluckNumber)(b.showlegendlabels,1),e=b.legenditemfontcolor||C,t=b.legenditemfont||y,n=b.legenditemfontsize||k,o=(0,f.pluckFontSizeMaintainUnit)(b.legenditemfontsize,b.outcnvbasefontsize),r=(0,f.pluckNumber)(b.legenditemfontbold,0),i=b.legendcaptionfontcolor||C,a=b.legendcaptionfont||y,l=b.legendcaptionfontsize||k,d=(0,f.pluckFontSizeMaintainUnit)(b.legendcaptionfontsize,b.outcnvbasefontsize),u=(0,f.pluckNumber)(b.legendcaptionfontbold,1),h=(g=b.legendaxisbordercolor?(0,f.hashify)((0,f.dehashify)(b.legendaxisbordercolor)):s)?(0,f.pluckNumber)(b.legendaxisborderalpha,100)/100:s,v.axisTextItemConf={style:{fill:e?(0,f.convertColor)((0,f.pluck)(e)):x.color,fontFamily:t?(0,f.pluck)(t):x.fontFamily,fontSize:n?(0,f.pluckNumber)(n):x.fontSize.match(/\d+/)[0],fontSizeWithUnit:(0,f.pluckFontSizeMaintainUnit)(o,x.fontSize.match(/\d+/)[0]),fontWeight:r?"bold":x.fontWeight}},v.legendCaptionConf={style:{fill:i?(0,f.convertColor)((0,f.pluck)(i)):x.color,fontFamily:a?(0,f.pluck)(a):x.fontFamily,fontSize:l?(0,f.pluckNumber)(l):x.fontSize.match(/\d+/)[0],fontSizeWithUnit:(0,f.pluckFontSizeMaintainUnit)(d,x.fontSize.match(/\d+/)[0]),fontWeight:u?"bold":x.fontWeight,fontStyle:"normal"}},v.legendAxisConf={legendAxisHeight:11,style:{stroke:g,"stroke-opacity":h},line:{style:{stroke:(0,f.convertColor)((0,f.pluck)(b.legendscalelinecolor,"FFF8E9"),(0,f.pluckNumber)(b.legendscalelinealpha,100)),"stroke-width":(0,f.pluckNumber)(b.legendscalelinethickness)}}},v.sliderGroupConf={showTooltip:(0,f.pluckNumber)(b.showtooltip,1),outerCircle:{rFactor:(0,f.pluckNumber)(b.sliderdiameterfactor),style:{stroke:(0,f.convertColor)((0,f.pluck)(b.legendpointerbordercolor,"757575"),(0,f.pluckNumber)(b.legendpointerborderalpha,100))}},innerCircle:{rFactor:(0,f.pluckNumber)(b.sliderholediameterfactor),style:{stroke:(0,f.convertColor)((0,f.pluck)(b.legendpointercolor,"FFFFFF"),(0,f.pluckNumber)(b.legendpointeralpha,100))}}},v.legendCarpetConf={spreadFactor:(0,f.pluckNumber)(b.legendspreadfactor),allowDrag:!!(0,f.pluckNumber)(b.legendallowdrag,0),captionAlignment:(0,f.pluck)(b.legendcaptionalignment,"center"),style:{fill:(0,f.convertColor)((0,f.pluck)(b.legendbgcolor,"e4d9c1"),(0,f.pluckNumber)(b.legendbgalpha,100)),stroke:(0,f.convertColor)((0,f.pluck)(b.legendbordercolor,"c4b89d"),(0,f.pluckNumber)(b.legendborderalpha,100)),"stroke-width":(0,f.pluckNumber)(b.legendborderthickness,1)}})},t.postConfigureInit=function(){var e,t,n,o,r,i,a,l,s,d,u,g=this,h=g.conf,p=h.legendPosition?h.legendPosition.split("-"):[];g.elem={},h.interactiveLegend?(o=_(c.getDefaultConf("sliderGroupConf"),h.sliderGroupConf),this.sGroup?((n=g.elem.sGroup=this.sGroup).configure(o),g.elem.sGroup.gLegend=g):(this.sGroup=g.elem.sGroup=n=new H(o),n.configure(o),g.elem.sGroup.gLegend=g)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),(o=_(c.getDefaultConf("legendCarpetConf"),h.legendCarpetConf)).legendPosition=p[0]===w&&!h.legendVertical||p[0]===S||p[0]===L?L:T,u=c.getDefaultConf("legendBodyConf"),p[0]===w&&!h.legendVertical||p[0]===S||p[0]===L?(g.drawOptions.refSideKey="canvasWidth",g.drawOptions.refOffsetKey="canvasLeft",r=_(c.getDefaultConf("axisTextItemConf"),h.axisTextItemConf),u.legendPosition=L,(d=_(c.getDefaultConf("legendAxisConf"),h.legendAxisConf)).legendPosition=L,r.legendPosition=L):(g.drawOptions.refSideKey="canvasHeight",g.drawOptions.refOffsetKey="canvasTop",r=_(c.getDefaultConf("axisTextItemConf"),h.axisTextItemConf),u.legendPosition=T,(d=_(c.getDefaultConf("legendAxisConf"),h.legendAxisConf)).legendPosition=T,r.legendPosition=T),Object.keys(this.components).length||(this.components.LegendCarpet=new D,this.components.LegendBody=new z,this.components.LegendAxis=new W,this.components.LegendValues=new X,h.showLegendLabels&&(this.components.LegendLabels=new V)),t=this.components.LegendAxis,l=this.components.LegendValues,e=this.components.LegendCarpet,i=this.components.LegendBody,h.showLegendLabels&&(a=this.components.LegendLabels),this.components.LegendCarpet.configure(o),this.components.LegendValues.configure(r),this.components.LegendAxis.configure(d),this.components.LegendBody.configure(g.drawOptions.colorRange,u,r),h.showLegendLabels&&a.configure(r),h.caption?(s=_(c.getDefaultConf("legendCaptionConf"),h.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(h.caption,s):(this.componentCaption=new G).configure(h.caption,s),e.addCompositions(this.componentCaption,b.CAPTION)):(e.removeCompositions(b.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),n&&t.addCompositions(n,b.RANGE),a&&i.addCompositions(a,b.AXIS_LABEL),i.addCompositions(t,b.LEGEND_AXIS),i.addCompositions(l,b.AXIS_VALUE),e.addCompositions(i,b.LEGEND_BODY),g.elem.gl=new B(e)},t.getValueRange=function(){var e,t,n=this.elem&&this.elem.sGroup,o=n.sliders,r=n.extremes;return e=o.false.currPos,t=r[1]-r[0]+o.true.currPos,[{min:n.getValueFormPixel(e),max:n.getValueFormPixel(t)}]},t._dispose=function(){var t=this;t.elem&&t.elem.gl&&t.elem.gl.dispose(),t.elem={},e.prototype._dispose.call(this)},t.getCalculatedLogicalSpace=function(){return this._logicalArea},t.setCalculatedLogicalSpace=function(e){this._logicalArea=e},t.getLogicalSpace=function(e){var t,n,o,r,i,a=this,l=a.conf,s={height:0,width:0},c=a.drawOptions,d=a.getFromEnv("chartConfig"),u=l.legendPosition.split("-")[0]===w;return a._recalculateLogicalSpace?a._dontPlot?s:(a._recalculateLogicalSpace=!1,a.postConfigureInit(),l.showLegend?(n=c.refSideKey,o=c.refOffsetKey,a.drawOptions.refSide=d[n],a.drawOptions.refOffset=d[o],a.drawOptions.maxOtherSide=e||a.drawOptions.maxOtherSide,a.elem.gl&&(t=a.elem.gl.getLogicalSpace(a.drawOptions,!0),a.elem.gl&&a.setCalculatedLogicalSpace(t)),a.getCalculatedLogicalSpace()):s):(n=c.refSideKey,o=c.refOffsetKey,a.drawOptions.refSide=d[n],u?(r=l.legendMaxHeight<=0?.8*d.height:l.legendMaxHeight<=d.height?l.legendMaxHeight:d.height,i=l.legendMaxWidth<=0?.8*d.width:l.legendMaxWidth<=d.width?l.legendMaxWidth:d.width,l.legendVertical?(a.drawOptions.refSide=r,a.drawOptions.maxOtherSide=i):(a.drawOptions.refSide=i,a.drawOptions.maxOtherSide=r)):(a.drawOptions.refOffset=d[o],a.drawOptions.maxOtherSide=e||a.drawOptions.maxOtherSide),t=a.elem.gl.getLogicalSpace(a.drawOptions,!0),a.setCalculatedLogicalSpace(t),a.getCalculatedLogicalSpace()||s)},t.resetLegend=function(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()},t._calculateTopPosition=function(e){var t=this.getFromEnv("chart"),n=t.config,o=e,r=t.getChildren("caption")&&t.getChildren("caption")[0],i=t.getChildren("subCaption")&&t.getChildren("subCaption")[0],a=t.getChildren("chartMenuBar")&&t.getChildren("chartMenuBar")[0],l=n.oriTopSpace;return!n.toolbarY&&a&&a.props&&a.props.height&&(l>a.props.height+a.props.y||(o=a.props.y+a.props.height)),r&&r.config&&r.config.text&&r.config.text!==f.BLANKSTRING&&r.config.height&&1===r.config.isOnTop&&(o=r.config.height+r.config.y+r.config.captionPadding),i&&i.config&&i.config.height&&1===i.config.isOnTop&&(o=i.config.y+i.config.height+(r&&r.config&&r.config.captionPadding||0)),o>e?o:e},t.allocatePosition=function(){var e,t,n,o,r,i,a,l,s=this.getFromEnv("chart"),c=s.config,d=this.conf||{},u=d.legendPosition.split("-"),g=c.canvasLeft,h=c.canvasTop,p=c.canvasWidth,f=c.canvasHeight,m=c.marginTop,b=c.marginBottom,v=c.marginRight,y=c.marginLeft;d.axisTextItemConf.style.fontSize=this.computeFontSize(d.axisTextItemConf.style.fontSizeWithUnit),d.legendCaptionConf.style.fontSize=this.computeFontSize(d.legendCaptionConf.style.fontSizeWithUnit),s.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),n=d.width=e.width,o=d.height=e.height,u[0]===w?(a=c.width-n,l=c.height-o,r=d.legendXPosition<0?0:d.legendXPosition>a?a:d.legendXPosition,i=d.legendYPosition<0?0:d.legendYPosition>l?l:d.legendYPosition):u[0]===S||u[0]===L?(t=p-n,r=u[1]===F?g:u[1]===T?g+(t>0?t:0):g+(t<0?0:t/2),i=u[0]===S?this._calculateTopPosition(m):c.height-e.height-b-(c.actionBarHeight||0)):(t=f-o,i=u[1]===S?h:u[1]===L?h+t:h+(t<0?0:t/2),r=u[0]===F?y:c.width-e.width-v),d.xPos=r,d.yPos=i)},t.draw=function(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,n=this.conf||{},o=e.hasGradientLegend;e.config.gLegendEnabled&&t&&o&&this.drawLegendComponent(n.xPos,n.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})},t.drawLegendComponent=function(e,t,n){var o,r=this,i=r.conf;r._dontPlot||(i.showLegend?(r.drawOptions.animationManager=n.animationManager,r.drawOptions.parentGroup=n.parentGroup,r.drawOptions.x=e,r.drawOptions.y=t,r.drawOptions.maxOtherSide=r.drawOptions.maxOtherSide||n.maxOtherSide,o=r.elem.gl.draw(r.drawOptions).getBBox(),i.xPos=o.x,i.yPos=o.y,i.height=o.height,i.width=o.width,r.enabled=!0):r.enabled=!1)},n}(m.ComponentInterface),B=function(){function e(e){this.carpet=e}var t=e.prototype;return t.draw=function(e){return this.carpet.draw(e)},t.getLogicalSpace=function(e,t){return this.carpet.getLogicalSpace(e,t)},t.dispose=function(){this.carpet&&this.carpet.group&&this.carpet.group.remove()},e}(),D=function(){function e(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this.node=s,this.group=s,this._lSpace=s,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getName=function(){return"LegendCarpet"},t.getType=function(){return"legend"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.removeCompositions=function(e){delete this.compositionsByCategory[e]},t.getBoundingBox=function(e){var t,n,o=this.conf,r=o.spreadFactor,i=e.refSide,a=e.alignment,l=e.refOffset,c=e.x,d=e.y;return"bottom"===this.conf.legendPosition?(t=o.width=i*r,n=e.maxOtherSide,!a||c!==s&&null!==c||(c=(l+i)/2-t/2)):(n=o.height=i*r,t=e.maxOtherSide,!a||d!==s&&null!==d||(d=(l+i)/2-n/2)),{width:t,height:n,x:c,y:d}},t.getPostCalcDecisionsH=function(e,t){var n,o=this.conf.padding,r=0;for(n in this.moveInstructions={},t)r+=t[n].height||0;e.height=r+2*o.v},t.getLogicalSpace=function(e,t){var n,o,r,i,a,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf.padding,d=this.compositionsByCategory,u=0,g={},h=0;if(l&&!t)return l.isImpure=!0,l;(M((l=this._lSpace=o=this.getBoundingBox(e)).x)||M(l.y)||M(l.height)||M(l.width))&&(this.autoRecalculate=!0),(r=_(o,{})).height-=2*c.v,r.width-=2*c.h,r.x+=c.h,r.y+=c.v;for(var p=0;p<s.length;p++)(n=d[s[p]])&&((a=_(r,{})).y+=u,u=r.height*n.conf.spreadFactor,a.height=u+h,i=n.getLogicalSpace(_(a,{}),e,t),h=a.height-i.height,g[s[p]]=i,u=i.height);return this.getPostCalcDecisions(o,g),this._lSpace=o,o},t.setupDragging=function(){var e=this.group,t=0,n=0,o=0,r=0;e.css({cursor:"move"}),e.drag((function(i,a){t=i,n=a,e.attr({transform:"t"+(o+t)+","+(r+n)})}),(function(){o+=t,r+=n}),f.stubFN)},t.draw=function(e){var t,n,o,r=this.conf,i=["CAPTION","LEGEND_BODY"],a=this.compositionsByCategory,l=e.animationManager,s=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),o=this._lSpace,this.group=t=l.setAnimation({el:this.group||"group",attr:{name:this.groupName},component:d,container:s,label:"carpetGroup"}),this.node=l.setAnimation({el:this.node||"rect",attr:o,css:r.style,component:d,container:t,label:"rect"});for(var c=0;c<i.length;c++)(n=a[i[c]])&&n.draw(r.captionAlignment,o,{animationManager:l,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[undefined],gLegend:e.gLegend});return r.allowDrag&&this.setupDragging(),this.node},t.getPostCalcDecisions=function(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)},t.getPostCalcDecisionsV=function(e,t){var n,o,r,i=this.conf.padding,a=Number.NEGATIVE_INFINITY,l=this.moveInstructions;for(o in this.getPostCalcDecisionsH(e,t),t)a=a<(n=t[o].width)?n:a;for(o in e.width=a+2*i.h,t)(r=a-(n=t[o].width))&&(l[o]="t"+r/2+",0")},e}(),G=function(){function e(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this.node=s,this.bound=s,this._lSpace=s,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){var e=arguments[1];return e.x+e.width/2}}}var t=e.prototype;return t.configure=function(e,t){this.rawText=e,this.conf=t},t.getName=function(){return"LegendCaption"},t.getType=function(){return"caption"},t.getLogicalSpace=function(e,t,n){var o,r,i,a,l=this.conf.padding,c=this._lSpace,d=this.rawText,u=t.gLegend.getFromEnv("chartConfig");return c&&!n?(c.isImpure=!0,c):(c=this._lSpace={bound:{height:0,width:0},node:{logicArea:s,smartText:s}},o=t.smartLabel,d?((r=_(e,{})).height-=2*l.v,r.width-=2*l.h,r.x+=l.h,r.y+=l.v,o.useEllipsesOnOverflow(u.useEllipsesWhenOverflow),O(a=_(this.conf.style,{})),o.setStyle(this._metaStyle=a),i=o.getSmartText(d,r.width,r.height),r.height=i.height,r.width=i.width,e.height=i.height+2*l.v,e.width=i.width+2*l.h,c.node.smartText=i,c.node.logicArea=r,c.bound=e,e):c.bound)},t.draw=function(){var e,t,n,o,r,i,a,l,s,c,u,g=this.conf,h=g.bound||{};return arguments.length>=3?(a=arguments[0],l=arguments[1],s=arguments[2]):arguments.length>=2&&(a=arguments[0],s=arguments[1]),e=s.parentLayer,u=s.animationManager,this.group=t=u.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:g.style,component:d,container:e}),this.getLogicalSpace(l,s),c=(r=this._lSpace).node,o=r.bound,this.bound=n=u.setAnimation({el:this.bound||"rect",attr:o,css:h.style,container:t,component:d}),i="string"==typeof a?this.LegendCaption[a.toUpperCase()].x(c.smartText,l||c.logicArea):a,this.node=u.setAnimation({el:this.node||"text",attr:{text:c.smartText.text,x:i,y:c.logicArea.y+c.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:g.style.fill},container:t,component:d}),{group:t,bound:n,node:this.node}},t.dispose=function(){this.group.remove(),this.bound.remove(),this.node.remove()},e}(),z=function(){function e(e,t,n){this.colorRange=e,this.conf=t,this.childTextConf=n,this._id="GL_BODY",this.bound=s,this.group=s,this.compositionsByCategory={},this._lSpace=s,this.SC_STACK=[b.AXIS_LABEL,b.LEGEND_AXIS,b.AXIS_VALUE],this.DARW_STACK=[b.AXIS_VALUE,b.LEGEND_AXIS,b.AXIS_LABEL]}var t=e.prototype;return t.configure=function(e,t,n){this.colorRange=e,this.conf=t,this.childTextConf=n,this.compositionsByCategory={}},t.getName=function(){return"LegendBody"},t.getType=function(){return"legend"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.getSpaceTaken=function(e){return"bottom"===this.conf.legendPosition?e.height:e.width},t.getLogicalSpace=function(e,t,n){var o,r,i,a,l,c,d,u=this._lSpace,g=this.conf.padding,h=this.compositionsByCategory,p=0;if(u&&!n)return u.isImpure=!0,u;for(u=this._lSpace={bound:{height:0,width:0},node:{logicArea:s}},(a=_(e,{})).height-=2*g.v,a.width-=2*g.h,a.x+=g.h,a.y+=g.v,l=this.getCompositionPlotAreaFor(a),t.colorRange=this.colorRange,c=0,d=this.SC_STACK.length;c<d;c++)(o=h[this.SC_STACK[c]])&&(r=l(i,o.conf.spreadFactor),i=o.getLogicalSpace(_(r,{}),t,n),p+=this.getSpaceTaken(i));return this.updateEffectivePlotArea(e,a,p),u.node.logicArea=a,u.bound=e,e},t.draw=function(){var e,t,n,o,r,i,a,l,s,c,u=this.childTextConf,g=this.conf,h=g.bound.style||{},p=this.compositionsByCategory;for(arguments.length>=3?(i=arguments[1],l=arguments[2]):arguments.length>=2&&(l=arguments[1]),t=l.parentLayer,e=l.animationManager,this.getLogicalSpace(i,l),a=this._lSpace,this.group=r=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:u.style,container:t,component:d}),this.bound=n=e.setAnimation({el:this.bound||"rect",attr:a.bound,css:h,container:r,component:d}),l.colorRange=this.colorRange,l.parentLayer=r,s=0,c=this.DARW_STACK.length;s<c;s++)(o=p[this.DARW_STACK[s]])&&o.draw(l);return l.moveInstructions&&r.attr({transform:l.moveInstructions}),{bound:n,group:r}},t.getCompositionPlotAreaFor=function(e){var t,n="bottom"===this.conf.legendPosition;return t=_(e,{}),function(o,r){var i=o;return i=i||{},n?(t.y+=i.height||0,t.height=e.height*r):(t.x+=i.width||0,t.width=e.width*r),t}},t.updateEffectivePlotArea=function(e,t,n){var o=this.conf.padding;"bottom"===this.conf.legendPosition?(t.height=n,e.height=n+2*o.v):(t.width=n,e.width=n+2*o.h)},e}(),V=function(){function e(e){this.conf=e,this.node=[],this._id="GL_LABELS"}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getType=function(){return"label"},t.getName=function(){return"LegendLabel"},t.getEffectivePlotArea=function(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,e},t.getLogicalSpace=function(e,t,n){var o,r,i,a,l,c,d,u,g,h,p,m,b,v,y,k,C,x,w,S,L,F,T,E="bottom"===this.conf.legendPosition,N=this._lSpace,A=this.conf,I=A.padding,P=[],M=t.gLegend.getFromEnv("chartConfig"),R=[];if(N&&!n)return N.isImpure=!0,N;for(o=t.colorRange,r=t.smartLabel,h=o.getCumulativeValueRatio(),i=o.colorRange,b=(N=this._lSpace={bound:{height:0,width:0},node:{logicArea:s,smartTexts:[]}}).node.smartTexts,u=_(e,{}),y=this.getEffectivePlotArea(u),T=E?y.width:y.height,r.useEllipsesOnOverflow(M.useEllipsesWhenOverflow),F=_(A.style,{}),O(this._metaStyle=F),r.setStyle(F),k=r.getSmartText("W"),a=0,l=i.length;a<l;a++)(g=(0,f.parseUnsafeString)(i[a].label))?R.push({oriIndex:a,label:g}):b[a]=s;if(0===(l=R.length))return{height:0,width:0};for(m=p=l>1?(h[R[l-1].oriIndex]-h[R[0].oriIndex])/2*T/100:Math.max(h[R[0].oriIndex],100-h[R[0].oriIndex])/2*T/100,E?((S=r.getSmartText(R[0].label,m,y.height)).x=h[R[0].oriIndex]*y.width/100,c=S.x+S.width):((S=r.getSmartText(R[0].label,m,y.width)).y=h[R[0].oriIndex]*y.height/100,c=S.y+S.width),P.push(S.height),b[R[0].oriIndex]=S,E?((S=r.getSmartText(R[l-1].label,m,y.height)).x=h[R[l-1].oriIndex]*y.width/100,d=S.x-S.width):((S=r.getSmartText(R[l-1].label,m,y.width)).y=h[R[l-1].oriIndex]*y.height/100,d=S.y-S.width),P.push(S.height),b[R[l-1].oriIndex]=S,w=c,a=1;a<l-1;a++)g=R[a].label,L=R[a].oriIndex,S=s,C=a+1===l-1?d:h[R[a+1].oriIndex]*T/100,x=h[R[a].oriIndex]*T/100,(p=Math.min(x-w,C-x))>2*k.width&&(E?(S=r.getSmartText(g,p,y.height)).x=h[L]*y.width/100:(S=r.getSmartText(g,p,y.width)).y=h[L]*y.height/100,w=p,P.push(S.height)),b[R[a].oriIndex]=S;return v=Math.max.apply(Math,P),E?(y.height=v,e.height=v+2*I.v):(y.width=v,e.width=v+2*I.v),N.node.logicArea=y,N.bound=e,e},t.draw=function(){var e,t,n,o,r,i,a,l,s,c,u,g,h="bottom"===this.conf.legendPosition,p=this.conf,f=p.bound&&p.bound.style||{stroke:"none"},m={};arguments.length>=2&&arguments[1]?(o=arguments[0],a=arguments[1]):arguments.length>=1&&(a=arguments[0]),g=a.animationManager,e=a.parentLayer,this.getLogicalSpace(o,a),s=(i=this._lSpace).node.logicArea,c=i.node.smartTexts,this.group=n=g.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:d}),this.bound=t=g.setAnimation({el:this.bound||"rect",attr:i.bound,css:f,container:n,component:d});for(var b=0;b<this.node.length;b++)this.node[b].remove();for(this.node=[],l=0,u=c.length;l<u;l++)(r=c[l])&&(h?(m.y=s.y+r.height/2,m.x=l===u-1?s.x+r.x-r.width/2:l?s.x+r.x:s.x+r.x+r.width/2):(m.x=s.x+r.height/2,m.y=l===u-1?s.y+r.y-r.width/2:l?s.y+r.y:s.y+r.y+r.width/2),this.node.push(g.setAnimation({el:"text",attr:{text:r.text,x:m.x,y:m.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill,transform:h?"R0":"R270,"+m.x+","+m.y},container:n,component:d})));return{group:n,bound:t,node:this.node}},e}(),W=function(){function e(e){this.conf=e,this._id="FL_AXIS",this.node=s,this.group=s,this.shadow=s,this.markerLine=s,this.compositionsByCategory={}}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getName=function(){return"LegendAxis"},t.getType=function(){return"axis"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.getLogicalSpace=function(){var e,t,n,o,r,i,a="bottom"===this.conf.legendPosition,l=arguments[0],c=arguments[2],d=this._lSpace,u=this.conf,g=u.padding,h=u.legendAxisHeight,p=this.compositionsByCategory,f=0;return d&&!c?(d.isImpure=!0,d):(d=this._lSpace={bound:{height:0,width:0},node:{logicArea:s}},(r=_(l,{})).height-=2*g.v,r.width-=2*g.h,r.x+=g.h,r.y+=g.v,e=h/2+u.line.offset,t=h/2,(o=p[b.RANGE])&&(i=o.sliders.false.conf.outerCircle.rFactor*h,t+=f=Math.max(i/2-h/2,0)),a?(r.y+=f,r.height=n=t+e+f,l.height=n+2*g.v):(r.x+=f,r.width=n=t+e+f,l.width=n+2*g.v),d.node.logicArea=r,d.bound=l,l)},t.getDrawableAxisArea=function(e){var t=this.conf,n="bottom"===this.conf.legendPosition;return{x:e.x,y:e.y,width:n?e.width:t.legendAxisHeight,height:n?t.legendAxisHeight:e.height,r:t.legendAxisHeight/2}},t.preDrawingRangeParamV=function(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}},t.preDrawingRangeParamH=function(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}},t.preDrawingRangeParam=function(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)},t.getScaleMarkerPathStrH=function(e,t){var n,o,r,i,a,l=_(e,{}),s=this.conf.line,c=f.BLANKSTRING,d=f.BLANKSTRING;for(l.x+=l.r,l.width-=2*l.r,a=l.y+l.height,n=0,o=t.length;n<o;n++)r=t[n],i=l.x+r*l.width/100,c+=A+i+C+(a-s.grooveLength)+I+i+C+(a+s.offset);return c+(d+=A+l.x+C+(a+s.offset)+I+(l.x+l.width)+C+(a+s.offset))},t.getColorGradientH=function(e){return{axis:e.getBoxFill(),shadow:(0,f.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},t.draw=function(){var e,t,n,o,r,i,a,l,s,c,u,g,h,p,f=this.conf,m=f.bound||{},v=f.line,y=m.style||{},k=this.compositionsByCategory;for(n in arguments.length>=2?(t=arguments[0],g=arguments[1]):arguments.length>=1&&(g=arguments[0]),h=g.animationManager,e=g.parentLayer,r=(o=g.colorRange).getCumulativeValueRatio(),this.getLogicalSpace(t,g),u=this._lSpace,this.group=a=h.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:d}),this.bound=h.setAnimation({el:this.bound||"rect",attr:u.bound,css:y,component:d,container:a}),c=this.getDrawableAxisArea(u.node.logicArea),s=this.getColorGradient(o),f.style.fill=s.axis,f.shadow.style.fill=s.shadow,this.node=h.setAnimation({el:this.node||"rect",attr:c,css:f.style,container:a,component:d}),this.shadow=h.setAnimation({el:this.shadow||"rect",attr:c,css:f.shadow.style,container:a,component:d}),p=this.getScaleMarkerPathStr(c,r),this.path=h.setAnimation({el:this.path||"path",attr:{path:p},css:v.style,container:a,component:d}),k)if(i=k[n],n===b.RANGE)g[(l=this.preDrawingRangeParam(c)).prop]=l[l.prop],g.key=l.prop,g.rCalcBase=l.calculationBase,g.parentLayer=a,i.draw(l.rangeStart,l.rangeEnd,g)},t.getScaleMarkerPathStr=function(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)},t.getColorGradient=function(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)},t.getScaleMarkerPathStrV=function(e,t){var n,o,r,i,a,l=_(e,{}),s=this.conf.line,c=f.BLANKSTRING,d=f.BLANKSTRING;for(l.y+=l.r,l.height-=2*l.r,i=l.x+l.width,n=0,r=t.length;n<r;n++)o=t[n],a=l.y+o*l.height/100,c+=A+(i-s.grooveLength)+C+a+I+(i+s.offset)+C+a;return c+(d+=A+(i+s.offset)+C+l.y+I+(i+s.offset)+C+(l.y+l.height))},t.getColorGradientV=function(e){return{axis:e.getBoxFill(!0),shadow:(0,f.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},e}(),j=function(){function e(e,t,n){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=n,this.node=s,this.tracker=s,this.currPos=0,this.swing=[]}var t=e.prototype;return t.configure=function(e,t,n){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=n,this.currPos=0,this.swing=[]},t.getType=function(){return"slider"},t.getName=function(){return"Slider"},t.updateSwingRange=function(e,t){this.swing[+e]=t},t.draw=function(e,t,n,o){var r,i,a,l,s,c,u,g=o.parentLayer,h=o.animationManager,p=this.conf,f=p.outerCircle,m=p.innerCircle,b=h.getFromEnv("chart").config,y=Math.ceil(f.rFactor*o.rCalcBase/2),k=Math.ceil(m.rFactor*o.rCalcBase/2),C=y-k,x=o.gLegend.getFromEnv("toolTipController"),w=this.sliderIndex;return p.outerRadius=y,p.innerRadius=k,this._scaleVal=t,m.style["stroke-width"]=C,k+=l=Math.ceil(f.style["stroke-width"]/2),i=this.node=h.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:g,component:d}),"x"===o.key?(s=n,c=e,c+=w?-k:+k):(s=e,c=n,s+=w?-k:+k),this.oCircle=h.setAnimation({el:this.oCircle||"circle",attr:{cx:s,cy:c,r:y},css:f.style,container:i,component:d}),this.iCircle=h.setAnimation({el:this.iCircle||"circle",attr:{cx:s,cy:c,r:k},css:m.style,container:i,component:d}),u=this.tracker=h.setAnimation({el:this.tracker||"circle",attr:{cx:s,cy:c,r:y+5,fill:v,stroke:v,cursor:"pointer"},container:i,component:d}),i.attr({transform:"x"===o.key?"t0,"+this.currPos:"t"+this.currPos+",0"}),r=b.showToolTip?t:"",x.enableToolTip(u,r),this._dragAPI=a=this.getDragAPI("x"===o.key),u.undrag(),u.drag(a.dragging,a.dragStart,a.dragEnd),{translateAscending:y+l}},t.getDragAPI=function(e){var t,n,o,r,i=this,a=i.node,l=i.sliderIndex,s=i.rangeGroup,c=i.conf.innerRadius;return{dragging:function(d){var u,g,h,p,f;return d.stopPropagation(),h=e?d.data[1]:d.data[0],l?(u=t[0]-t[1]+c,g=0):(u=0,g=t[1]-t[0]-c),(f=i.currPos+h)<u?h+=u-f:f>g&&(h-=f-g),a.attr({transform:e?"t0,"+(i.currPos+h):"t"+(i.currPos+h)+",0"}),n=h,o&&clearTimeout(o),o=setTimeout((function(){s.updateWhenInRest(i,i.currPos+h)}),100),p=s.updateWhenInMove(i,i.currPos+h),i.conf.showTooltip&&i.tracker.data("__FC_tooltipText",p),r=!0,!0},dragStart:function(e){e.stopPropagation(),t=i.swing,r=!1,s.dragStarted(i)},dragEnd:function(){var e;s.dragCompleted(i,r,i.currPos+n),r&&(o&&clearTimeout(o),o=setTimeout((function(){s.updateWhenInRest(i,i.currPos)}),100),i.currPos+=n,e=t[+l]+i.currPos,s.updateRange(i,e))}}},t.dispose=function(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()},e}(),H=function(){function e(e){var t=e,n={};this._id="GL_SG1",this.conf=e,n.conf=t,this.extremes=[],this.sliders={},this.min=s,this.max=s,n.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[!1]=new j(y,n,this._id+"_0"),this.sliders[!0]=new j(k,n,this._id+"_1")}var t=e.prototype;return t.configure=function(e){var t=e,n={};this.min=s,this.max=s,this.conf=e,n.conf=t,n.sliderGroup=this,this.sliders[!1].configure(y,n,this._id+"_0"),this.sliders[!0].configure(k,n,this._id+"_1")},t.getType=function(){return"slider"},t.getName=function(){return"SliderGroup"},t.initRange=function(e,t){var n=e.sliderIndex;this.extremes[+n]=t},t.updateRange=function(e,t){var n=e.sliderIndex;this.sliders[!n].updateSwingRange(n,t)},t.reset=function(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=s,this.max=s,this.sliders[!1].configure(y,e,this._id+"_0"),this.sliders[!0].configure(k,e,this._id+"_1"),this.draw.apply(this,this._drawParams)},t.draw=function(e,t,n){var o,r,i,a,l,s,c=this.sliders,d=c[!1],u=c[!0],g=n.colorRange,h=g.colorRange,p=g.data.mapByPercent,f=n.gLegend.getFromEnv("number-formatter");return this._fcChart=n.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,n,o){var r=(t-e)/(o-n);this.getValueFormPixel=function(t){return e+r*t}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(n,o){var r,i,a=this.extremes;return r=n.sliderIndex?a[1]-a[0]+o:o,i=this.getValueFormPixel(r),i=t?parseFloat(i).toFixed(2)+"%":e.legendValue(i)}},this._drawParams=[e,t,n],this.updateWhenInMove(f,p),i=d.conf.outerCircle,r=d.conf.innerCircle,a=Math.ceil(r.rFactor*n.rCalcBase/2),a+=Math.ceil(i.style["stroke-width"]/2),this.extremes[0]=e+a,this.extremes[1]=t-a,l=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:h[0].value,this.max=this.max?this.max:h[h.length-1].value,s=h[h.length-1].value-h[0].value,d.currPos=l*(this.min-h[0].value)/s,u.currPos=l*(this.max-h[0].value)/s-l,d.draw(e,p?f.legendPercentValue(this.min):f.legendValue(this.min),n[n.key],n),o=u.draw(t,p?f.legendPercentValue(this.max):f.legendValue(this.max),n[n.key],n),d.swing=this.extremes.slice(0),u.swing=this.extremes.slice(0),d.swing[1]+=u.currPos,u.swing[0]+=d.currPos,this.getValueFormPixel(h[0].value,h[h.length-1].value,this.extremes[0],this.extremes[1]),o},t.updateWhenInRest=function(e,t){var n,o,r=this.sliders,i=this.extremes,a=e.sliderIndex;a?(n=r[!a].currPos,o=i[1]-i[0]+t):(n=t,o=i[1]-i[0]+r[!a].currPos),this.min=Number(this.getValueFormPixel(n).toFixed(2)),this.max=Number(this.getValueFormPixel(o).toFixed(2)),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])},t.dragStarted=function(e){var t=this.sliders,n=this.extremes,o=e.conf,r=this._fcChart;r.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t.false.currPos)},{value:this.getValueFormPixel(n[1]-n[0]+t.true.currPos)}],legendPointerHeight:o.outerRadius,legendPointerWidth:o.innerRadius,outerRadius:o.outerRadius,innerRadius:o.innerRadius},[r.id])},t.dragCompleted=function(e,t,n){var o,r,i=this.sliders,a=this.extremes,l=e.conf,s=this.getValueFormPixel(i.false.currPos),c=this.getValueFormPixel(a[1]-a[0]+i.true.currPos),d=this._fcChart;e.sliderIndex?(o=s,r=this.getValueFormPixel(a[1]-a[0]+n)):(o=this.getValueFormPixel(n),r=c),t&&d.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:o,maxValue:r},[d.id]),d.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:o},{value:r}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[d.id])},t.dispose=function(){this.sliders[!1].dispose(),this.sliders[!0].dispose()},e}(),X=function(e){function t(){var t;return(t=e.call(this,arguments[0])||this)._id=E,t.node=[],t}(0,p.default)(t,e);var n=t.prototype;return n.configure=function(e){this.conf=e},n.getName=function(){return"LegendValues"},n.getType=function(){return"legend"},n.getLogicalSpace=function(e,t,n){var o,r,i,a,l,c,d,u,g,h,p,f,m,b,v,y,k,C,x,w,S,L,F,T,E,N="bottom"===this.conf.legendPosition,A=this._lSpace,I=this.conf,P=I.padding,M=t.gLegend.getFromEnv("chartConfig"),R=[],B=[];if(A&&!n)return A.isImpure=!0,A;for(o=t.colorRange,r=t.smartLabel,i=o.colorRange,d=o.getCumulativeValueRatio(),E=(A=this._lSpace={bound:{height:0,width:0},node:{logicArea:s,smartTexts:[]}}).node.smartTexts,(w=_(e,{})).height-=2*P.v,w.width-=2*P.h,w.x+=P.h,w.y+=P.v,r.useEllipsesOnOverflow(M.useEllipsesWhenOverflow),T=_(I.style,{}),O(this._metaStyle=T),r.setStyle(T),F=r.getSmartText("W"),c=i.length,N?(p=u=(d[c-1]-d[0])/2*w.width/100,L=i[0].displayValue,(a=r.getSmartText("string"!=typeof L&&L!==s&&L.toString()||L,p,w.height)).x=d[0]*w.width/100,f=a.x+a.width,R.push(a.height)):(p=u=(d[c-1]-d[0])/2*w.height/100,(a=r.getSmartText(i[0].displayValue,w.width,p)).y=d[0]*w.height/100,v=a.y+a.width,B.push(a.width)),E[0]=a,N?((a=r.getSmartText(i[c-1].displayValue,p,w.height)).x=d[c-1]*w.width/100,b=a.x-a.width,R.push(a.height),m=f):((a=r.getSmartText(i[c-1].displayValue,w.width,p)).y=d[c-1]*w.height/100,k=a.y-a.height,B.push(a.width),y=v),E[c-1]=a,l=1;l<c-1;l++)a=s,S=i[l].displayValue,N?(g=l+1===c-1?b:d[l+1]*w.width/100,h=d[l]*w.width/100,(u=Math.min(h-m,g-h))>1.5*F.width&&((a=r.getSmartText(S,2*u,w.height)).x=d[l]*w.width/100,m=u,R.push(a.height))):(g=l+1===c-1?k:d[l+1]*w.height/100,h=d[l]*w.height/100,(u=Math.min(h-y,g-h))>2*F.height&&((a=r.getSmartText(S,w.width,2*u)).y=d[l]*w.height/100,y=u,B.push(a.width))),E[l]=a;return N?(C=Math.max.apply(Math,R),w.height=C,e.height=C+2*P.v):(x=Math.max.apply(Math,B),w.width=x,e.width=x+2*P.h),A.node.logicArea=w,A.bound=e,e},n.draw=function(){var e,t,n,o,r,i,a,l,s,c,u,g,h,p=this.conf,f="bottom"===p.legendPosition,m=p.bound&&p.bound.style||{stroke:"none"},b={};arguments.length>=2&&arguments[1]?(o=arguments[0],a=arguments[1]):arguments.length>=1&&(a=arguments[0]),h=a.animationManager,e=a.parentLayer,l=a.colorRange.getCumulativeValueRatio(),this.getLogicalSpace(o,a),i=(r=this._lSpace).node.logicArea,u=r.node.smartTexts,this.group=n=h.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:d}),this.bound=t=h.setAnimation({el:this.bound||"rect",attr:r.bound,css:m,container:n,component:d});for(var v=0;v<this.node.length;v++)this.node[v].remove();for(this.node=[],s=0,c=l.length;s<c;s++)(g=u[s])&&(f?(b.y=i.y+g.height/2,b.x=s===c-1?i.x+g.x-g.width/2:s?i.x+g.x:i.x+g.x+g.width/2):(b.x=i.x+g.width/2,b.y=s===c-1?i.y+g.y-g.height/2:s?i.y+g.y:i.y+g.y+g.height/2),this.node.push(h.setAnimation({el:"text",attr:{text:g.text,x:b.x,y:b.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill},container:n,component:d})));return{group:n,bound:t}},t}(V);a=R}))}();
//# sourceMappingURL=maps.7730aa69.js.map

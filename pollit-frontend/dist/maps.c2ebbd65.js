function e(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}function t(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}var o=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire40d9;o.register("dvTN9",(function(t,n){var r;e(t.exports,"default",(function(){return r}),(function(e){return r=e}));var a=o("2ZnTs");r=void 0;var i=a(o("fSypo"));i.default,r={name:"maps",type:"package",requiresFusionCharts:!0,extension:function(e){return e.addDep(i.default)}}})),o.register("fSypo",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("5I3Us")),c=l(o("b4YIe")),d=o("94dom"),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var o=y(t);if(o&&o.has(e))return o.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,o&&o.set(e,n);return n}(o("l5AqQ")),h=l(o("94Pbf")),g=o("jrWd3"),p=o("c90mW"),f=l(o("kcqkq")),m=l(o("5Oe39")),b=l(o("bzJ69")),v=l(o("lO6gi"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(y=function(e){return e?o:t})(e)}var k=(0,p.extend2)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},u),C="0,100",x={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},w={getMapName:function(){return this.jsVars.instanceAPI.getName().toLowerCase()},getEntityList:function(){var e,t,o,n,r,a=this.jsVars.instanceAPI.getDatasets()||[],i=a.length,l=[];for(e=0;e<i;e++)if("entities"===(o=a[e]||[]).getName()){t=o;break}for(e in i=(n=t.components.data).length,n)n.hasOwnProperty(e)&&(r=(n[e]||{}).config||{},l.push({id:r.id,originalId:r.originalId||r.id,label:r.label,shortlabel:r.shortLabel,value:r.value,formattedValue:r.formattedValue,toolText:r.toolText}));return l},getMapAttribute:function(){var e=this;return(0,g.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),e.getChartAttribute.apply(e,arguments)},exportMap:function(){var e=this;return(0,g.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){var t,o,n,r=this.jsVars.instanceAPI.getDatasets()||[],a=r.length;for(t=0;t<a;t++)if("markers"===(o=r[t]||[]).getName()){n=o;break}n&&!n.addMarkerItem(e)&&(0,g.raiseWarning)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){var o,n,r,a,i=this.jsVars.instanceAPI.getDatasets()||[],l=i.length;for(n=0;n<l;n++)if("markers"===(r=i[n]||[]).getName()){a=r;break}a&&e&&(o=(e+S).toLowerCase(),a.updateMarkerItem(o,t))},removeMarker:function(e){var t,o,n,r,a=this.jsVars.instanceAPI.getDatasets()||[],i=a.length;for(o=0;o<i;o++)if("markers"===(n=a[o]||[]).getName()){r=n;break}e&&(t=(e+S).toLowerCase(),r._removeMarkerItem(t))}},S="",L="bottom",F=window.Math,T=F.min,E=F.max,N=function(e){function t(t,o){var n,r;for(r in(n=e.call(this)||this).subpalette=p.BLANKSTRING,n.key=p.BLANKSTRING,n.index=o,t)n.subpalette=k[t[r]],n[r]=n.subpalette instanceof Array?n.subpalette[o]:n.subpalette,n.key=r;return n}return(0,s.default)(t,e),t}(d.ComponentInterface),A=function(e){function t(){var t;return(t=e.call(this)||this).friendlyName="Map",t.revision=1,t.hasCanvas=!0,t.standaloneInit=!1,t.defaultDatasetType="maps",t.defaultSeriesType="geo",t.fireGroupEvent=!0,t.legendposition="right",t.hasGradientLegend=!0,t.isMap=!0,t.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[C,C,C,C,C],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},t.colorPaletteMap=x,t.eiMethods=w,t.registerFactory("legend",v.default,["canvas"]),t.registerFactory("axis",p.stubFN,["canvas"]),t.registerFactory("colormanager-decider",b.default,["legend"]),t.registerFactory("dataset",f.default,["colormanager-decider"]),t.registerFactory("canvas",m.default),t}(0,s.default)(t,e);var o=t.prototype;return o._checkInvalidSpecificData=function(){return this.config.invalid=!1,!1},o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this);var t=this.config;!t.baseWidth&&(t.baseWidth=400),!t.baseHeight&&(t.baseHeight=300),!t.baseScaleFactor&&(t.baseScaleFactor=1)},t.getName=function(){return"maps"},t.getType=function(){return"chartAPI"},o.getName=function(){return this.config.name||"GEO"},o.getType=function(){return"chartAPI"},o.configureAttributes=function(t){var o,n=this,r=n.getChildren("colorPalette")&&n.getChildren("colorPalette")[0];o=t.chart=t.chart||t.graph||t.map||{},n.jsonData=t,r||(r=new N(this.colorPaletteMap,(o.palette>0&&o.palette<6?o.palette:(0,p.pluckNumber)(n.paletteIndex,1))-1),n.attachChild(r,"colorPalette")),n.config.skipCanvasDrawing=!0,e.prototype.configureAttributes.call(this,t),n._parseBackgroundCosmetics()},o.parseChartAttr=function(t){var o,n,r,a,i,l=this,s=l.jsonData,c=s.chart||s.map,d=s.markers,u=new N(this.colorPaletteMap,(c.palette>0&&c.palette<6?c.palette:(0,p.pluckNumber)(l.paletteIndex,1))-1),h=(0,p.pluck)(c.entitybordercolor,c.bordercolor,u.plotbordercolor),g=(0,p.pluck)(c.entityfillcolor,c.fillcolor,u.plotfillcolor),f=(0,p.pluck)(c.entityfillalpha,c.fillalpha,u.plotfillalpha),m=(0,p.pluck)(c.entityfillratio,c.fillratio,u.plotfillratio),b=(0,p.pluck)(c.entityfillangle,c.fillangle,u.plotfillangle),v=(0,p.pluck)(c.nullentityfillcolor,c.nullentitycolor,g),y=(0,p.pluckNumber)(c.usevaluesformarkers,s.markers&&s.markers.items&&s.markers.items.length,!(s.markers&&s.markers.application&&s.markers.application.length&&s.markers.definition&&s.markers.definition.length));e.prototype.parseChartAttr.call(this,t),(o=l.config).origMarginTop=(0,p.pluckNumber)(c.charttopmargin,c.maptopmargin,11),o.origMarginLeft=(0,p.pluckNumber)(c.chartleftmargin,c.mapleftmargin,11),o.origMarginBottom=(0,p.pluckNumber)(c.chartbottommargin,c.mapbottommargin,11),o.origMarginRight=(0,p.pluckNumber)(c.chartrightmargin,c.maprightmargin,11),o.labelsOnTop=(0,p.pluckNumber)(c.entitylabelsontop,1),n=(i=o.style).inCancolor,r=i.inCanfontFamily,a=i.inCanfontSize,o.entityOpts={baseScaleFactor:o.baseScaleFactor,dataLabels:{style:{fontFamily:r,fontSize:a,lineHeight:i.inCanLineHeight,color:(0,p.pluck)(c.entitylabelcolor,i.inCancolor),bgColor:(0,p.pluck)(c.entitylabelbgcolor)||S,borderColor:(0,p.pluck)(c.entitylabelbordercolor)||S}},fillColor:g,fillAlpha:f,fillRatio:m,fillAngle:b,borderColor:h,borderAlpha:(0,p.pluck)(c.entityborderalpha,c.borderalpha,l.borderAlpha,"100"),borderThickness:(0,p.pluckNumber)(c.showentityborder,c.showborder,1)?(0,p.pluckNumber)(c.entityborderthickness,c.borderthickness,1):0,scaleBorder:(0,p.pluckNumber)(c.scaleentityborder,c.scaleborder,0),hoverFillColor:(0,p.pluck)(c.entityfillhovercolor,c.hoverfillcolor,c.hovercolor,u.plothoverfillcolor),hoverFillAlpha:(0,p.pluck)(c.entityfillhoveralpha,c.hoverfillalpha,c.hoveralpha,u.plothoverfillalpha),hoverFillRatio:(0,p.pluck)(c.entityfillhoverratio,c.hoverfillratio,c.hoverratio,u.plothoverfillratio),hoverFillAngle:(0,p.pluck)(c.entityfillhoverangle,c.hoverfillangle,c.hoverangle,u.plothoverfillangle),hoverBorderThickness:(0,p.pluck)(c.entityborderhoverthickness,c.hoverborderthickness),hoverBorderColor:(0,p.pluck)(c.entityborderhovercolor,h,u.plotbordercolor),hoverBorderAlpha:(0,p.pluck)(c.entityborderhoveralpha,u.plotborderalpha),nullEntityColor:v,nullEntityAlpha:(0,p.pluck)(c.nullentityfillalpha,c.nullentityalpha,f),nullEntityRatio:(0,p.pluck)(c.nullentityfillratio,c.nullentityratio,m),nullEntityAngle:(0,p.pluck)(c.nullentityfillangle,c.nullentityangle,b),connectorColor:(0,p.pluck)(c.labelconnectorcolor,c.connectorcolor,n),connectorAlpha:(0,p.pluck)(c.labelconnectoralpha,c.connectoralpha,"100"),connectorThickness:(0,p.pluckNumber)(c.labelconnectorthickness,c.borderthickness,1),showHoverEffect:(0,p.pluckNumber)(c.showentityhovereffect,c.usehovercolor,c.showhovereffect,1),hoverOnNull:(0,p.pluckNumber)(c.hoveronnull,c.entityhoveronnull,1),labelPadding:(0,p.pluckNumber)(c.labelpadding,5),showLabels:(0,p.pluckNumber)(c.showlabels,1),labelsOnTop:(0,p.pluckNumber)(c.entitylabelsontop,1),includeNameInLabels:(0,p.pluckNumber)(c.includenameinlabels,1),includeValueInLabels:(0,p.pluckNumber)(c.includevalueinlabels,0),useSNameInTooltip:(0,p.pluckNumber)(c.usesnameintooltip,0),useShortName:(0,p.pluckNumber)(c.usesnameinlabels,1),labelSepChar:(0,p.pluck)(c.labelsepchar,", "),showTooltip:(0,p.pluckNumber)(c.showentitytooltip,c.showtooltip,1),tooltipSepChar:(0,p.pluck)(c.tooltipsepchar,", "),tooltext:c.entitytooltext,hideNullEntities:(0,p.pluckNumber)(c.hidenullentities,0),showHiddenEntityBorder:(0,p.pluckNumber)(c.showhiddenentityborder,1),showNullEntityBorder:(0,p.pluckNumber)(c.shownullentityborder,1),hiddenEntityColor:(0,p.pluck)(c.hiddenentitycolor,c.hiddenentityfillcolor,c.hiddenentityalpha||c.hiddenentityfillalpha?v:"ffffff"),hiddenEntityAlpha:(0,p.pluck)(c.hiddenentityalpha,c.hiddenentityfillalpha,.001),shadow:(0,p.pluckNumber)(c.showshadow,l.defaultPlotShadow,u.shadow)},o.markerOpts={dataLabels:{style:{fontFamily:(0,p.pluck)(c.markerfont,r),fontSize:(0,p.pluckNumber)(c.markerfontsize,parseInt(a,10)),fontColor:(0,p.pluck)(c.markerlabelcolor,c.markerfontcolor,n),labelBgColor:(0,p.pluck)(c.markerlabelbgcolor)||S,labelBorderColor:(0,p.pluck)(c.markerlabelbordercolor)||S}},showTooltip:(0,p.pluckNumber)(c.showmarkertooltip,c.showtooltip,1),showLabels:(0,p.pluckNumber)(c.showmarkerlabels,c.showlabels,1),showHoverEffect:(0,p.pluckNumber)(c.showmarkerhovereffect,1),labelPadding:(0,p.pluck)(c.markerlabelpadding,"5"),labelWrapWidth:(0,p.pluckNumber)(c.markerlabelwrapwidth,0),labelWrapHeight:(0,p.pluckNumber)(c.markerlabelwrapheight,0),fillColor:(0,p.pluck)(c.markerfillcolor,c.markerbgcolor,u.markerfillcolor),fillAlpha:(0,p.pluck)(c.markerfillalpha,u.markerfillalpha),fillAngle:(0,p.pluck)(c.markerfillangle,u.markerfillangle),fillRatio:(0,p.pluck)(c.markerfillratio,u.markerfillratio),fillPattern:(0,p.pluck)(c.markerfillpattern,u.markerbgpattern),hoverFillColor:c.markerfillhovercolor,hoverFillAlpha:c.markerfillhoveralpha,hoverFillRatio:c.markerfillhoverratio,hoverFillAngle:c.markerfillhoverangle,borderThickness:(0,p.pluck)(c.markerborderthickness,1),borderColor:(0,p.pluck)(c.markerbordercolor,u.markerbordercolor),borderAlpha:(0,p.pluckNumber)(c.markerborderalpha,u.markerborderalpha),hoverBorderThickness:c.markerborderhoverthickness,hoverBorderColor:c.markerborderhovercolor,hoverBorderAlpha:c.markerborderhoveralpha,radius:(0,p.pluckNumber)(c.markerradius&&(0,p.trimString)(c.markerradius),7),shapeId:(0,p.pluck)(c.defaultmarkershape,"circle"),labelSepChar:(0,p.pluck)(c.labelsepchar,", "),tooltipSepChar:(0,p.pluck)(c.tooltipsepchar,", "),autoScale:(0,p.pluckNumber)(c.autoscalemarkers,0),tooltext:(0,p.pluck)(d&&d.tooltext,c.markertooltext),dataEnabled:y,valueToRadius:(0,p.pluckNumber)(c.markerradiusfromvalue,1),valueMarkerAlpha:(0,p.pluck)(c.valuemarkeralpha,"75"),hideNull:(0,p.pluckNumber)(c.hidenullmarkers,0),nullRadius:(0,p.pluckNumber)(c.nullmarkerradius,c.markerradius,7),adjustViewPort:(0,p.pluckNumber)(c.adjustviewportformarkers,0),startAngle:(0,p.pluckNumber)(c.markerstartangle,90),maxRadius:(0,p.pluckNumber)(c.maxmarkerradius,0),minRadius:(0,p.pluckNumber)(c.minmarkerradius,0),applyAll:(0,p.pluckNumber)(c.applyallmarkers,0),shadow:(0,p.pluckNumber)(c.showmarkershadow,c.showshadow,0)},o.connectorOpts={showHoverEffect:(0,p.pluckNumber)(c.showconnectorhovereffect,1),thickness:(0,p.pluckNumber)(c.connectorthickness,c.markerconnthickness,"2"),color:(0,p.pluck)(c.connectorcolor,c.markerconncolor,u.markerbordercolor),alpha:(0,p.pluck)(c.connectoralpha,c.markerconnalpha,"100"),hoverThickness:(0,p.pluckNumber)(c.connectorhoverthickness,c.connectorthickness,c.markerconnthickness,"2"),hoverColor:(0,p.pluck)(c.connectorhovercolor,c.connectorcolor,c.markerconncolor,u.markerbordercolor),hoverAlpha:(0,p.pluck)(c.connectorhoveralpha,c.connectoralpha,c.markerconnalpha,"100"),dashed:(0,p.pluckNumber)(c.connectordashed,c.markerconndashed,0),dashLen:(0,p.pluckNumber)(c.connectordashlen,c.markerconndashlen,3),dashGap:(0,p.pluckNumber)(c.connectordashgap,c.markerconndashgap,2),font:(0,p.pluck)(c.connectorfont,c.markerconnfont,r),fontColor:(0,p.pluck)(c.connectorlabelcolor,c.connectorfontcolor,c.markerconnfontcolor,n),fontSize:(0,p.pluckNumber)(c.connectorfontsize,c.markerconnfontsize,parseInt(a,10)),showLabels:(0,p.pluckNumber)(c.showconnectorlabels,c.showmarkerlabels,c.showlabels,1),labelBgColor:(0,p.pluck)(c.connectorlabelbgcolor,c.markerconnlabelbgcolor,u.plotfillcolor),labelBorderColor:(0,p.pluck)(c.connectorlabelbordercolor,c.markerconnlabelbordercolor,u.markerbordercolor),shadow:(0,p.pluckNumber)(c.showconnectorshadow,c.showmarkershadow,c.showshadow,0),showTooltip:(0,p.pluckNumber)(c.showconnectortooltip,c.showmarkertooltip,c.showtooltip,1),tooltext:(0,p.pluck)(d&&d.connectortooltext,c.connectortooltext),hideOpen:(0,p.pluckNumber)(c.hideopenconnectors,1)},o.adjustViewPortForMarkers=(0,p.pluckNumber)(c.adjustviewportformarkers,y)},o._attachMouseEvents=function(){var e=this,o=e.getFromEnv("eventListeners"),n=e.getFromEnv("chart-container");o.push(h.default.listen(n,p.hasTouch?"touchstart":"click",t.searchMouseMove,e)),o.push(h.default.listen(window.document,p.hasTouch?"touchstart":"mousemove",t.searchMouseMove,e))},o._dispose=function(){var o=this.getFromEnv("chart-container");p.hasTouch&&(h.default.unlisten(o,"touchstart",t.searchMouseMove),h.default.unlisten(window.document,"touchstart",t.searchMouseMove)),h.default.unlisten(o,"click",t.searchMouseMove),h.default.unlisten(window.document,"mousemove",t.searchMouseMove),e.prototype._dispose.call(this)},t.searchMouseMove=function(e){var t,o=e.data,n=o.config,r=o.getDatasets()[1],a=r&&r.getFromEnv("toolTipController"),i=r&&r.config.currentToolTip,l=o.config.lastHoveredPoint,s={};o.getFromEnv("chart-container")&&o.config.lastInteractionEvent!==e.originalEvent&&(o.config.lastInteractionEvent=e.originalEvent,(t=function(e,t){var o=(0,p.getMouseCoordinate)(t.getFromEnv("chart-container"),e,t),n=o.chartX,r=o.chartY,a=t.config,i=a.canvasLeft,l=a.canvasTop,s=a.canvasLeft+a.canvasWidth,c=a.canvasHeight+a.canvasTop;return o.insideCanvas=!1,o.originalEvent=e,n>i&&n<s&&r>l&&r<c&&(o.insideCanvas=!0),o}(e,o))&&t.insideCanvas?(n.lastMouseEvent=e,s={x:t.chartX,y:t.chartY},o._searchNearestNeighbour(s,e)):(l&&r&&r.hoverOutFn(l.element),o.config.lastHoveredPoint=null,a&&a.hide(i)))},o._searchNearestNeighbour=function(e,t){var o,n=this.getDatasets()[1];if(n){if(!n.components.kDTree)return;(o=n.getElement(e))?n.highlightPoint(o,t):n.highlightPoint(!1,t)}},o._createLayers=function(){e.prototype._createLayers.call(this),this._attachMouseEvents()},o._parseBackgroundCosmetics=function(){var e,t=this,o=t.getChildren("background")[0].config,n=t.getChildren("colorPalette")[0],r=t.getFromEnv("chart-attrib");e=o.showBorder=(0,p.pluckNumber)(r.showcanvasborder,1),o.borderWidth=e?(0,p.pluckNumber)(r.canvasborderthickness,1):0,o.borderRadius=o.borderRadius=(0,p.pluckNumber)(r.canvasborderradius,0),o.borderDashStyle=o.borderDashStyle=(0,p.pluckNumber)(r.borderdashed,0)?(0,p.getDashStyle)((0,p.pluckNumber)(r.borderdashlen,4),(0,p.pluckNumber)(r.borderdashgap,2)):"none",o.borderAlpha=(0,p.pluck)(r.canvasborderalpha,n.borderAlpha),o.borderColor=o.borderColor=(0,p.convertColor)((0,p.pluck)(r.canvasbordercolor,n&&n.borderColor),o.borderAlpha)},o._getBackgroundCosmetics=function(){var e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,o=e.getChildren("colorPalette")[0];return{FCcolor:{color:(0,p.pluck)(t.bgcolor,t.canvasbgcolor,o.bgcolor),alpha:(0,p.pluck)(t.bgalpha,t.canvasbgalpha,o.bgalpha),angle:(0,p.pluck)(t.bgangle,t.canvasbgangle,o.bgangle),ratio:(0,p.pluck)(t.bgratio,t.canvasbgratio,o.bgratio)}}},o._parseCanvasCosmetics=function(){e.prototype._parseCanvasCosmetics.call(this);var t=this,o=t.config,n=t.getFromEnv("chart-attrib")||t.jsonData.map,r=t.getChildren("canvas")[0].config;o.origMarginTop=(0,p.pluckNumber)(n.maptopmargin,11),o.origMarginLeft=(0,p.pluckNumber)(n.mapleftmargin,11),o.origMarginBottom=(0,p.pluckNumber)(n.mapbottommargin,11),o.origMarginRight=(0,p.pluckNumber)(n.maprightmargin,11),o.origCanvasLeftMargin=(0,p.pluckNumber)(n.canvasleftmargin,0),o.origCanvasRightMargin=(0,p.pluckNumber)(n.canvasrightmargin,0),o.origCanvasTopMargin=(0,p.pluckNumber)(n.canvastopmargin,0),o.origCanvasBottomMargin=(0,p.pluckNumber)(n.canvasbottommargin,0),r.canvasBorderRadius=(0,p.pluckNumber)(n.canvasborderradius,0),r.origCanvasTopPad=(0,p.pluckNumber)(n.canvastoppadding,0),r.origCanvasBottomPad=(0,p.pluckNumber)(n.canvasbottompadding,0),r.origCanvasLeftPad=(0,p.pluckNumber)(n.canvasleftpadding,0),r.origCanvasRightPad=(0,p.pluckNumber)(n.canvasrightpadding,0)},o.preliminaryScaling=function(){for(var e,t,o,n=this.jsonData,r=n.markers&&n.markers.items||[],a=r&&r.length||0,i=1/0,l=1/0,s=-1/0,c=-1/0;a--;)o=r[a],e=Number(o.x),t=Number(o.y),i=T(i,e),l=T(l,t),s=E(s,e),c=E(c,t);return{x:i,y:l,x1:s,y1:c}},o.getScalingParameters=function(e,t,o,n){var r,a,i=e/t,l=o/(e*this.config.baseScaleFactor),s=n/(t*this.config.baseScaleFactor),c=0,d=0;return l>s?(c+=(o-n*i)/2,a=200/(t*(r=s))):(d+=(n-o/i)/2,a=200/(e*(r=l))),{scaleFactor:r,strokeWidth:a,translateX:c,translateY:d}},o.calculateMarkerBounds=function(e,t,o){var n,r,a,i,l,s,c,d,u,h,g,p,f=this,m=f.config,b=m.markerOpts,v=f.getDatasets(),y=f.getDataLimits(),k=y.dataMin,C=y.dataMax,x=b.hideNull,w=b.nullRadius,S=b.valueToRadius,L=1/0,F=1/0,N=-1/0,A=-1/0;for(s=0,d=v.length;s<d;s++)"markers"===(c=v[s]).getName()&&(n=c);if(n)for(s in n.calculateMarkerRadiusLimits(),a=(r=n.config||{}).minRadius,i=r.maxRadius,l=n.components&&n.components.markerObjs||{})p=(m=l[s].config).definition||{},null!==m.cleanValue?(S&&undefined===p.radius&&(m.radius=a+(i-a)*(m.cleanValue-k)/(C-k)),g=Number(m.radius),u=(Number(p.x)+t)*e,h=(Number(p.y)+o)*e,L=T(L,u-g),F=T(F,h-g),N=E(N,u+g),A=E(A,h+g)):x?m.__hideMarker=!0:null===m.radius&&(m.radius=w);return{x:L,y:F,x1:N,y1:A}},o._spaceManager=function(){var e,t,o,n,r,a,i,l,s,c,d=this,u=d.config,h=d.getChildren("legend")&&d.getChildren("legend")[0],g=d.getChildren("gLegend")&&d.getChildren("gLegend")[0],f=h&&h.config.legendPos?h.config.legendPos.split("-"):g&&g.conf.legendPosition?g.conf.legendPosition.split("-"):[],m=d.getFromEnv("chart-attrib"),b=u.showBorder,v=u.origMarginLeft,y=u.origMarginTop,k=d.config.baseWidth,C=d.config.baseHeight,x={},w=0,S=0,F=u.markerOpts,T=u.borderWidth=b?(0,p.pluckNumber)(m.borderthickness,1):0;d._allocateSpace({top:T,bottom:T,left:T,right:T}),d._allocateSpace(d._manageActionBarSpace&&d._manageActionBarSpace(.225*u.availableHeight)||{}),s="right"===f[0]||"left"===f[0]?.3*u.canvasWidth:.3*u.canvasHeight,t=f[0]===p.POSITION_TOP||f[0]===L?u.canvasHeight:u.canvasWidth,u.showLegend&&d._manageLegendSpace(s),e=f[0]===L||f[0]===p.POSITION_TOP?.225*u.canvasHeight:.225*u.canvasWidth,"top"===f[0]&&(y+=t-u.canvasHeight),c=d._manageChartMenuBar(e),"left"===f[0]&&(v+=t-u.canvasWidth),n=u.canvasWidth,r=u.canvasHeight,F.dataEnabled?(u.adjustViewPortForMarkers?((x=d.preliminaryScaling()).x1>k&&(k=x.x1),x.x<0&&(k+=-x.x,w=-x.x),x.y1>C&&(C=x.y1),x.y<0&&(C+=-x.y,S=-x.y),o=d.getScalingParameters(k,C,n,r),i=r,l=n,(x=d.calculateMarkerBounds(o.scaleFactor*d.config.baseScaleFactor,w,S)).x<0&&(v+=-x.x,n+=x.x),x.y<0&&(y+=-x.y,r+=x.y),x.x1>l&&(n-=x.x1-l),x.y1>i&&(r-=x.y1-i)):(o=d.getScalingParameters(k,C,n,r),d.calculateMarkerBounds(o.scaleFactor*d.config.baseScaleFactor,w,S)),v+=w*(o=d.getScalingParameters(k,C,n,r)).scaleFactor*d.config.baseScaleFactor,y+=S*o.scaleFactor*d.config.baseScaleFactor):o=d.getScalingParameters(k,C,n,r),d.config.scalingParams=o,a=o.scaleFactor,o.translateX=o.translateX+v,o.translateY=o.translateY+y+c.top||0,o.sFactor=a*d.config.baseScaleFactor*100/100,o.transformStr=["t",o.translateX,",",o.translateY,"s",a,",",a,",0,0"].join(""),d.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:o.translateX?o.translateX:0,grpyshift:o.translateY?o.translateY:0,xscale:100*(a?a*d.config.baseScaleFactor:1),yscale:100*(a?a*d.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}}},o.getDataLimits=function(){var e,t,o=this.getDatasets(),n=o.length,r=1/0,a=-1/0;for(t=0;t<n;t++)e=o[t].getDataLimits(),r=T(r,e.min),a=E(a,e.max);return{dataMin:r,dataMax:a}},o.getEntityPaths=function(e){var t,o={},n=this.config.entities;if(e){for(t in n)o[t]=n[t];return o}return n},o.checkComplete=function(){var e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))},t}(c.default);i=A})),o.register("b4YIe",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("5I3Us")),c=l(o("3b8kR")),d=o("9EUIp"),u=l(o("dyMK0")),h=l(o("2hGaS")),g=function(e){function t(){var t;return(t=e.call(this)||this).registerFactory("dataset",u.default,["vCanvas"]),t.registerFactory("legend",h.default),t}(0,s.default)(t,e),t.getName=function(){return"MSCartesian"};var o=t.prototype;return o.getName=function(){return"MSCartesian"},o.getType=function(){return"chartAPI"},o._manageLegendSpace=function(){d._manageLegendSpace.call(this)},o.manageGradientLegendSpace=function(e){return d.manageGradientLegendSpace.call(this,e)},t}(c.default);i=g})),o.register("9EUIp",(function(t,n){var r,a;e(t.exports,"_manageLegendSpace",(function(){return r}),(function(e){return r=e})),e(t.exports,"manageGradientLegendSpace",(function(){return a}),(function(e){return a=e})),r=function(){var e,t,o,n,r=this,a=r.config,l=r.getChildren("legend")&&r.getChildren("legend")[0],s=r.getChildren("gLegend")&&r.getChildren("gLegend")[0],c=r.getFromEnv("dataSource").colorrange,d=a.hasLegend,u={},h=r.hasGradientLegend,g=r.getFromEnv("dataSource").chart,p=(0,i.pluckNumber)(g.mapbycategory,0);h&&c&&(0,i.pluckNumber)(c.gradient)&&!p?(e=s.conf,h=!0,a.gLegendEnabled=!0,t=e.legendPosition?e.legendPosition.split("-"):[],n=t[0]===i.POSITION_RIGHT||t[0]===i.POSITION_LEFT?.4:.5):(e=l&&l.config,h=!1,a.gLegendEnabled=!1,t=e&&e.legendPos?e.legendPos.split("-"):[i.POSITION_BOTTOM],n=t[0]===i.POSITION_RIGHT||t[0]===i.POSITION_LEFT?.8:.4);o=t[0]===i.POSITION_ABSOLUTE?.4*a.availableHeight:t[0]===i.POSITION_RIGHT||t[0]===i.POSITION_LEFT?a.availableWidth*n:a.availableHeight*n;h?u=r.manageGradientLegendSpace(o):!1!==d&&l&&!l.getState("removed")&&(u=l&&l._manageLegendPosition(o));u&&r._allocateSpace(u)},a=function(e){var t,o,n,r=this,a=r.config,l=r.getFromEnv("gLegend"),s=l&&l.conf,c={top:0,bottom:0,left:0,right:0};a.gLegendPadding=(0,i.pluckNumber)(r.getFromEnv("chart-attrib").legendpadding,10),o=Math.min(a.gLegendPadding,.5*e),s&&(t=s.legendPosition?s.legendPosition.split("-"):[],n=l.getLogicalSpace(e),t[0]===i.POSITION_BOTTOM?c.bottom=(n.height||0)+o:t[0]===i.POSITION_TOP?c.top=(n.height||0)+o:t[0]===i.POSITION_LEFT?c.left=(n.width||0)+o:t[0]!==i.POSITION_ABSOLUTE&&(c.right=(n.width||0)+o));return c};var i=o("c90mW")})),o.register("dyMK0",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e})),a=!0,i=function(e){var t,o,n,r,a=e.getFromEnv("dataSource").dataset,i=e.getChildren().canvas[0],s=t=i.getChildren("vCanvas")[0],c=e.config.defaultDatasetType||"";if(!a)return void e.setChartMessage();(n=e.getDSGroupdef())&&((0,l.componentFactory)(t,n,"datasetGroup_"+c,1,[a]),r=t.getChildren("datasetGroup_"+c));r&&(s=r[0]),o=e.getDSdef(),(0,l.datasetFactory)(s,o,"dataset",a.length,a)};var l=o("c90mW")})),o.register("2hGaS",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=function(e){var t;(0,s.componentFactory)(e,c.default,"legend"),(t=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",t),e.config.showLegend||t.remove()};var s=o("c90mW"),c=l(o("fGrF8"))})),o.register("fGrF8",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("jqdsN")),c=l(o("eiXAs")),d=l(o("5I3Us")),u=o("c90mW"),h=o("94dom"),g=l(o("anCK7")),p=o("2QUau"),f=o("dmmqn"),m=l(o("5ndJB")),b=o("ht8Bg"),v=o("9thwY");function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){(0,s.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var C,x,w={left:u.POSITION_START,right:u.POSITION_END,center:u.POSITION_MIDDLE},S=Math,L=S.min,F=S.max,T=S.floor,E=S.ceil,N=",",A="px",I=u.preDefStr.NORMAL,_={fontWeight:{1:u.preDefStr.BOLD,0:I},fontStyle:{1:"italic",0:I},textDecoration:{1:"underline",0:u.preDefStr.noneStr}};(0,p.addDep)({name:"legendAnimation",type:"animationRule",extension:m.default});var P=function(e){return Array(e).fill()},O=function(e){function t(){var t;t=e.call(this)||this;var o=(0,c.default)(t);return o._stateCosmetics={},o._legendState=[],o.dragDraw=function(){o.draw()},o.drawScroll=function(){o.createItemGroup(),o.createCaptionGroup()},o.config.handlers=function(e){var t,o;return{dragstart:function(){t=e.config.xL||e.config.xPos,o=e.config.yL||e.config.yPos},dragmove:function(n){var r,a,i=n.originalEvent.data[0],l=n.originalEvent.data[1],s=e.config,c=e.getFromEnv("chartConfig"),d=(s.borderWidth||0)+2;r=L(F(t+i,d),c.width-s.width-d),a=L(F(o+l,d),c.height-s.height-d),s.xPos=s.xL=r,s.yPos=s.yL=a,e.addJob("draw",e.dragDraw,b.priorityList&&b.priorityList.draw)}}}(o),t}(0,d.default)(t,e);var o=t.prototype;return o.createItem=function(e){var t;return t=new g.default,this.attachChild(t,"legendItem"),t.setLinkedItem("owner",e),t.addEventListener("mouseover",(function(){t.setLegendState("hover",!0)})),t.addEventListener("mouseout",(function(){t.removeLegendState("hover")})),t.getId()},o.getItem=function(e){var t=this.getChildren().legendItem;if(e===C)return!1;if(t)for(var o=0;o<t.length;o++)if(t[o].getId()===e)return t[o]},o.getSortedLegendItems=function(){var e,t,o=this.getChildren("legendItem")||[],n=this.config.reverselegend,r={},a=[];for(e=0,t=o.length;e<t;e++)o[e].config.index===C?r[t+e]=o[e]:r[o[e].config.index]=o[e];return Object.keys(r).sort((function(e,t){return n?t-e:e-t})).forEach((function(e){a.push(r[e])})),a},o.disposeItem=function(e){var t=this.getItem(e);t&&t.remove()},o.getName=function(){return"legend"},o.getType=function(){return"legend"},o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this);var t=this.config;t.enabled=!0,t.symbolWidth=12,t.borderRadius=1,t.lastScrollPos=0,t.oriSymbolPadding=3,t.textPadding=4,t.scrollY=0,t.scrollX=0,t.backgroundColor="#ffffff",t.initialItemX=0,t.title={text:u.BLANKSTRING,x:0,y:0,padding:2},t.scroll={},t.horizontalScroll={},t.itemStyle={}},o.createLegendGroup=function(){var e,t=this,o=t.config,n=t.getFromEnv("chart"),r=n.config,a=t.getFromEnv("animationManager"),i=.5*(o.borderWidth||0)+2,l=t.getContainer("legendGroup");o.xL&&(o.xL=L(F(o.xL,i),r.width-o.width-i)),o.yL&&(o.yL=L(F(o.yL,i),r.height-o.height-i)),e=a.setAnimation({el:l||"group",attr:{name:"legendGroup",transform:["T",o.xL||o.xPos,o.yL||o.yPos]},container:n.getChildContainer("legendGroup"),component:t}),l||t.addContainer("legendGroup",e)},o.drawDualScrollRect=function(){var e=this.getGraphicalElement("dualScrollRect"),t=this.getGraphicalElement("scrollbarContainer"),o=this.getFromEnv("animationManager");this.config.scroll.enabled&&this.config.horizontalScroll.enabled?(e=o.setAnimation({el:e||"rect",attr:{x:this.config.width-12,y:this.config.height-12,height:12,width:12,fill:this.config.legendScrollBgColor,stroke:"none"},component:this,container:t}),e=this.addGraphicalElement("dualScrollRect",e)):e&&e.remove()},o.draw=function(){this.createLegendGroup(),this.drawLegendBox(),this.createItemGroup(),this.createCaptionGroup(),this.drawCaption(),this.createScrollGroup(),this.decideScroll(),this.drawDualScrollRect()},o.decideScroll=function(){var e=this,t=e.config,o=t.scroll.enabled,n=t.horizontalScroll.enabled;o?this.createScrollBar():t.hasScroll&&(e.getChildren("legendScrollBar")[0].remove(),t.hasScroll=!1),n?this.createScrollBar(n):t.hasHorizontalScroll&&(e.getChildren("legendHorizontalScrollBar")[0].remove(),t.hasHorizontalScroll=!1)},o.createCaptionGroup=function(){var e,t=this.getChildContainer("captionGroup"),o=this.getFromEnv("animationManager"),n=this.getContainer("legendGroup"),r=(0,u.pluckNumber)(this.config.padding,4),a=.5*r,i=F(this.config.height-r,0),l=F(this.config.width-r,0),s=N+(this.config.horizontalScroll.enabled?l:this.config.width)+N+(this.config.scroll.enabled?i:this.config.height);this.config.horizontalScroll.enabled?(e=this.addChildContainer("captionGroup",o.setAnimation({el:t&&null!==t[0]?t:"group",attr:{name:"captionGroup",transform:["T",0,this.config.scrollY||0]},container:n,component:this})),this.config.scroll.enabled?e.attr({"clip-rect":"0,"+a+s}):e.attr({"clip-rect":null})):t&&t.remove()},o.createItemGroup=function(){var e,t=this,o=t.getFromEnv("animationManager"),n=t.getContainer("legendGroup"),r=t.getChildContainer("itemGroup"),a=(0,u.pluckNumber)(t.config.padding,4),i=.5*a,l=F(t.config.height-a,0),s=F(t.config.width-a,0),c=N+(t.config.horizontalScroll.enabled?s:t.config.width)+N+(t.config.scroll.enabled?l:t.config.height);return e=o.setAnimation({el:r||"group",attr:{name:"item",transform:["T",t.config.scrollX||0,t.config.scrollY||0]},container:n,component:t}),r||t.addChildContainer("itemGroup",e),t.config.scroll.enabled||t.config.horizontalScroll.enabled?e.attr({"clip-rect":"0,"+i+c}):e.attr({"clip-rect":null}),e},o.createScrollGroup=function(){var e=this,t=e.getFromEnv("animationManager"),o=e.getChildContainer("scrollGroup"),n=e.getContainer("legendGroup");!e.config.scroll.enabled&&!e.config.horizontalScroll.enabled||e.getGraphicalElement("scrollbarContainer")||e.addGraphicalElement("scrollbarContainer",t.setAnimation({el:o||"group",attr:{name:"scrollGroup"},container:n,component:e,label:"scrollbar"}))},o.createScrollBar=function(e){void 0===e&&(e=!1);var t,o,n,r,a,i,l,s,c=this,d=c.config,h=c.getFromEnv("chart-attrib"),g=e?"legendHorizontalScrollBar":"legendScrollBar",p=c.getChildren(g)&&c.getChildren(g)[0],m=d.borderWidth||0,v=.5*m,y=(0,u.pluckNumber)(d.padding,4),k=d.width,C=d.height;t={conf:{isHorizontal:e},handler:{scroll:function(t){function o(e){e.preventDefault()}document.addEventListener("touchmove",o,{passive:!1}),d.lastScrollPos=t,e?d.scrollX=(r-d.totalWidth)*t:d.scrollY=(n-d.totalHeight)*t,c.addJob("scrollDraw",c.drawScroll,b.priorityList&&b.priorityList.draw),x&&clearTimeout(x),x=setTimeout((function(){document.removeEventListener("touchmove",o)}),250)},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},h.legendscrollbgcolor&&(t.conf.color=(0,u.convertColor)(h.legendscrollbgcolor)),p||(p=c.attachChild(new f.ScrollBar,g),e?this.config.hasHorizontalScroll=!0:this.config.hasScroll=!0),p.configure(t.conf),p.attachEventHandlers(t.handler),o=p.config,e?(a=v,i=C-p.getLogicalSpace().height-m+.5*y,s=k-m,this.config.scroll.enabled&&this.config.horizontalScroll.enabled&&(s-=12),s=F(s,0),r=F(k-y,0),o.scrollRatio=(r+y)/d.totalWidth):(n=F(C-y,0),a=k-p.getLogicalSpace().width-m+.5*y,i=v,l=C-m,this.config.scroll.enabled&&this.config.horizontalScroll.enabled&&(l-=12),l=F(l,0),o.scrollRatio=(n+y)/d.totalHeight),o.startPercent=0,o.scrollPosition=d.lastScrollPos,o.parentLayer=c.getChildContainer("scrollGroup"),p.setDimension({x:a,y:i,height:l,width:s})},o.drawCaption=function(){var e,t,o,n,r=this,a=r.getGraphicalElement("caption"),i=r.config.horizontalScroll.enabled?r.getChildContainer("captionGroup"):r.getChildContainer("itemGroup"),l=this.getFromEnv("animationManager"),s=this.config,c=(0,u.pluckNumber)(s.padding,4),d=s.scroll.enabled,h=s.width;if(s.title&&s.title.text!==u.BLANKSTRING&&s.validLegendItem){switch(s.title.align){case u.POSITION_START:o=c;break;case u.POSITION_END:o=h-c-(d?10:0);break;default:o=.5*h}t=s.title.style,e={text:s.title.text,title:s.title.originalText||u.BLANKSTRING,x:o,y:c,fill:s.title.style.color,direction:s.textDirection,"line-height":t.lineHeight,"vertical-align":u.POSITION_TOP,"text-anchor":s.title.align,opacity:1},n={"font-weight":t.fontWeight,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-size":t.fontSize},a&&a.show(),a&&a[0]?l.setAnimation({el:a,attr:e,component:r,container:i,css:n}):(a=l.setAnimation({el:"text",attr:e,component:r,container:i,css:n}),a=this.addGraphicalElement("caption",a)),r.getFromEnv("toolTipController").enableToolTip(a,s.title.originalText)}else a&&l.setAnimation({el:a,component:r,doNotRemove:!0,callback:function(){a.hide()}})},o.drawLegendBox=function(){var e,t=this,o=this.getFromEnv("animationManager"),n=t.config,r=t.getContainer("legendGroup"),a=n.width,i=t.getGraphicalElement("box"),l=n.height,s=n.borderRadius,c=n.backgroundColor,d=n.borderColor,u=n.borderAlpha,h=n.backgroundAlpha,g=n.borderWidth||0;return e=o.setAnimation({el:i||"rect",attr:{x:0,y:0,width:a,height:l,r:s,stroke:d,"stroke-width":g,fill:c||"none","stroke-opacity":u/100,"fill-opacity":h/100,cursor:n.legendAllowDrag?"move":"default"},container:r,component:t,label:"legendGroup"}),i||(t.addGraphicalElement("box",e),e.shadow(n.shadow)),e},o._calculateTopPosition=function(e){var t=this.getFromEnv("chart"),o=t.config,n=e,r=t.getChildren("caption")&&t.getChildren("caption")[0],a=t.getChildren("subCaption")&&t.getChildren("subCaption")[0],i=t.getChildren("chartMenuBar")&&t.getChildren("chartMenuBar")[0],l=o.oriTopSpace;return!o.toolbarY&&i&&i.props&&i.props.height&&(l>i.props.height+i.props.y||(n=i.props.y+i.props.height)),r&&r.config&&r.config.text&&r.config.text!==u.BLANKSTRING&&r.config.height&&1===r.config.isOnTop&&(n=r.config.height+r.config.y+r.config.captionPadding),a&&a.config&&a.config.height&&1===a.config.isOnTop&&(n=a.config.y+a.config.height+(r&&r.config&&r.config.captionPadding||0)),F(n,e)},o.getPosition=function(){var e,t,o,n,r,a,i,l,s,c,d=this.getFromEnv("chart"),h=d.config,g=this.config,p=d.getChildren("canvas"),f=p&&p.length>1?h.height-p[0].config.canvasBottom:h.height-h.canvasBottom,m=h.canvasLeft,b=h.canvasRight,v=h.canvasWidth,y=g.chartMarginLeft||0,k=g.chartMarginRight||0,C=g.chartMarginTop||0,x=g.chartMarginBottom||0,w=h.actionBarHeight||0,S=g.actualCanvasMarginLeft||0,L=h.actualCanvasMarginTop||0,F=h.actualCanvasMarginBottom||0,T=h.actualCanvasMarginRight||0,E=g.alignLegendWithCanvas,N=h.height,A=h.canvasTop,I=g.width||0,_=g.height||0,P=h.borderWidth,O=h.oriCanvasLeft,M=h.oriCanvasRight,R=h.oriTopSpace,B=h.oriBottomSpace,D=0,G=0,z=g.borderWidth||0,j=g.legendPos?g.legendPos.split("-"):[],V=d.getChildren("caption")&&d.getChildren("caption")[0],W=d.getChildren("subCaption")&&d.getChildren("subCaption")[0];return j[0]!==u.POSITION_LEFT&&j[0]!==u.POSITION_RIGHT||(g.align=j[0],g.verticalAlign=u.POSITION_MIDDLE,s=g.layout="vertical"),j[0]===u.POSITION_ABSOLUTE?(e=g.legendXPosition,t=g.legendYPosition,e>(o=h.width-I-P)&&(e=o),t>(n=h.height-_-P)&&(t=n)):s?(j[0]===u.POSITION_LEFT?e=y+S+P:j[0]===u.POSITION_RIGHT&&(e=h.width-k-T-I-P),D=(0,u.pluckNumber)(R,A),G=(0,u.pluckNumber)(B,f),j[1]===u.POSITION_TOP?(t=D+(g.y||0),t=this._calculateTopPosition(t)):j[1]===u.POSITION_BOTTOM?(t=N-G-_+(g.y||0),(c=G-(P+x+w+(V&&0===V.config.isOnTop&&V.config.height?V.config.height+V.config.captionPadding:0)+(W&&0===V.config.isOnTop?W.config.height:0)))<0&&(t+=c)):t=D+.5*(N-G-D-_)+(g.y||0)):(i=h.width-(y+S+(k+T)),l=E?v-I:i-I,r=E?(0,u.pluckNumber)(O,m):y+S,a=E?h.width-(0,u.pluckNumber)(M,b):k+T,e=j[1]===u.POSITION_LEFT?r:j[1]===u.POSITION_RIGHT?h.width-(I+a):r+l/2,j[0]===u.POSITION_TOP?(t=C+L,t=this._calculateTopPosition(t)):t=N-_-F-x-w),(0,u.crispBound)(e,t,I,_,z)},o.setTranslation=function(e,t){var o=this.config;o._translateX=e,o._translateY=t,o.translate="t"+e+","+t},o.allocatePosition=function(){var e,t=this.config;e=t.translate?(0,u.crispBound)(t._translateX,t._translateY,t.width,t.height,t.borderWidth):this.getPosition(),t.xPos=e.x,t.yPos=e.y,t.width=e.width,t.height=e.height},o._manageLegendPosition=function(e){var t,o=this,n=o.config,r=n.legendPos?n.legendPos.split("-"):[],a={left:0,right:0,top:0,bottom:0};return n.padding=4,n.textPadding=4,t=r[0]===u.POSITION_ABSOLUTE?o._placeLegendBlockBottom(e,.6):r[0]===u.POSITION_LEFT||r[0]===u.POSITION_RIGHT?o._placeLegendBlockRight(e):o._placeLegendBlockBottom(e),r[0]===u.POSITION_LEFT?a.left=t&&t.right||0:r[0]===u.POSITION_RIGHT?a.right=t&&t.right||0:r[0]===u.POSITION_TOP?a.top=t&&t.bottom||0:r[0]!==u.POSITION_ABSOLUTE&&(a.bottom=t&&t.bottom||0,a.right=t&&t.right||0),a},o.setDimension=function(e){var t,o,n,r,a,i,l,s,c,d,h,g,p,f,m,b,y,x,w,S,N,I,_,O,M,R,B=this,D=this.config,G=B.getSortedLegendItems(),z=B.getFromEnv("chart-attrib"),j=G.length,V=(0,u.pluckNumber)(z.legendwidth,e.width),W=e.height,H=W,U=0,X=0,Y=0,K=0,Z=0,J=0,q=0,$=[],Q=D.padding,ee=D.textPadding,te=B.getFromEnv("smartLabel"),oe=B.getStateCosmetics("default"),ne=this.computeFontSize(D.legendFontSizeWithUnit),re=parseInt((0,u.setLineHeight)({fontSize:ne+A}),10),ae=parseInt(oe.text["font-size"],10)||10,ie=D.title,le=ie.padding,se=0,ce=D.minimiseWrappingInLegend,de=D.legendPadding,ue=D.legendScale,he=D.alignLegendWithCanvas,ge=D.numColumns,pe=D.numRows,fe=D.oriSymbolPadding,me=Number.MAX_SAFE_INTEGER,be=V,ve=!1,ye=!!pe,ke=0;for(h={width:2*Q,height:2*Q},B.setStateCosmetics("default",{text:{fill:oe.text.fill,"font-family":oe.text["font-family"],cursor:oe.text.cursor,"font-size":oe.text["font-size"],"line-height":oe.text["line-height"],"vertical-align":u.POSITION_TOP,"text-anchor":u.POSITION_START,direction:oe.text.direction,"font-weight":oe.text["font-weight"]},symbol:{bgColor:oe.symbol.bgColor,cursor:oe.symbol.cursor,borderColor:oe.symbol.borderColor,bgAlpha:oe.symbol.bgAlpha,borderAlpha:oe.symbol.borderAlpha,borderThickness:oe.symbol.borderThickness,startAngle:oe.symbol.startAngle,sides:oe.symbol.sides}}),(d=ae+1)<=0&&(d=1),V=Math.max(V-.5*Q,0),fe*=ue,(d=L(d*=ue,V))<=0&&(fe=d=0),D.symbolWidth=d,D.textPadding=4,D.legendHeight=c=d+2*fe,D.rowHeight=i=F(parseInt(oe.text["line-height"],10)||12,c),a=ee+fe+Q,te.setStyle((0,u.extend2)({},oe.text)),l=de+D.borderWidth/2+1,l=F(L(l,W-re-8),0),de=.05*i,D.initialItemY=0,D.initialItemX=0,O=c+de+ee+fe+2*Q,g=0;g<j;g+=1)o=t=(r=G[g]).config||(r.config={}),(n=t.name=(0,u.parseUnsafeString)(o.label))===u.BLANKSTRING||0===o.enabled||!1===o.enabled||r.getState("removed")?t.enabled=0:(t.enabled=1,Y+=1,S=!0,N=te.getOriSize(n),U=F(U,L(N.width,V-O)),J=F(J,L(N.height,H)),t._selfTotalWidth=N.width+O,X+=N.width);if(D.validLegendItem=S,K=X/Y,X+=O*Y,D.x=!he&&X>be?0:D.x,S){if(K+=O,U+=O,ie.oriText!==u.BLANKSTRING&&(ve=!0,te.setStyle(ie.style),N=te.getSmartText(ie.oriText,V-2*Q),ie.text=N.text,N.tooltext&&(ie.originalText=N.tooltext),se=N.width+2*Q,q=N.height+le),f=U,pe?!ge&&pe?(ke=1,Y<pe&&(pe=Y),ge=E(Y/pe)):E(Y/ge)<pe&&E(Y/pe)<ge||Y>ge*pe?pe=E(Y/ge):ge===E(Y/pe)&&(ke=1):X<=V?f=1===(pe=E(Y/(ge=ge||Y)))?X/Y:U:!ge&&V>U&&(ce||1.5*K>U)?(Y<(ge=T(V/U))&&(ge=Y),f=U):ge&&V/ge>K?(f=V/ge)>U&&(f=U):!ge&&V>=2*K?(Y<(ge=T(V/K))&&(ge=Y),(f=T(V/ge))>U&&(f=U)):ge||(ge=1,f=V),Z=ye?U:f,!ye&&1.5*K<U&&(f=K),pe&&!ce){var Ce,xe,we=Z;U>1.5*K&&(we=K),xe=L(Y,T(V/we)),Ce=E(Y/xe),D.numRows&&Ce!==pe||D.numColumns&&xe!==ge||1===pe&&1!==Ce||(Z=we,ge=xe,pe=Ce)}for(te.setStyle((0,u.extend2)({},oe.text)),g=0;g<j;g++)t=G[g].config,1===pe&&(Z=U>2.5*K?K:t._selfTotalWidth),0===(s=Math.ceil(Z-O))?(t.name=u.BLANKSTRING,t._totalWidth=d+fe,t._selfTotalWidth=t._totalWidth,t._selfTotalHeight=i):(N=te.getSmartText(t.name,s<t._selfTotalWidth-O?s+ee:C),t.name=N.text,t._textHeight=N.height,N.tooltext&&(t.originalText=N.tooltext),t._selfTotalHeight=N.height+ee>i?ee+N.height:i,t._totalWidth=d+a+N.width,t._selfTotalWidth=O+N.width,t._legendTestY=i>N.height?(i-N.height)/2:0,J=F(J,t._textHeight),me=F(1,L(me,t._textHeight)));if(m={style:{display:"grid",justifyItems:"center",alignItems:"start"}},b=[],ve&&b.push({style:{width:se,height:q,gridRowStart:1,gridRowEnd:2,gridColumnStart:1,gridColumnEnd:2}}),b.push({style:{display:"grid",justifyItems:"start",alignItems:"start",width:L(X,V,Z*ge),paddingEnd:Q,paddingTop:Q,gridRowStart:b.length+1,gridRowEnd:b.length+2,gridColumnStart:1,gridColumnEnd:2}}),y=[],ye||1===pe)for(p=0,g=1;p<j;p++)1===(t=(r=G[p]).config).enabled&&(0===ke?(M=E(g/ge),R=g%ge==0?ge:g%ge):(M=g%pe==0?pe:g%pe,R=E(g/pe)),y.push({style:{width:1===pe||R===ge?t._selfTotalWidth:Z,height:t._selfTotalHeight,gridRowStart:M,gridRowEnd:M+1,gridColumnStart:R,gridColumnEnd:R+1}}),g+=1);else{for(pe=0,me=F(me,i),p=0;p<j;p++)1===(t=(r=G[p]).config).enabled&&(pe+=Math.ceil(t._selfTotalHeight/me));0===pe&&(pe=Math.max(1,Math.ceil(Y/ge))),$=P(pe).map((function(){return P(ge)}));var Se,Le=0,Fe=0;for(p=0,g=1;p<j;p++)if(1===(t=(r=G[p]).config).enabled){for(;Le<pe;){for(;Fe<ge;){if($[Le][Fe]===C){R=Fe+1,M=Le+1,Se=1===ge?1:+(t._selfTotalHeight/me).toFixed(0),$[Le][Fe]=!0;for(var Te=Le;Te<Le+Se;Te++)$[Te][Fe]=!0}if(Fe++,$[Le][Fe-1])break}if(Fe>=ge&&(Fe=0,Le++),Se)break}y.push({style:{width:R===ge?t._selfTotalWidth:f,height:t._selfTotalHeight,gridRowStart:M,gridRowEnd:M+Se,gridColumnStart:R,gridColumnEnd:R+1}}),g+=1,Se=C}for(g=pe=0;g<$.length;g++)for(p=0;p<ge;p++)if($[g][p]){pe++;break}ge>1&&(b[b.length-1].style.gridTemplateRows=(me+" ").repeat(pe).slice(0,-1))}for(b[b.length-1].children=y,x=(0,v.computeLayout)(k(k({},m),{},{children:b})),D.itemWidth=Z,(s=E(Z-O))<0&&(fe=s=ee=0),D.symbolPadding=fe,D.textPadding=ee,D.width=D.totalWidth=Math.floor(F(x.layout.width,x.children[x.children.length-1].layout.width)),te.setStyle((0,u.extend2)({},oe.text)),p=0,g=0;p<j;p++)t=(r=G[p]).config,1===pe&&(s=t._selfTotalWidth)<0&&(fe=s=ee=0),1===t.enabled&&(0===s&&(t.name=u.BLANKSTRING,t._totalWidth=d+fe),t._legendX=x.children[x.children.length-1].children[g].layout.x,t._legendY=x.children[x.children.length-1].children[g].layout.y,t._legendH=x.children[x.children.length-1].children[g].layout.height,g+=1);if(w=pe,h.height+=w*i+q,D.height=D.totalHeight=x.layout.height+2*Q,D.rowHeight=i,D.legendNumColumns=ge,D.initialItemX=ve&&se>x.children[x.children.length-1].layout.width&&V>D.width?x.children[x.children.length-1].layout.x:0,D.initialItemY=x.children[x.children.length-1].layout.y,D.height-2*fe>W?(D.height=W,(I=D.scroll||(D.scroll={})).enabled=!0,I.flatScrollBars=D.flatScrollBars,I.scrollBar3DLighting=D.scrollBar3DLighting,D.width=D.width+12>V?D.width:D.width+12):D.scroll.enabled=!1,D.width>V&&D.scroll.enabled?(D.width=V,(_=D.horizontalScroll||(D.horizontalScroll={})).enabled=!0,_.flatScrollBars=D.flatScrollBars,_.scrollBar3DLighting=D.scrollBar3DLighting,D.height+12<=W?D.height=D.height+12:(D.height=W,D.totalHeight+=4,(I=D.scroll||(D.scroll={})).enabled=!0,I.flatScrollBars=D.flatScrollBars,I.scrollBar3DLighting=D.scrollBar3DLighting,D.scroll.enabled=!0)):D.horizontalScroll.enabled=!1,D.totalWidth>D.width&&D.totalWidth-D.width<=4){for(p=0,g=0;p<j;p++)1===(t=(r=G[p]).config).enabled&&(x.children[x.children.length-1].children[g].style.gridColumnStart%ge!=1&&(t._legendX+=4,1===x.children[x.children.length-1].children[g].style.gridRowStart&&(D.totalWidth+=4)),g+=1);D.totalHeight+=4}l+=D.height,D.isActive=!0,D.enabled=!0}else D.enabled=!1,D.width=0,l=0;return{width:D.width,height:l}},o._placeLegendBlockBottom=function(e,t){void 0===t&&(t=1);var o,n,r,a,i,l=this,s=l.getFromEnv("chart"),c=s.config,d=s.getFromEnv("chartWidth"),h=s.getFromEnv("chartHeight"),g=c.canvasLeft,p=c.width-(c.canvasRight||0),f=s.getFromEnv("smartLabel"),m=l.config,b=m.chartMarginLeft,v=m.chartMarginRight,y=m.chartMarginTop,k=m.alignLegendWithCanvas,C=l.getSortedLegendItems().length,x=m.legendPadding,w=c.canvasMarginRight,S=c.canvasMarginLeft,L=s.getChildren("yAxis"),F=L&&L[0].config.isVertical?L:s.getChildren("xAxis"),T=F&&F[0],E=F&&F[1],N=T&&T.config||{},A=E&&E.config||{},I=N.nameMaxW,_=A.nameMaxW,P=N.name&&N.name.style||{},O=A.name&&A.name.style||{},M=N.axisName||u.BLANKSTRING,R=A.axisName||u.BLANKSTRING,B=c.canvasWidth-c.canvasMarginLeft-c.canvasMarginRight,D=c.width,G=c.height,z=m.legendPos?m.legendPos.split("-"):[];return m.paddingBottom=c.height-c.canvasBottom,f.useEllipsesOnOverflow(c.useEllipsesWhenOverflow),f.setStyle(P),a=f.getOriSize(M),f.setStyle(O),i=f.getOriSize(R),B<x&&(m.padding=x=B=0),(a||i)&&(n=(0,u.pluckNumber)(a.height,0)>(0,u.pluckNumber)(i.height,0)?(r=I)&&a.width:(r=_)&&i.width),B=k?B:d-(n+y>h-e?2*r+v+b+w+S:v+b+S+w),z[0]===u.POSITION_ABSOLUTE&&(B=D,m.legendMaxWidth<D?B=m.legendMaxWidth:B*=t),m.showLegend&&0!==C?(m.x=(g-b-p+v)/2,o=l.setDimension({width:B,height:z[0]===u.POSITION_ABSOLUTE?m.legendMaxHeight<G?m.legendMaxHeight:G:e}).height):(o=0,m.height=0,m.width=0),{bottom:o,right:0}},o._placeLegendBlockRight=function(e){var t,o=this,n=e,r=o.config,a=o.getFromEnv("chart"),i=a.config,l=a.getFromEnv("smartLabel"),s=r.legendPadding,c=o.getStateCosmetics("default"),d=i.canvasHeight,h={},g=o.getSortedLegendItems().length;return n<s&&(r.padding=s=n=0),l.useEllipsesOnOverflow(i.useEllipsesWhenOverflow),l.setStyle((0,u.extend2)({},c.text)),r.numColumns||r.numRows||(r.numColumns=1),r.showLegend&&0!==g?(t=o.setDimension({width:n-s,height:d}).width,h.right=t+s,h.right+10<=n&&(h.right+=10)):(h.right=0,r.height=0,r.width=0),h},o.postSpaceManager=function(){var e=this.config,t=e.legendPos?e.legendPos.split("-"):[],o=this.getFromEnv("chart").config.canvasHeight;t[0]!==u.POSITION_RIGHT&&t[0]!==u.POSITION_LEFT||(e.totalHeight>o?(e.totalHeight<=e.height&&(e.scroll.enabled=!0,e.scroll.flatScrollBars=e.flatScrollBars,e.scroll.scrollBar3DLighting=e.scrollBar3DLighting,e.width+=(e.scroll.scrollBarWidth=10)+(e.scroll.scrollBarPadding=2)),e.height=o):e.scroll.enabled=!1)},o.configureAttributes=function(t){void 0===t&&(t={}),e.prototype.configureAttributes.call(this,t);var o,n,r,a,i,l=this,s=l.config,c=l.getFromEnv("chart"),d=c.config,h=l.getFromEnv("style"),g=c.getFromEnv("chart-attrib"),p=c.config.is3D,f=l.getFromEnv("color-manager"),m=p?u.chartPaletteStr.chart3D:u.chartPaletteStr.chart2D,b=s.interactiveLegend=!1!==c.hasInteractiveLegend&&Boolean((0,u.pluckNumber)(g.interactivelegend,1)),v=(0,u.pluckNumber)(g.useroundedges,0),y=h.outCancolor,k=t.style&&t.style.text,x=(0,u.pluck)(g.legenditemfont,k&&k["font-family"],h.outCanfontFamily),S=(0,u.pluckNumber)(g.legendiconscale,1),L=(0,u.pluckFontSize)(g.legenditemfontsize,k&&k["font-size"],h.fontSize)+A,T=(0,u.pluck)(g.legenditemfontcolor,k&&k.color,y).replace(/^#?([a-f0-9]+)/gi,"#$1"),E=(0,u.getFirstColor)((0,u.pluck)(g.legenditemhoverfontcolor,T));s.isActive=!1,s.chartMarginTop=d.origMarginTop,s.chartMarginRight=d.origMarginRight,s.chartMarginBottom=d.origMarginBottom,s.chartMarginLeft=d.origMarginLeft,s.reverselegend=(0,u.pluckNumber)(g.reverselegend,0),s.showLegend=(0,u.pluckNumber)(g.showlegend,!c.dontShowLegendByDefault,1),s.legendFontSizeWithUnit=(0,u.pluckFontSizeMaintainUnit)(g.legenditemfontsize,h.fontSizeWithUnit||h.fontSize),o=(0,u.setLineHeight)({fontSize:L}),s.legendPos=(0,u.pluck)(g.legendposition,c.legendposition,t.legendPosition,u.POSITION_BOTTOM).toLowerCase(),s.numColumns=(0,u.pluckNumber)(Math.floor(g.legendnumcolumns)),s.numRows=(0,u.pluckNumber)(Math.floor(g.legendnumrows)),s.numColumns<0&&(s.numColumns=C),s.numRows<0&&(s.numRows=C),s.legendXPosition=F((0,u.pluckNumber)(g.legendxposition,c.legendxposition,t.legendXPosition,0),0),s.legendYPosition=F((0,u.pluckNumber)(g.legendyposition,c.legendyposition,t.legendYPosition,0),0),s.legendMaxWidth=(0,u.pluckNumber)(g.legendmaxwidth,c.legendmaxwidth,t.legendMaxWidth),s.legendMaxHeight=(0,u.pluckNumber)(g.legendmaxheight,c.legendmaxheight,t.legendMaxHeight),s.legendMaxWidth<0&&(s.legendMaxWidth=C),s.legendMaxHeight<0&&(s.legendMaxHeight=C),s.xL=s.yL=0,(S<=0||S>5)&&(S=1),s.drawCustomLegendIcon=(0,u.pluckNumber)(g.drawcustomlegendicon,t.drawcustomlegendicon,0),s.legendScale=S,s.legendPadding=(0,u.pluckNumber)(g.legendpadding,7),s.alignLegendWithCanvas=(0,u.pluckNumber)(t.alignlegendwithcanvas,d.alignLegendWithCanvas),s.title.style={fontFamily:(0,u.pluck)(g.legendcaptionfont,x),fontSize:(0,u.pluckFontSize)(g.legendcaptionfontsize,h.fontSize)+A,color:(0,u.pluck)(g.legendcaptionfontcolor,y).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:_.fontWeight[(0,u.pluckNumber)(g.legendcaptionfontbold,1)]||u.BLANKSTRING},i=g.legendcaptionalignment?g.legendcaptionalignment.toLowerCase():w.center,s.title.align=w[i]||w.center,s.title.style["text-anchor"]=s.title.align,s.padding=4,n=(0,u.pluck)(g.legendbordercolor,f.getColor(m.legendBorderColor)),r=s.borderAlpha=(0,u.pluckNumber)(g.legendborderalpha,100),s.borderColor=(0,u.convertColor)(n,r),s.borderWidth=(0,u.pluckNumber)(g.legendborderthickness,t.legendborderthickness,!v||g.legendbordercolor?1:0),s.borderRadius=(0,u.pluckNumber)(v,0),s.backgroundAlpha=a=(0,u.pluckNumber)(g.legendbgalpha,t.legendbgalpha,100),s.backgroundColor=(0,u.convertColor)((0,u.pluck)(g.legendbgcolor,f.getColor(m.legendBgColor)),a),s.symbol3DLighting=Boolean((0,u.pluckNumber)(g.use3dlighting,g.useplotgradientcolor,1)),s.symbol3DLighting=!d.usePattern&&s.symbol3DLighting,s.shadow=Boolean((0,u.pluckNumber)(g.legendshadow,1)),s.shadow&&(s.shadow={enabled:s.shadow,opacity:F(r,a)/100}),s.prevReversed=Boolean((0,u.pluckNumber)(s.reversed,0)),s.reversed=Boolean((0,u.pluckNumber)(g.reverselegend,0)),s.lineWidth=(0,u.pluckNumber)(g.linethickness,2),s.borderRadius=(0,u.pluckNumber)(g.legendborderradius,v?3:0),s.legendAllowDrag=Boolean((0,u.pluckNumber)(g.legendallowdrag,0)),s.title.oriText=(0,u.parseUnsafeString)((0,u.getFirstValue)(g.legendcaption,u.BLANKSTRING)),s.legendScrollBgColor=(0,u.getFirstColor)((0,u.pluck)(g.legendscrollbgcolor,g.scrollcolor,f.getColor("altHGridColor"))),s.legendScrollBarColor=(0,u.pluck)(g.legendscrollbarcolor,n),s.legendScrollBtnColor=(0,u.pluck)(g.legendscrollbtncolor,n),s.minimiseWrappingInLegend=(0,u.pluckNumber)(g.minimisewrappinginlegend,0),s.flatScrollBars=(0,u.pluckNumber)(g.flatscrollbars,0),s.scrollBar3DLighting=(0,u.pluckNumber)(g.scrollbar3dlighting,1),s.orderReversed=!1,l.setStateCosmetics("hidden",{symbol:{fill:(0,u.convertColor)((0,u.pluck)(g.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1")),stroke:(0,u.convertColor)((0,u.pluck)(g.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))},text:{fill:(0,u.convertColor)((0,u.pluck)(g.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))}}),l.setStateCosmetics("default",{text:{fill:(0,u.convertColor)(T),"font-family":x,cursor:b?u.preDefStr.POINTER:"default","font-size":L,"line-height":o,"vertical-align":u.POSITION_TOP,"text-anchor":u.POSITION_START,direction:"rtl"===d.textDirection?"rtl":"initial","font-weight":_.fontWeight[(0,u.pluckNumber)(g.legenditemfontbold,0)]||u.BLANKSTRING},symbol:{bgColor:(0,u.pluck)(g.legendiconbgcolor),cursor:b?u.preDefStr.POINTER:"default",borderColor:(0,u.pluck)(g.legendiconbordercolor),bgAlpha:(0,u.pluckNumber)(g.legendiconbgalpha,g.legendiconalpha,100),borderAlpha:(0,u.pluckNumber)(g.legendiconborderalpha,g.legendiconalpha,100),borderThickness:(0,u.pluckNumber)(g.legendiconborderthickness),startAngle:(0,u.pluckNumber)(g.legendiconstartangle,45),sides:(0,u.pluckNumber)(g.legendiconsides,t.legendiconsides,4)}}),l.setStateCosmetics("hover",(function(e,t){return t.hasState("hidden")||(e.text||(e.text={}),e.text.fill=(0,u.convertColor)(E.replace(/^#?([a-f0-9]+)/gi,"#$1")),e.text.cursor="inherit"),e})),s.legendAllowDrag&&!s._dragEvtListenerBinded?(l.addEventListener("fc-dragstart",s.handlers.dragstart),l.addEventListener("fc-dragmove",s.handlers.dragmove),s._dragEvtListenerBinded=!0):!s.legendAllowDrag&&s._dragEvtListenerBinded&&(l.removeEventListener("fc-dragstart",s.handlers.dragstart),l.removeEventListener("fc-dragmove",s.handlers.dragmove),s._dragEvtListenerBinded=!1)},o.getLegendState=function(){return this._legendState},o.hasState=function(e){var t,o,n=this.getLegendState();for(t=0,o=n.length;t<o;t++)if(n[t]===e)return!0;return!1},o.setLegendState=function(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()},o.removeLegendState=function(e){var t,o,n=1;if(e)for(t=0,o=this._legendState.length;t<o&&n;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),n=0);else this._legendState.length=0;this.asyncDraw()},o.setStateCosmetics=function(e,t){this._stateCosmetics[e]=t},o.removeStateCosmetics=function(e){delete this._stateCosmetics[e]},o.getStateCosmetics=function(e){return this._stateCosmetics[e]},o.hide=function(){var e=this.getFromEnv("chart").getChildContainer("legendGroup");e&&e.hide()},t}(h.ComponentInterface);i=O})),o.register("anCK7",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("jqdsN")),c=l(o("5I3Us")),d=o("c90mW"),u=o("94dom"),h=o("2QUau"),g=l(o("9PCLh"));function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){(0,s.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var m=d.preDefStr.POINTER,b="M",v="L",y="Z",k="A",C=function(e,t,o,n,r){var a,i,l,s,c,d,u,h,g,p=[b];switch(r){case"column":case"dragColumn":case"column3D":case"realtimeColumn":case"errorBar2D":i=.5*(a=.25*o),l=.7*n,s=.4*n,p=p.concat([e,t+n,"l",0,-l,a,0,0,l,"z","m",a+i,0,"l",0,-n,a,0,0,n,"z","m",a+i,0,"l",0,-s,a,0,0,s,"z"]);break;case"bar2D":case"bar3D":a=.3*o,i=.6*o,s=(l=n/4)/2,p=p.concat([e,t,v,e+i,t,e+i,t+l,e,t+l,y,b,e,t+l+s,v,e+o,t+l+s,e+o,t+l+s+l,e,t+2*l+s,y,b,e,t+2*(l+s),v,e+a,t+2*(l+s),e+a,t+n,e,t+n,y]);break;case"area":case"area3d":case"areaspline":case"dragArea":case"realTimeArea":case"splinearea":a=.3*o,i=.6*o,l=.6*n,s=.2*n,c=.8*n,p=p.concat([e,t+c,v,e,t+l,e+a,t+s,e+i,t+l,e+o,t+s,e+o,t+c,y]);break;case"pie2D":case"pie3d":case"doughnut2D":case"doughnut3D":i=.9*(a=.5*o),1,1,d=e+a+1,h=t+a-1,u=e+a-1,g=t+a+1,p=p.concat([d,h,v,d,h-i+1,k,i-1,i-1,0,0,1,d+i-1,h,y,b,u,g,v,u,g-i,k,i,i,0,1,0,u+i,g,y]);break;case"boxandwhisker2d":default:p=p.concat([e,t,v,e+o,t,e+o,t+n,e,t+n,y]);break;case"radialBar":i=e+o,h=t+(a=.5*o),p=p.concat([e,h,k,a,a,0,0,0,i,h,k,a,a,0,0,0,e,h])}return{path:p}},x=function(e,t){var o=e.config,n=e.getLinkedParent().config,r=.5*n.symbolWidth,a=(n.initialItemX||0)+o._legendX,i=(n.initialItemY||0)+o._legendY,l=a+n.symbolPadding+r,s=i+(o._markerYGutter||0)+n.symbolPadding+r,c=(0,d.mapSymbolName)(o.anchorSide),u=o.symbol=c&&c.split("_")||[],h="spoke"===u[0]?1:0;return("line"===o.type||o.drawLine)&&(r*=.6),{path:(0,d.polyPathToPath)([u[1]||2,l,s,r,o.startAngle,o.spoke||h]),cursor:t.cursor||m,stroke:t.stroke,fill:t.fill,"stroke-width":t["stroke-width"]||.5}};(0,h.addDep)({name:"legendItemAnimation",type:"animationRule",extension:g.default});var w=function(e){function t(){var t;return(t=e.call(this)||this)._stateCosmetics={},t._legendState=[],t}(0,c.default)(t,e);var o=t.prototype;return o.getName=function(){return"legendItem"},o.parseLegendCosmetics=function(){var e,t,o,n=this,r=this.getLinkedParent(),a=r.getLegendState(),i=n.getLegendState(),l=["default"],s={};for(l=l.concat(a,i),o=0;o<l.length;o++)e=r.getStateCosmetics(l[o]),t=n.getStateCosmetics(l[o]),e&&("function"==typeof e?s=e(s,n):(0,d.extend2)(s,e)),t&&("function"==typeof t?s=t(s,n):(0,d.extend2)(s,t));return s},o.getType=function(){return"legendItem"},o.configure=function(e){var t,o,n=this.config;for(t in e)if(e.hasOwnProperty(t))if("object"!=typeof e[t])n[t]=e[t];else{var r=n[t]?n[t]:{};for(o in e[t])r[o]=e[t][o];n[t]=r}},o.itemClickFn=function(){var e=this,t=e.getFromEnv("chart-attrib"),o=(0,d.pluckNumber)(t.interactivelegend,1),n=e.getLinkedItem("owner");o&&n.legendInteractivity(e)},o.dispose=function(){this.removeEventListener("fc-click",this.click),this.removeEventListener("fc-mouseover",this.mouseover),this._dispose()},o.getLegendState=function(){return this._legendState},o.hasState=function(e){var t,o,n=this.getLegendState();for(t=0,o=n.length;t<o;t++)if(n[t]===e)return!0;return!1},o.setLegendState=function(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()},o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this),this.config.eventArguments={}},o.removeLegendState=function(e){var t,o,n=1;if(e)for(t=0,o=this._legendState.length;t<o&&n;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),n=0);else this._legendState.length=0;this.asyncDraw()},o.removeStateCosmetics=function(e){delete this._stateCosmetics[e]},o.setStateCosmetics=function(e,t){this._stateCosmetics[e]=t},o.getStateCosmetics=function(e){return this._stateCosmetics[e]},o.draw=function(){var e,t,o,n,r,a,i,l,s,c,u,h,g,p,y,k,w,S,L,F,T,E,N,A,I,_,P,O,M,R,B,D,G,z,j,V,W,H,U,X,Y,K=this.getLinkedParent(),Z=K.getFromEnv("chart").config,J=this,q=J.getFromEnv("animationManager"),$=J.config,Q=K.config,ee=Q.legendHeight,te=Q.symbolPadding,oe=Q.symbolWidth,ne=Q.interactiveLegend,re=Q.textPadding||2,ae=2,ie=Q.itemHoverStyle,le=K.getChildContainer("itemGroup"),se=Q.drawCustomLegendIcon,ce=J.hasState("hidden"),de={};o=(e=J.parseLegendCosmetics()).symbol,n=Q.initialItemX||0,r=Q.initialItemY||0,s=$.type,T=e.symbol.stroke||"000000",E=e.symbol.fill,t=e.symbol.lineWidth||Q.lineWidth,A=$.anchorSide,I=$.drawLine,c=n+$._legendX,u=r+$._legendY,G=J.getGraphicalElement("legendItemBackground"),l=J.getGraphicalElement("legendItemText"),h=J.getGraphicalElement("legendItemLine"),y=J.getGraphicalElement("legendItemSymbol"),k=J.getGraphicalElement("legendItemIcon"),!(ne=(0,d.pluck)($.interactiveLegend,ne))&&(e.cursor="default"),z=e.text,X=c+ee+re-2,Y=u+($._legendTestY||0),z.text=$.name,z.x=X,z.y=Y,i=q.setAnimation({el:l||"text",attr:z,component:J,container:le,label:"icon"}),l||(i=J.addGraphicalElement("legendItemText",i)),i.data("legendItem",$),k&&J.removeGraphicalElement("legendItemIcon"),j=!1,e.symbol.bgAlpha=(0,d.pluckNumber)(e.symbol.bgAlpha,Z.legendiconalpha,Z.legendiconbgalpha,Z.plotfillalpha),e.symbol.bgAlpha=e.symbol.bgAlpha>100||e.symbol.bgAlpha<0?1:e.symbol.bgAlpha,"radialBar"===s&&$.showIcon?W={src:$.iconUrl,x:c+te,y:u+($._markerYGutter||0)+te,width:oe,height:oe}:se&&!1!==$.customLegendIcon?(O=!ce&&o.borderColor,M=(0,d.pluck)(o.borderAlpha),_=!ce&&o.bgColor,P=(0,d.pluck)(o.bgAlpha,"100"),R=e.symbol.rawFillColor,E=ce?e.symbol.fill:_||R,E=(0,d.convertColor)(E,P),B=e.symbol.rawStrokeColor,T=ce?e.symbol.stroke:O||B||R,T=(0,d.convertColor)(T,M),w=c+te+(S=.5*oe),a=u+($._markerYGutter||0)+te+S,L="spoke"===(F=(0,d.mapSymbolName)(o.sides)&&(0,d.mapSymbolName)(o.sides).split("_")||[])[0]?1:0,V={path:(0,d.polyPathToPath)([F[1]||2,w,a,S,o.startAngle||0,L]),cursor:e.symbol.cursor||m,stroke:T,fill:E,"stroke-width":(0,d.pluckNumber)(o.borderThickness,1)}):"line"===s||I?(A&&(V=x(J,e.symbol),ae=$.anchorSide>1&&$.anchorSide<10?4:7),a=u+($._markerYGutter||0)+te+.5*oe,U={path:[b,c+te,a,v,c+te+oe/ae,a,b,c+te+oe-oe/ae,a,v,c+te+oe,a]},j=!0,de={opacity:(0,d.pluckNumber)(e.symbol.bgAlpha,1),"stroke-width":t,stroke:T,cursor:e.cursor||m}):A?V=x(J,e.symbol):"radialBar"!==s||$.showIcon?"line"!==s&&(T=$.symbolStroke||T,V={path:C(c+te,u+($._markerYGutter||0)+te,oe,oe,s).path,"stroke-width":.5,stroke:T,fill:E,cursor:e.cursor||m}):(T=$.symbolStroke||T,V={path:C(c+te,u+($._markerYGutter||0)+te,oe,oe,s).path,"stroke-width":.5,stroke:T,fill:E,cursor:e.cursor||m}),U&&j?(Object.assign(U,de),h=q.setAnimation({el:h||"path",attr:U,component:J,callback:function(){this.show()},container:le}),J.getGraphicalElement("legendItemLine")||(h=J.addGraphicalElement("legendItemLine",h))):h&&h.hide(),W?(p=q.setAnimation({el:k||"image",attr:W,component:J,callback:function(){this.show()},container:le,label:"icon"}),k&&k.node||(p=J.addGraphicalElement("legendItemIcon",p)),p.data("legendItem",$)):k&&this.removeGraphicalElement(k),V?(V.opacity=(0,d.pluckNumber)(e.symbol.bgAlpha,1),g=q.setAnimation({el:y||"path",attr:V,component:J,callback:function(){this.show()},container:le,label:"icon"}),$.usePattern&&$.patternAttr&&g.addPattern(f(f({},$.patternAttr),{},{color:ce?V.stroke:$.patternAttr.color,x:c,y:u}),$.usePattern),y&&y.node||(g=J.addGraphicalElement("legendItemSymbol",g)),g.data("legendItem",$)):y&&y.hide(),N=e.background&&e.background.legendBackgroundColor?(0,d.convertColor)(e.background.legendBackgroundColor,e.background.alpha):d.TRACKER_FILL,H={x:c,y:u,width:$._totalWidth,height:$._legendH,r:0,fill:N,opacity:1,"stroke-width":1,stroke:"none",cursor:e.symbol.cursor||m},D=q.setAnimation({el:G||"rect",attr:H,css:undefined,component:J,label:"background",container:le}),G||J.addGraphicalElement("legendItemBackground",D),D.data("legendItem",J).data("interactive",ne).data("itemHoverStyle",ie).data("itemStyle",e)},t}(u.ComponentInterface);i=w})),o.register("9PCLh",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e})),a=!0,i=void 0;var l=o("c90mW");i={"*.legendItem.legendItem":function(){return{"icon.appearing":function(e){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:(0,l.pluckNumber)(e.attr.opacity,1)}}]},"background.appearing":function(e){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:e.attr.opacity}}]},"icon.disappearing":function(){return[{finalAttr:{opacity:0},slot:"initial"}]}}}}})),o.register("5ndJB",(function(o,n){var r,a;t(o.exports),e(o.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e})),r=!0,a=void 0;var i=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}],l=[{slot:"plot",startEnd:{start:0,end:.5}}],s=[{slot:"intial"}];a={"*.legend.legend":function(){return{"legendGroup.appearing":i,"legendGroup.updating":l,"legendGroup.disappearing":s,"scrollbar.appearing":i,"scrollbar.updating":l,"scrollbar.disappearing":s}}}})),o.register("9thwY",(function(t,n){var r;e(t.exports,"computeLayout",(function(){return r}),(function(e){return r=e})),r=void 0;var a=o("9vu6p"),i=o("7g5k1"),l=o("iHjab"),s=function(){function e(){this.gridLayoutEngine=l.computeGridLayout}return e.prototype.compute=function(e){switch((0,a.getDisplayProperty)(e)){case i.DISPLAY_GRID:case i.DISPLAY_FLEX:}return this.gridLayoutEngine(e)},e}();r=function(e){var t,o=new s,n=(0,a.cloneObject)(e);return n.root=!0,t=o.compute(n),(0,a.attachLayoutInformation)(e,t),e}})),o.register("9vu6p",(function(t,n){var r,a,i,l;e(t.exports,"pluckNumber",(function(){return r}),(function(e){return r=e})),e(t.exports,"getDisplayProperty",(function(){return a}),(function(e){return a=e})),e(t.exports,"attachLayoutInformation",(function(){return i}),(function(e){return i=e})),e(t.exports,"cloneObject",(function(){return l}),(function(e){return l=e})),r=a=i=l=void 0;var s,c=o("7g5k1");r=function(){var e,t,o;for(t=0,o=arguments.length;t<o;t+=1)if(((e=arguments[t])||!1===e||0===e)&&!isNaN(e=Number(e)))return e;return s},i=function e(t,o){var n,r;for(void 0===t&&(t={}),void 0===o&&(o={}),t.layout=o.layout,n=0,r=(t.children||[]).length;n<r;n++)e(t.children[n],o.children[n])},l=function e(t){if(c.ATOMIC_DATA_TYPE.indexOf(typeof t)>-1||null===t)return t;if(Array.isArray(t)){var o,n,r=[];for(o=0,n=t.length;o<n;o++)r.push(e(t[o]));return r}if("object"==typeof t){var a,i={};for(a in t)i[a]=e(t[a]);return i}},a=function(e){return e.style&&e.style.display}})),o.register("7g5k1",(function(t,o){var n,r,a,i,l,s;e(t.exports,"ATOMIC_DATA_TYPE",(function(){return n}),(function(e){return n=e})),e(t.exports,"STRETCH",(function(){return r}),(function(e){return r=e})),e(t.exports,"END",(function(){return a}),(function(e){return a=e})),e(t.exports,"CENTER",(function(){return i}),(function(e){return i=e})),e(t.exports,"DISPLAY_FLEX",(function(){return l}),(function(e){return l=e})),e(t.exports,"DISPLAY_GRID",(function(){return s}),(function(e){return s=e})),n=r=a=i=l=s=void 0;n=["string","number","function","boolean","undefined"],r="stretch",a="end",i="center",l="flex",s="grid"})),o.register("iHjab",(function(t,n){var r;e(t.exports,"computeGridLayout",(function(){return r}),(function(e){return r=e}));var a=o("2ZnTs");r=function(e,t){void 0===t&&(t=1);var o,n,r,a,i=e.style;if(!e||!e.style)return;e.userGivenStyles||(e.style.width=isNaN(e.style.width)?"auto":e.style.width,e.style.height=isNaN(e.style.height)?"auto":e.style.height,i.paddingStart=(0,l.pluckNumber)(i.paddingStart,i.padding,0),i.paddingEnd=(0,l.pluckNumber)(i.paddingEnd,i.padding,0),i.paddingTop=(0,l.pluckNumber)(i.paddingTop,i.padding,0),i.paddingBottom=(0,l.pluckNumber)(i.paddingBottom,i.padding,0),e.userGivenStyles={gridTemplateColumns:e.style.gridTemplateColumns,gridTemplateRows:e.style.gridTemplateRows,width:e.style.width,height:e.style.height});for(e.unResolvedChildren=[],o=0,n=e.children&&e.children.length;o<n;o++)r=e.children[o],(0,l.getDisplayProperty)(r)&&(b(r)?this.compute(r):e.unResolvedChildren.push(r));(a=new x).set("domTree",e).set("parent",this).compute(),t<2&&this.gridLayoutEngine(function(e,t){var o,n,r,a,i,s,c,d,u,h,g=e.style,p=t.getConfig("rowTracks"),f=t.getConfig("colTracks"),m=t.getConfig("mapping"),b=g.gridTemplateRows,v=g.gridTemplateColumns;for(e.style.gridTemplateRows=w(b,p),e.style.gridTemplateColumns=w(v,f),n=0,a=(e.children||[]).length;n<a;n++)if(o=e.children[n],(0,l.getDisplayProperty)(o)){if(o.style.gridTemplateColumns=o.userGivenStyles.gridTemplateColumns,o.style.gridTemplateRows=o.userGivenStyles.gridTemplateRows,isNaN(o.userGivenStyles.width)){for(u=o.style.gridColumnStart,h=o.style.gridColumnEnd,u=m.col.nameToLineMap[u],h=m.col.nameToLineMap[h],r=u,s=0;r<h;r++)s+=f[r].calculatedStyle.baseSize;o.style.width=s}if(isNaN(o.userGivenStyles.height)){for(c=o.style.gridRowStart,d=o.style.gridRowEnd,c=m.row.nameToLineMap[c],d=m.row.nameToLineMap[d],r=c,i=0;r<d;r++)i+=p[r].calculatedStyle.baseSize;o.style.height=i}}return e}(e,a),2);return e};var i=a(o("jqdsN")),l=o("9vu6p"),s=a(o("5ZYDN")),c=o("7g5k1"),d=o("6ucqt");function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,i.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var g=["auto","none"],p=/minmax/,f=/(?:[^\s[\]()]+|\[[^[\]]*\]|\([^()]*\))+/g,m=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=function(e){var t=e.style||{},o=t.gridTemplateColumns,n=t.gridTemplateRows;return!/repeat\(/g.test(o)&&!/repeat\(/g.test(n)},v=function(e){return e.split(/\(|\)/g)[1].split(",").map((function(e){return e&&e.trim()}))},y=function(e,t){var o,n,r=m(t),a="width"===t?"col":"row";return e.map((function(e){return o=e.style["gridTemplate"+m("col"===a?"columns":"rows")],n="grid"===(0,l.getDisplayProperty)(e)&&/repeat\(/g.test(o)?v(o)[1]:e.style["min"+r+"Contribution"]||e.style[t]||"auto",{start:e[a+"Start"],end:e[a+"End"],size:n}}))},k=function(e,t,o){var n,r;for(n=t.x;n<o.x;n++)for(r=t.y;r<o.y;r++)e[n][r]=!0},C=function(e,t){var o=e.gridRowStart,n=e.gridRowEnd,r=e.gridColumnStart,a=e.gridColumnEnd;if(e.gridColumn){var i=e.gridColumn.split("/").map((function(e){return e.trim()}));r=i[0],a=i[1],r=t?t.col.nameToLineMap[r]:1,/span\s+\d+/g.test(a)&&(a=r+ +a.match(/span\s+(\d+)/)[1]),a=t?t.col.nameToLineMap[a]:1}if(e.gridRow){var l=e.gridRow.split("/").map((function(e){return e.trim()}));o=l[0],n=l[1],o=t?t.row.nameToLineMap[o]:1,/span\s\d+/g.test(n)&&(n=o+ +n.match(/span\s(\d+)/)[1]),n=t?t.row.nameToLineMap[n]:1}return{gridRowStart:o,gridRowEnd:n,gridColumnStart:r,gridColumnEnd:a}},x=function(){function e(){this.setup()}var t=e.prototype;return t.setup=function(){return this._tsa=new s.default,this.props={},this._config={mapping:{}},this},t.set=function(e,t){return this.props[e]=t,this},t.getProps=function(e){return this.props[e]},t.getConfig=function(e){return this._config[e]},t.compute=function(e){var t=e||this.props.domTree;this._sanitizeTracks(t)._sanitizeItems(t)._inflateTracks()._assignCoordinatesToCells(t)},t._sanitizeTracks=function(e){void 0===e&&(e={});var t,o=e.style,n=o.gridTemplateRows,r=o.gridTemplateColumns,a=this._config,i=function(e){var t,o=1,n=1;return e.forEach((function(e){t=C(e.style),n=Math.max(isNaN(+t.gridColumnStart)?0:+t.gridColumnStart,n,isNaN(+t.gridColumnEnd-1)?0:+t.gridColumnEnd-1),o=Math.max(isNaN(+t.gridRowStart)?0:+t.gridRowStart,o,isNaN(+t.gridRowEnd-1)?0:+t.gridRowEnd-1)})),{maxRow:o,maxColumn:n}}(e.children),l=i.maxColumn,s=i.maxRow;return this.set("maxTracks",s),t=this._fetchTrackInformation(n),a.mapping.row={nameToLineMap:t.nameToLineMap,lineToNameMap:t.lineToNameMap},a.rowTracks=t.tracks,this.set("maxTracks",l),t=this._fetchTrackInformation(r),a.mapping.col={nameToLineMap:t.nameToLineMap,lineToNameMap:t.lineToNameMap},a.colTracks=t.tracks,this},t._fetchTrackInformation=function(e){void 0===e&&(e="none");var t,o,n,r,a,i,l=e.match(f),s=[{}],c={},d={};for(n=l.filter((function(e){return!e||"string"!=typeof e||!e.length||(o=e.length,"["===e[0]&&"]"===e[o-1])})),r=l.filter((function(e){return!!e&&(o=(e+"").toLowerCase().replace(/px|fr/,""),!(!(g.indexOf(o)>=0||p.test(o))&&isNaN(o)))})).map((function(e){return function(e){if("auto"===(e=e.trim()))return e;if(!isNaN(+e))return+e;if(p.test(e)){var t=e.split(/\(|\)/g)[1].split(",");return[t[0].trim(),t[1].trim()]}return e}(e)})),o=r.length,"none"===e&&(o=this.getProps("maxTracks")),t=0;t<o;t++)a=n[t]&&n[t].replace(/\[|\]/g,"").split(" ").filter((function(e){return e.length})).map((function(e){return e.trim()}))||[t+1+""],i=n[t+1]&&n[t+1].replace(/\[|\]/g,"").split(" ").filter((function(e){return e.length})).map((function(e){return e.trim()}))||[t+2+""],s.push({start:t+1,end:t+2,size:r[t]||"auto"}),d[t+1]=a,d[t+2]=i,a.forEach((function(e){return c[e]=t+1})),i.forEach((function(e){return c[e]=t+2})),c[t+1]=t+1,c[t+2]=t+2;return{tracks:s,nameToLineMap:c,lineToNameMap:d}},t._sanitizeItems=function(e){var t,o,n,r,a,i,l,s=e||this.props.domTree,c=s.children||[],d=this._config.mapping,u=s.style.gridAutoFlow||"row",g=Object.keys(d.row.lineToNameMap).length,p=Object.keys(d.col.lineToNameMap).length,f=[],m=[],b=[[]],v=[];for(a=1;a<=g;a++)b.push([]);for(a=0,l=c.length;a<l;a++)t=C(c[a].style,d),f.push(h(h({},c[a]),{},{rowStart:d.row.nameToLineMap[t.gridRowStart],rowEnd:d.row.nameToLineMap[t.gridRowEnd],colStart:d.col.nameToLineMap[t.gridColumnStart],colEnd:d.col.nameToLineMap[t.gridColumnEnd]})),n=f[a],k(b,{x:n.rowStart,y:n.colStart},{x:n.rowEnd,y:n.colEnd});if((m=f.filter((function(e){return!e.colStart||!e.rowStart})))&&"row"===u){for(a=1;a<g;a++)for(i=1;i<p;i++)b[a][i]||v.push({row:a,col:i});for(;m.length&&v.length;)n=m.shift(),o=v.shift(),n.rowStart=o.row,n.colStart=o.col,n.rowEnd=o.row+1,n.colEnd=o.col+1;if(r=Math.ceil(m.length/p)){for(;r--;)s.style.gridTemplateRows+="auto ",d.row.nameToLineMap[g+1]=g+1,d.row.nameToLineMap[g+2]=g+2,g++,b.push([]);for(s.style.gridTemplateRows=s.style.gridTemplateRows.trim(),v=[],a=1;a<=g;a++)for(i=1;i<=p;i++)b[a][i]||v.push({row:a,col:i});for(;m.length;)n=m.shift(),o=v.shift(),n.rowStart=o.row,n.colStart=o.col,n.rowEnd=o.row+1,n.colEnd=o.col+1}}return this._config.sanitizedItems=f,this},t._inflateTracks=function(){var e,t=this._config,o=t.sanitizedItems,n=t.colTracks,r=t.rowTracks,a=0,i=0,l=this.props.domTree,c=l.style||{},d=c.paddingStart,u=c.paddingEnd,h=c.paddingTop,g=c.paddingBottom,p=c.width,f=c.height,m=new s.default;return isNaN(+p)||(p-=d+u),e=m.clear().set("tracks",n).set("items",y(o,"width")).set("containerSize",p||"auto").resolveTracks(),n.forEach((function(t,o){t.calculatedStyle=e[o],i+=e[o].baseSize||0})),this._solveUnresolvedChildren(),isNaN(+f)||(f-=h+g),e=m.clear().set("tracks",r).set("items",y(o,"height")).set("containerSize",f||"auto").resolveTracks(),r.forEach((function(t,o){t.calculatedStyle=e[o],a+=e[o].baseSize||0})),l.style.minHeightContribution=a,l.style.minWidthContribution=i,this},t._solveUnresolvedChildren=function(e){var t,o,n,r,a,i,l,s,c=((e||this.props.domTree).unResolvedChildren||[]).filter((function(e){return/repeat\(/g.test(e.style.gridTemplateColumns)||/repeat\(/g.test(e.style.gridTemplateRows)})),u=this._config,h=u.colTracks,g=u.mapping,p=this.getProps("parent"),f=[0];if(!c.length)return this;for(o=1,n=h.length;o<n;o++)f[o]=f[o-1]+h[o].calculatedStyle.baseSize;return c.forEach((function(e){i=v(e.style.gridTemplateColumns)[1],l=g.col.nameToLineMap[e.style.gridColumnStart],s=g.col.nameToLineMap[e.style.gridColumnEnd],r=f[s-1]-f[l-1],a={itemWidth:i,width:r},t=(0,d.repeatResolver)(e,a),e.style.gridTemplateColumns=t.gridTemplateColumns,e.style.gridTemplateRows=t.gridTemplateRows,p.gridLayoutEngine(e)})),this},t._assignCoordinatesToCells=function(e){var t,o,n,r,a,i,s,d,u,h=e||this.props.domTree,g=this._config,p=g.sanitizedItems,f=g.rowTracks,m=g.colTracks,b=h.style,v=b.justifyItems,y=b.alignItems,k=b.paddingStart,C=b.paddingTop,x=[k],w=[C];for(n=1,o=f.length;n<o;n++)x[n]=x[n-1]+f[n].calculatedStyle.baseSize;for(n=1,o=m.length;n<o;n++)w[n]=w[n-1]+m[n].calculatedStyle.baseSize;return h.layout={x:0,y:0,width:isNaN(h.style.width)?w[w.length-1]:h.style.width,height:isNaN(h.style.height)?x[x.length-1]:h.style.height},(h.children||[]).forEach((function(e,o){switch(t=p[o],r=w[t.colEnd-1]-w[t.colStart-1],a=x[t.rowEnd-1]-x[t.rowStart-1],i=isNaN(+e.style.width)?r:+e.style.width,s=isNaN(+e.style.height)?a:+e.style.height,v||e.style.justifySelf){case c.CENTER:d=w[t.colStart-1]+r/2-i/2;break;case c.END:d=w[t.colEnd-1]-i;break;case c.STRETCH:i=r,d=w[t.colStart-1];break;default:d=w[t.colStart-1]}switch(y||e.style.alignSelf){case c.CENTER:u=x[t.rowStart-1]+a/2-s/2;break;case c.END:u=x[t.rowEnd-1]-s;break;case c.STRETCH:s=a,u=x[t.rowStart-1];break;default:u=x[t.rowStart-1]}d+=(0,l.pluckNumber)(t.style.paddingStart,t.style.padding,0),u+=(0,l.pluckNumber)(t.style.paddingTop,t.style.padding,0),e.layout={x:d,y:u,x2:d+i,y2:u+s,width:i,height:s}})),this},e}(),w=function(e,t){void 0===e&&(e="");var o=(e.match(f)||[]).filter((function(e){return e&&!!e.trim()})),n="",r=1;return o.length&&!/repeat\(/.test(e)?o.forEach((function(e){g.indexOf(e)>-1||/[0-9]fr/.test(e)||p.test(e)||!isNaN(e)?(n+=t[r].calculatedStyle.baseSize+" ",r++):n+=e+" "})):t.forEach((function(e){isNaN(e.calculatedStyle.baseSize)||(n+=e.calculatedStyle.baseSize+" ")})),n.trim()}})),o.register("5ZYDN",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("jqdsN"));function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){(0,s.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u=function(e){return+e.replace(/fr/,"")},h=function e(t,o,n){var r,a,i=0;if(t.length){if(t.forEach((function(e){return i+=e.multiplier})),r=(n-o)/i,(a=t.filter((function(e){return e.baseSize<=e.multiplier*r}))).length<t.length)return t.filter((function(e){return e.baseSize>e.multiplier*r})).forEach((function(e){return o+=e.baseSize})),e(a,o,n);a.forEach((function(e){return e.baseSize=e.multiplier*r}))}},g=function(){function e(e,t,o){return void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===o&&(o=600),this.clear(),this.set("tracks",e),this.set("items",t),this.set("containerSize",o),this}var t=e.prototype;return t.set=function(e,t){switch(this.props[e]=t,e){case"tracks":this._initTrackSize();break;case"items":this._initItems();break;case"containerSize":this.props[e]=isNaN(+t)?0:+t}return this},t.get=function(e){return this.props[e]},t._initTrackSize=function(e){var t,o,n,r,a,i,l,s=e||this.props.tracks||[],c=this._config,h=[{}];for(c.frTracks=[],c.intrinsicTracks=[],t=1,o=s.length;t<o;t++)n=s[t].size,a=1,Array.isArray(n)?(i=+n[0]||0,n[1].indexOf("fr")>0||n[0].indexOf("fr")>0?(l=1/0,c.frTracks.push(t),r="minmax"):"auto"===n[1]||"auto"===n[0]?(l=1/0,c.intrinsicTracks.push(t),r="minmax"):isNaN(+n[0])||isNaN(+n[1])||(l=Math.max(+n[0],+n[1]),i=Math.min(+n[0],+n[1]),c.intrinsicTracks.push(t),r="minmax")):isNaN(+n)?n.indexOf("fr")>0?(i=0,l=1/0,c.frTracks.push(t),r="flex",a=u(n)):(i=0,l=1/0,r="intrinsic",c.intrinsicTracks.push(t)):(i=l=+n,r="fixed"),h.push(d(d({},s[t]),{},{type:r,multiplier:a,baseSize:i,growthLimit:l}));return c.sanitizedTracks=h},t._initItems=function(e){var t,o,n,r,a=e||this.props.items||[],i=this._config,l=[],s=0;for(n=0,r=a.length;n<r;n++)isNaN(a[n].start)||isNaN(a[n].end)?i.autoFlow.push(a[n]):(l.push(d({},a[n])),o=l[s],s++,o.size=isNaN(o.size)?this._getParentSize(o):+o.size);for(l.sort((function(e,t){var o=e.end-e.start,n=t.end-t.start;return o===n?e.start-t.start:o-n})),n=0,t=r=l.length;n<r;n++)if(l[n].end-l[n].start>1){t=n;break}return this._config.nonSpanningItemStartIndex=t,this._config.sanitizedItems=l},t._getParentSize=function(e){var t=this._config.sanitizedTracks,o=0;return t.filter((function(t){return t.start>=e.start&&t.end<=e.end})).forEach((function(e){return o+=e.baseSize})),o||0},t.resolveTracks=function(){return this._placeNonSpanningItems()._placeSpanningItems()._distributeFreeSpace(),this._config.sanitizedTracks},t._placeNonSpanningItems=function(){var e,t,o=this._config,n=o.sanitizedItems,r=o.sanitizedTracks,a=o.nonSpanningItemStartIndex;return n.slice(0,a).forEach((function(o){t=o.start,"fixed"!==(e=r[t]).type&&(e.baseSize=Math.max(e.baseSize,o.size),e.growthLimit=Math.max(e.growthLimit,e.baseSize))})),this},t._placeSpanningItems=function(){var e,t,o,n,r,a,i,l=this._config,s=l.sanitizedItems,c=l.sanitizedTracks,d=l.nonSpanningItemStartIndex,u=l.frTracks,h=s.slice(d),g=[0];if(!h.length)return this;for(a=1,i=c.length;a<i;a++)g[a]=g[a-1]+(c[a].baseSize||0);return h.forEach((function(i){if(e=g[i.end-1]-g[i.start-1],t=Math.max(0,i.size-e)){for(a=i.start,r=!1,n=0;a<i.end;a++)u.indexOf(a)>=0&&(r=!0),"fixed"!==c[a].type&&n++;if(n&&!r)for(o=t/n,a=i.start;a<i.end;a++)"fixed"!==c[a].type&&(c[a].baseSize+=o)}})),this},t._distributeFreeSpace=function(){var e=this._config,t=e.frTracks,o=e.intrinsicTracks,n=e.sanitizedTracks,r=this.props.containerSize,a=0;return n.forEach((function(e){return a+=e.baseSize||0})),a<r&&(t.length?(t.forEach((function(e,o){t[o]=n[e]})),t.forEach((function(e){return a-=e.baseSize})),h(t,a,r)):o.length&&(o.forEach((function(e,t){o[t]=n[e]})),function(e,t,o){var n,r,a,i,l,s,c,d=0;if(e.length){for(n=o-t,(l=e.filter((function(e){return"minmax"===e.type&&e.growthLimit!==1/0}))).sort((function(e,t){return e.growthLimit-e.baseSize-(t.growthLimit-t.baseSize)})),i=l.length;d<i&&n;)for(r=n/(l.length-d||1),a=0,i=l.length;a<i;a++)s=l[a].growthLimit,n-=(c=Math.min(r+l[a].baseSize,s))-l[a].baseSize,l[a].baseSize=c,s!==c||l[a].frozen||(l[a].frozen=!0,d++);e=e.filter((function(e){return"minmax"===e.type&&e.growthLimit===1/0||"minmax"!==e.type})),r=n/e.length,e.forEach((function(e){return e.baseSize+=r}))}}(o,a,r))),this},t.clear=function(){return this.props={},this._config={frTracks:[],intrinsicTracks:[],autoFlow:[]},this},e}();i=g})),o.register("6ucqt",(function(t,o){var n;e(t.exports,"repeatResolver",(function(){return n}),(function(e){return n=e})),n=function(e,t){var o,n,r,a=e.children,i=0,l=0,s="",c="",d=0,u=t.itemWidth,h=t.width;for(h=isNaN(+h)?0:+h,a.forEach((function(e){return d=Math.max(d,+e.style.height||0)})),i+=u=+u,s+=u+" ",l=1,n=1,r=a.length;n<r&&!(i+u>h);n++)i+=u,s+=u+" ";for(l=n,o=Math.ceil(r/l);o--;)c+=d+" ";return{gridTemplateColumns:s.trim(),gridTemplateRows:c.trim()}}})),o.register("kcqkq",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=function(e){var t,o=e.getFromEnv("dataSource"),n=o.data||{},r=o.markers;(0,s.componentFactory)(e,u.default,"mapGroup"),t=e.getChildren("mapGroup")[0],(0,s.datasetFactory)(t,c.default,"entities",1,[n]),r?(0,s.datasetFactory)(t,d.default,"markers",1,[r]):e.getDatasets()[1]&&e.getDatasets()[1].remove()};var s=o("c90mW"),c=l(o("64Nfd")),d=l(o("eCMoe")),u=l(o("aMEZC"))})),o.register("64Nfd",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s,c=l(o("5I3Us")),d=o("94dom"),u=l(o("hxb4O")),h=o("2QUau"),g=l(o("6zhXP")),p=o("c90mW"),f=o("ht8Bg"),m=l(o("l0yZ9")),b=(0,h.getDep)("redraphael","plugin"),v=window.navigator.userAgent,y=/msie/i.test(v)&&!window.opera,k="",C="middle",x="center",w="entityLabel",S=window.Math,L=S.min,F=S.max,T=/stroke/gi,E=/AppleWebKit/.test(v),N=S.ceil,A=function(e,t){var o=t?(0,p.extend2)(e.FCcolor,t,!1,!0):{FCcolor:e};return o.toString=p.toRaphaelColor,o},I=function(e,t){var o,n,r={};if(n=t||1,!e||"object"!=typeof e)return r;for(o in e)T.test(o)||("stroke-width"===o?(r[o]=Number(e[o])/n,E&&(r[o]=r[o]&&N(r[o])||0)):r[o]=e[o]);return r},_={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*L(t,e-t)}},P={top:function(){return arguments[1]},middle:function(e,t){return 2*L(t,e-t)},bottom:function(e,t){return e-t}},O=function(e,t){e&&e.graphics.outlines.attr(t)};(0,h.addDep)({name:"mapsAnimation",type:"animationRule",extension:g.default}),(0,m.default)(b);var M=function(e){function t(){var t;return(t=e.call(this)||this).components={},t}(0,c.default)(t,e);var o=t.prototype;return o.getName=function(){return"entities"},o.getType=function(){return"dataset"},o.configureAttributes=function(e){if(e){this.JSONData={data:e};var o,n,r,a,i,l,c,d,u=this,h=u.getFromEnv("chart").jsonData,g=u.config,f=h.map||h.chart,m=[],b=u.getFromEnv("colorManager"),v=h.entitydef||[];for(i in!g.attachEvent&&b&&(u.addExtEventListener("legendUpdate",(function(){if("legend"===(d=arguments[1]).component)u.legendInteractivity(d.legendItem,d.colorObj);else for(m=d.maxMinArray,l=m.length,c=0;c<l;c++)u.updateEntityColors(m[c].min,m[c].max)}),b),g.attachEvent=!0),o=h.data&&h.data[0]&&h.data[0].data?u.JSONData=h.data[0].data||[]:u.JSONData=h.data||[],g.useSNameAsId=(0,p.pluckNumber)(f.usesnameasid,0),this._redefineEntities(v),n=u.components.data,g.showTooltip=(0,p.pluckNumber)(f.showtooltip,1),g.showHoverEffect=(0,p.pluckNumber)(f.showhovereffect,0),o=function(e){for(var t,o=e&&e.length||0,n={};o--;)(t=e[o]).id!==s&&(n[t.id.toLowerCase()]=t);return n}(o),u.calculateDataLimits(),!h.colorrange&&u._detachChild(u.getChildren("colorRange")&&u.getChildren("colorRange")[0]),n)r=o[i],a=n[i],r?this._configureEntity(i,a,(0,p.imprint)(t._sanitizeEntityOptions((0,p.extend2)({},r)),a.config)):this._configureEntity(i,a,a.config)}},o.updateEntityColors=function(e,t){var o,n,r,a,i,l=this.components.data,s=this.getFromEnv("chart").config.entityOpts,c=s.nullEntityAlpha,d=s.nullEntityColor,u=A({fill:d,alpha:c}),h={"fill-opacity":0};for(a in l)l.hasOwnProperty(a)&&(r=(n=(o=l[a]).config).cleanValue,i={"fill-opacity":(n.alphaArr||[])[0]/100||1},null==r?(O(o,u),o.hidden=!1):r<e||r>t?(O(o,h),o.hidden=!0):(O(o,i),o.hidden=!1))},o.legendInteractivity=function(e,t){var o,n,r,a,i,l,s=this,c=s.getFromEnv("chart"),d=s.components.data,u=e.config,h=e.hasState("hidden"),g=s.getFromEnv("colorManager"),p={},f={"fill-opacity":0};for(o in c.getFromEnv("animationManager").setAnimationState("legendInteraction"),d)d.hasOwnProperty(o)&&(r=(u=(n=d[o]).config).cleanValue,l=g.getColorObj(r),a=u.visibleEntityAttr,p["fill-opacity"]=a["fill-opacity"],i=h?p:f,t.code===(!l.outOfRange&&l.code)&&(n.hidden=!h,O(n,i),h?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))},o.calculateDataLimits=function(){var e,t,o,n,r=this.getFromEnv("chart"),a=this.config,i=r.jsonData.data||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(n=0,o=i.length;n<o;n++)t=i[n].value,e=l.getCleanValue(t),s=L(s,e),c=F(c,e);a.max=c,a.min=s},o._configureEntity=function(e,t,o){var n,r,a,i,l,c,d,u,h,g,f,m,b,v,y,w,S,L,F,T,E,N,I=this,_=I.getFromEnv("chart"),P=I.config,O=this.getFromEnv("number-formatter"),M=_.config.entityOpts,R=t.config,B=t.labelConfig,D=o.value,G=R.cleanValue=O.getCleanValue(D),z=R.formattedValue=G!==s?O.dataLabels(G):s,j=(0,p.pluckNumber)(o.showtooltip,M.showTooltip),V=this._getDefaultTooltip(t,o,I),W={formattedValue:z,sName:o.shortLabel,lName:o.label},H=M.dataLabels.style,U=R.toolText=j?(0,p.parseUnsafeString)((0,p.pluck)((0,p.parseTooltext)((0,p.pluck)(o.tooltext,M.tooltext,V),[1,2,7,38,39],W,o)),!1):k,X=R.borderColor=(0,p.pluck)(o.bordercolor,M.borderColor),Y=R.borderAlpha=(0,p.pluck)(o.borderalpha,M.borderAlpha),K=R.borderThickness=(0,p.pluckNumber)(o.borderthickness,M.borderThickness),Z=M.hoverOnNull,J=R.useHoverColor=(0,p.pluckNumber)(o.showhovereffect,o.usehovercolor,Z?M.showHoverEffect:isNaN(D)?0:M.showHoverEffect),q=R.labelAlignment,$=I.getFromEnv("colorManager");if(t.hidden=!1,R.showLabel=(0,p.pluckNumber)(o.showlabel,M.showLabels),R.labelPadding=(0,p.pluckNumber)(o.labelpadding,M.labelPadding),R.fontFamily=(0,p.pluck)(o.font,H.fontFamily),R.fontSize=(0,p.pluckNumber)(parseInt(o.fontsize,10),parseInt(H.fontSize,10)),R.fontBold=(0,p.pluckNumber)(o.fontbold,0),R.fontColor=(0,p.pluck)(o.labelcolor,o.fontcolor,H.color),R.labelBgColor=(0,p.pluck)(o.labelbgcolor,H.bgColor)||k,R.labelBorderColor=(0,p.pluck)(o.labelbordercolor,H.borderColor)||k,R.connectorColor=(0,p.pluck)(o.labelconnectorcolor,M.connectorColor),R.connectorAlpha=(0,p.pluck)(o.labelconnectoralpha,M.connectorAlpha),R.hoverBorderThickness=(0,p.pluckNumber)(o.borderhoverthickness,o.hoverborderthickness,M.hoverBorderThickness),R.hoverBorderColor=(0,p.pluck)(o.borderhovercolor,o.hoverbordercolor,M.hoverBorderColor,R.borderColor),R.hoverBorderAlpha=(0,p.pluck)(o.borderhoveralpha,o.hoverborderalpha,M.hoverBorderAlpha,R.borderAlpha),R.connectorThickness=(0,p.pluckNumber)(o.labelconnectorthickness,M.connectorThickness),R.origConnectorThickness=R.connectorThickness,R.borderThickness=K,R.link=o.link,R.isVisible=!0,R.id=e,R.originalId=o.origId,null!==G&&(n=$&&$.getColor(G))&&!n.outOfRange&&(w=n.code,n.oriAlpha!==s&&(S=n.oriAlpha+"")),(0,p.pluck)(o.color,o.alpha,o.angle,o.ratio)!==s?(l=(0,p.pluck)(o.color,w,M.fillColor),c=(0,p.pluck)(o.alpha,S,M.fillAlpha),d=(0,p.pluck)(o.angle,M.fillAngle),u=(0,p.pluck)(o.ratio,M.fillRatio),h=A({color:l,alpha:c,angle:d,ratio:u})):(v=A({color:(0,p.pluck)(w,M.fillColor),alpha:(0,p.pluck)(S,M.fillAlpha),angle:(0,p.pluck)(M.fillAngle),ratio:(0,p.pluck)(M.fillRatio)}),b=A({color:(0,p.pluck)(M.nullEntityColor),alpha:(0,p.pluck)(M.nullEntityAlpha),angle:(0,p.pluck)(M.nullEntityAngle),ratio:(0,p.pluck)(M.nullEntityRatio)}),l=(h=null===G?b:v).FCcolor.color,c=h.FCcolor.alpha,d=h.FCcolor.angle,u=h.FCcolor.ratio),U===k&&(P.showTooltip=0),R.visibleEntityAttr={stroke:(0,p.convertColor)(X,Y),fill:(R.fillColor=h).toString(),"fill-opacity":c/100},N=c.split(","),R.alphaArr=N,J&&((0,p.pluck)(o.fillhovercolor,o.fillhoveralpha,o.fillhoverangle,o.fillhoverratio,o.hoverfillcolor,o.hoverfillalpha,o.hoverfillratio,o.hoverfillangle)!==s?(l=(0,p.pluck)(o.fillhovercolor,o.hoverfillcolor,M.hoverFillColor),c=(0,p.pluck)(o.fillhoveralpha,o.hoverfillalpha,M.hoverFillAlpha),d=(0,p.pluck)(o.fillhoverangle,o.hoverfillangle,M.hoverFillAngle),u=(0,p.pluck)(o.fillhoverratio,o.hoverfillratio,M.hoverFillRatio),y=A({color:l,alpha:c,angle:d,ratio:u})):(M.hoverColorObject||(M.hoverColorObject=A({color:M.hoverFillColor,alpha:M.hoverFillAlpha,angle:M.hoverFillAngle,ratio:M.hoverFillRatio})),y=M.hoverColorObject),R.hoverColor=y),!B&&(B=t.labelConfig={}),g=R.fontColor,f=R.fontFamily,m=R.fontBold,U=R.toolText,r=R.link,q?(a=q[0],i=q[1]):(a=x,i=C),B.align=a,B.vAlign=i,B.fontColor=g,B.bgColor=R.labelBgColor,B.borderColor=R.labelBorderColor,B.fontFamily=f,B.fontBold=m,B.toolText=U,B.link=r,"object"==typeof R.options)for(L=R.entityLabels=R.entityLabels||[],E=(T=R.labels||[]).length;E--;)L[E]||(L[E]={config:{}}),B=L[E].config,(q=T[E].labelAlignment)?(a=q[0],i=q[1]):(a=x,i=C),B.align=a,B.vAlign=i,B.displayValue=I.getDisplayValue(t,T[E],R.options.isDataEnabled,!E,o),B.toolText=U,B.align=a,B.vAlign=i,B.bgColor=R.labelBgColor,B.borderColor=R.labelBorderColor,B.fontColor=g,B.fontFamily=f,B.fontBold=m,B.toolText=U;else F={shortText:R.shortLabel,text:R.label},B.displayValue=I.getDisplayValue(t,F,!0,!0,o)},o.getDisplayValue=function(e,t,o,n,r){var a,i=this.getFromEnv("chart").config.entityOpts,l=e.config,c=l.cleanValue,d=l.formattedValue,u=i.labelSepChar;return o?n&&void 0!==r.displayvalue?a=r.displayvalue:(a=(0,p.pluck)(i.includeNameInLabels?i.useShortName?t.shortText:t.text:""),i.includeValueInLabels&&null!==c&&(a=a===s?d:a+u+d)):a=l.label,a},t._sanitizeEntityOptions=function(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e},o._redefineEntities=function(e){var t,o,n,r,a,i,l,s,c,d,u,h,g=this,f=g.config,m={},b={},v=g.getFromEnv("chart").config.entities,y=f.useSNameAsId,k=0;for(t=e.length;t--;)if(n=(o=e[t]).internalid,r=o.newid?o.newid:n,a=o.sname,i=o.lname,h=v[n],n=(0,p.trimString)(n),r=(r=(0,p.trimString)(r))&&r.toLowerCase(),h){for(u in m[r]=s={origId:n},b[n]=!0,h)s[u]=h[u];s.shortLabel=a||h.shortLabel,s.label=i||h.label,s.showhovereffect=o.showhovereffect,s.fillhovercolor=o.fillhovercolor,s.fillhoveralpha=o.fillhoveralpha,s.fillhoverangle=o.fillhoverangle,s.fillhoverratio=o.fillhoverratio,s.borderhoverthickness=o.borderhoverthickness}for(l in(d=g.components.data)||(d=g.components.data={}),m)d[l=l.toLowerCase()]||(d[l]={config:{}}),d[l].config=m[l],k+=1;for(l in c=d,v)if(s=v[l],!b[l=(0,p.trimString)(l)]){for(u in y?((h=c[s.shortLabel.toLowerCase()])||(h=c[s.shortLabel.toLowerCase()]={}),h.config={},h.origId=s.shortLabel):((h=c[l.toLowerCase()])||(h=c[l.toLowerCase()]={}),h.config={},h.config.origId=l),s)h.config[u]=s[u];k+=1}f.entityCount=k},o.draw=function(){var e=this,t=e.config,o=e.getFromEnv("chart"),n=p.hasSVG?200:10;e.createContainer(),this.config.ready=!1,t.BATCH_SIZE=n,t.labelBatchSize=p.hasSVG?200:20,this._batchRender()(0),o.config.entityFlag=!0,o.checkComplete()},o._batchRender=function(){var e,t,o,n,r,a=this,i=a.config,l=a.getFromEnv("chart").config.entities.firstEntity,c=a.components.data,d=i.BATCH_SIZE,u=i.entityKeys=l?a._getKeys(l,c):Object.keys(c),h=i.entityLength=u.length;return function i(l){for(e=l,o=0;u[e]!==s;)if(t=c[u[e]],r=a.drawEntity(t,d),o+=r,t.config.drawn&&((n=e===h-1?t:c[u[e-1]])&&(n.config.drawn=!1,n.config.outlineStartIndex=s),e++),o>=d){a.addJob("entityDraw",i.bind(a,e),f.priorityList.entitydraw);break}e===h&&(a._addEventListenersToEntities(0),a.initComplete())}},o._addEventListenersToEntities=function(e){var t,o,n,r=this,a=r.components.data,i=r.config,l=i.BATCH_SIZE,s=i.entityKeys,c=i.entityLength,d=0;for(t=e;t<c;t++)if((n=(o=a[s[t]]).config.options)&&!1===n.isDataEnabled||r.addMouseGestures(o),++d===l){r.addJob("_addEventListenersToEntities",r._addEventListenersToEntities.bind(this,t),f.priorityList.entitydraw);break}},t._getKeys=function(e,t){for(var o=[e],n=e;t[n];)n=t[n].nextId,o.push(n);return o},o._getDefaultTooltip=function(e,t){var o,n,r=e.config.cleanValue,a=e.config.formattedValue,i=this.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(!(n=t.labels&&t.labels[0]))return s;o=(i.useSNameInTooltip?n.shortText:n.text)+(null===r?k:i.tooltipSepChar+a)}else o=(i.useSNameInTooltip?t.shortLabel:t.label)+(null===r?k:i.tooltipSepChar+a);return o},o.drawEntity=function(e,t){var o,n,r,a,i,l,c,d,u=this,h=u.getFromEnv("chart"),g=h.getFromEnv("animationManager"),f=e.config,m=p.hasSVG||!y?"litepath":"path",b=h.config.entityOpts,v=f.outlines,k=u.getFromEnv("toolTipController"),C=this.getLinkedParent().getChildContainer("plot"),x=this.getLinkedParent().getChildContainer("plotShadow"),w=f.toolText,S=b.shadow,L=[],F={};if(u._configureEntityDrawingParams(e),n=(f=e.config).visibleEntityAttr,d=f.shadowOptions,o=f.outlineStartIndex===s?v.length:f.outlineStartIndex,e.graphics||(e.graphics={}),l=0,L=f.outlinePath||(f.outlinePath=[]),c=f.customStrokeWidthModifier,"object"==typeof f.options){for(;o--;)if(L=v[o].outline,r=!0===f.options.isDataEnabled?n:(0,p.extend2)((0,p.extend2)({},n),I(v[o].style,c)),(a=e.graphics.outlines)||(a=e.graphics.outlines=[]),!a[o]&&(a[o]={}),i=a[o].outline,r[m]=L,(i=a[o].outline=g.setAnimation({el:m,container:C,attr:r,component:u,label:"path"})).shadow(!!S&&d,x),k.enableToolTip(i,w),l++,f.outlineStartIndex=o,l===t)return l;return f.drawn=!0,l}for(;o--;)if(L=v[o].concat(L),l++,f.outlineStartIndex=o,l===t)return f.outlinePath=L,l;return!e.graphics.outlines&&(n[m]=L),Object.assign(F,n,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=g.setAnimation({el:e.graphics.outlines||m,container:C,attr:F,component:u,label:"path"}),f.drawn=!0,f.outlineStartIndex=0,f.outlinePath=[],e.graphics.outlines.shadow(!!S&&d,x),k.enableToolTip(e.graphics.outlines,w),l},o._configureEntityDrawingParams=function(e){var t,o=this.getFromEnv("chart"),n=e.config,r=o.config.entityOpts,a=o.config.scalingParams,i=!y||p.hasSVG,l=a.scaleFactor,s=a.strokeWidth,c=(i?o.baseScaleFactor:1)*s,d=1===r.scaleBorder,u=n.borderThickness,h=n.alphaArr,g=n.origConnectorThickness,f=n.hoverBorderThickness,m=n.visibleEntityAttr,b=m["fill-opacity"];n.shadowOptions={scalefactor:[l,l*o.config.baseScaleFactor],opacity:F.apply(S,h)/100,useFilter:0},n.fillOpacity=e.hidden?0:b,i?(u=n.entityBorderThickness=d?u*c:u/l,g/=l,t=d?l:a.sFactor,f&&(f=n.hoverBorderThickness=d?f*c:f/l)):(u=d?u*s:u,t=d?a.scaleFactor:o.baseScaleFactor),n.entityBorderThickness=u,n.connectorThickness=g,n.customStrokeWidthModifier=t,m["stroke-width"]=u,m.transform=p.hasSVG||!y?"":a.transformStr},o.drawLabels=function(e){var t,o,n,r,a=this,i=e,l=a.getFromEnv("chart"),s=a.config,c=s.labelBatchSize,d=s.entityLength,h=[],g=l.getChildContainer("upperAnnotationGroup"),p=0,f=a.getChildren("mapLabelAnnotations")&&a.getChildren("mapLabelAnnotations")[p],m=0,b=0,v=l.config.annotationConfig;for(t in f||(r=new u.default,a.attachChild(r,"mapLabelAnnotations"),(f=a.getChildren("mapLabelAnnotations")[p]).addCustomGroup(g)),f.destroy(),f._renderer&&(f._renderer=null),v.showbelow=0,i){if(a.drawLabel(i[t],h),++m===c){for(o=0;o<h.length;o++)h[o].animationLabel=w;for(n=f.addGroup(Object.assign(v,{id:"entityLabels"+p,items:h,animationLabel:"entityLabelGroup"}),a),o=0;o<n.items.length;o++)n.items[o].addEventListener("fc-mouseover",h[o].onmouseover),n.items[o].addEventListener("fc-mouseout",h[o].onmouseout),n.items[o].addEventListener("fc-click",h[o].onclick);p++,(f=a.getChildren("mapLabelAnnotations")&&a.getChildren("mapLabelAnnotations")[p])||(r=new u.default,a.attachChild(r,"mapLabelAnnotations"),(f=a.getChildren("mapLabelAnnotations")[p]).addCustomGroup(g)),f.destroy(),f._renderer&&(f._renderer=null),m=0,h=[]}else if(b===d-1){for(o=0;o<h.length;o++)h[o].animationLabel=w;for(n=f.addGroup(Object.assign(v,{id:"entityLabels"+p,items:h,animationLabel:"entityLabelGroup"}),a),o=0;o<n.items.length;o++)n.items[o].addEventListener("fc-mouseover",h[o].onmouseover),n.items[o].addEventListener("fc-mouseout",h[o].onmouseout),n.items[o].addEventListener("fc-click",h[o].onclick)}b++}a.drawLabelConnFn(0)},o.drawLabelConnFn=function(e){var t,o,n,r,a,i=this,l=i.config,s=i.components.data,c=l.BATCH_SIZE,d=l.entityKeys,u=d.length,h=0;for(o=e;o<u;o++){if("object"==typeof(r=(a=s[d[o]]).config).options)for(t=(n=r.labels)&&n.length||0;t--;)n[t].labelConnectors&&(i.drawLabelConnectors(a,n[t].labelConnectors,i),h++);else r.labelConnectors&&(i.drawLabelConnectors(a,r.labelConnectors,i),h++);if(h===c){i.addJob("drawLabelConnectors",i.drawLabelConnFn.bind(this,o),f.priorityList.entitydraw);break}}},o._getLabelObject=function(e,t,o){var n,r,a,i,l,c,d,u,h,g,f,m=this,b=m.getFromEnv("chart"),v=m.getFromEnv("chart-attrib"),y=e.config,k=b.config.scalingParams,w=e.graphics&&e.graphics.outlines,S=y.fontSize,L=y.labelPadding,F=y.labels||[],T=y.entityLabels||[];return t!==s?(f=F[t],i=(n=T[t].config).style=f.style,r=f.labelPosition,a=f.labelAlignment):(n=e.labelConfig,r=y.labelPosition,a=y.labelAlignment),r?(l=r[0],c=r[1]):(l=(d=w.getBBox()).x+d.width/2,c=d.y+d.height/2),a?("right"===(u=a[0])?l-=L:"left"===u&&(l+=L),"top"===(h=a[1])?c-=L:"bottom"===h&&(c+=L)):(u=x,h=C),g=parseFloat(S)/k.sFactor,!o&&i&&(i.color&&(n.fontColor=i.color),i["font-size"]&&(g=parseFloat(i["font-size"])/k.sFactor),i["font-family"]&&(n.fontFamily=i["font-family"]),i["font-weight"]!==s&&(n.fontBold="bold"===i["font-weight"])),n.x=l.toString(),n.y=c.toString(),n.wrap=1,n.type="text",n.fontSize=g,{x:l.toString(),y:c.toString(),wrapwidth:_[u](undefined,l+undefined)-L,wrapheight:P[h](undefined,c+undefined)-L,wrap:1,type:"text",align:n.align,valign:n.vAlign,text:n.displayValue,tooltext:n.toolText,outlineText:(0,p.pluckNumber)(v.textoutline,0),css:n.link!==s&&{cursor:"pointer",_cursor:"hand"},bgcolor:n.bgColor,bordercolor:n.borderColor,fillcolor:n.fontColor,fontsize:n.fontSize,font:n.fontFamily,bold:n.fontBold,onclick:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)m.entityClick(r[o].outline,t);else m.entityClick(r,t)},onmouseover:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)m.entityRollOver(r[o].outline,t);else m.entityRollOver(r,t)},onmouseout:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)m.entityRollOut(r[o].outline,t);else m.entityRollOut(r,t)},ontouchstart:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)m.entityRollOver(r[o].outline,t);else m.entityRollOver(r,t);m.entityRollOver(r,t)}}},o.drawLabel=function(e,t){var o,n,r,a=e.config;if(a.showLabel)if("object"==typeof a.options)for(n=(r=a.labels)&&r.length||0,o=a.options.isDataEnabled;n--;)t.push(this._getLabelObject(e,n,o,!n));else t.push(this._getLabelObject(e,s,!0,!0))},o.drawLabelConnectors=function(e,t,o){for(var n,r,a=e.config,i=this.getFromEnv("chart"),l=i.getFromEnv("animationManager"),s=i.config.scalingParams,c=o.getLinkedParent().getChildContainer("plot"),d=t&&t.length||0,u=a.showLabel;d--;)r=t[d],n=e.graphics.connectorElem,u?e.graphics.connectorElem=n=l.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:r,opacity:1,transform:p.hasSVG||!y?"":s.transformStr,stroke:(0,p.convertColor)(a.connectorColor,a.connectorAlpha),"shape-rendering":"crisp","stroke-width":a.connectorThickness},container:c,component:this,label:"labelConnectors"}):n&&n.hide()},o.entityClick=function(e,t){var o=e.node.__entity,n=this.getFromEnv("chart"),r=n.config.scalingParams,a=e.getBBox(),i=n.getFromEnv("linkClickFN"),l=o.config,c=l.link;a.width=a.width*r.scaleFactor,a.height=a.height*r.scaleFactor,a.x=a.x*r.scaleFactor+r.translateX,a.y=a.y*r.scaleFactor+r.translateY,a.x2=a.x+a.width,a.y2=a.y+a.height,n.fireChartInstanceEvent("entityclick",l.eventArgs,t),c!==s&&i.call({link:c,entity:o,entityBox:a},!0)},o.entityRollOver=function(e,t){var o=e.node.__entity,n=o.config,r=this.getFromEnv("chart"),a=r.getFromEnv("animationManager"),i=n.hoverAttr;r.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(o.config.timer):n.useHoverColor&&n.isVisible&&!o.hidden&&i&&(r.config.hoverEntity=e,a.setAnimation({el:e,attr:i,component:this,state:"updating",label:"path"}),e.data("hovered",!0))},o.entityRollOut=function(e,t){var o=e.node.__entity,n=this,r=n.getFromEnv("chart"),a=r.getFromEnv("animationManager"),i=o.config.revertAttr;r.plotEventHandler(e,t,"entityRollOut"),o.config.timer=setTimeout((function(){!0!==o.hidden&&i&&(a.setAnimation({el:e,attr:i,component:n,state:"updating",label:"path"}),e.data("hovered",!1))}),100)},o.addMouseGestures=function(e){var t,o,n,r,a=e.config,i=a.originalId,l=this,c=e.graphics,d=a.useHoverColor,u=a.hoverBorderThickness,h=a.hoverBorderColor,g=a.hoverBorderAlpha,f=a.entityBorderThickness,m=a.borderColor,b=a.borderAlpha,v=a.link,y=a.visibleEntityAttr,k="groupId"+i,C=function(t){v!==s&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",a.eventArgs),t.data("groupId",k),t.node.__entity=e,e._listenersBinded||t.on("fc-click",l.entityClick.bind(l,t)).hover(l.entityRollOver.bind(l,t),l.entityRollOut.bind(l,t))};for(t in a.eventArgs={value:a.cleanValue,label:a.label,shortLabel:a.shortLabel,originalId:a.origId,id:a.id||a.origId},a.legacyEventArgs={value:a.value,lName:a.label,sName:a.shortLabel,id:a.originalId||a.id},d&&(a.hoverAttr={fill:(0,p.toRaphaelColor)(a.hoverColor)},a.revertAttr={fill:(0,p.toRaphaelColor)(a.fillColor),stroke:(0,p.toRaphaelColor)(a.borderColor,a.borderAlpha)},a.revertAttr["fill-opacity"]=y["fill-opacity"],u!==f&&(a.hoverAttr["stroke-width"]=(0,p.pluckNumber)(u,f),a.revertAttr["stroke-width"]=f),h===m&&g===b||(a.hoverAttr.stroke=(0,p.convertColor)(h,g),a.revertAttr.stroke=(0,p.convertColor)(m,b))),c)if(c.hasOwnProperty(t))if(c[t]instanceof Array){for(o=0,n=(r=c[t]).length;o<n;o++)C(r[o].outline);e._listenersBinded=!0}else C(c[t]),e._listenersBinded=!0},o.getDataLimits=function(){var e=this.config;return{max:e.max,min:e.min}},o.createContainer=function(){var e=this,t=e.getLinkedParent(),o=e.getFromEnv("animationManager"),n=t.getChildContainer("layer0");!e.getChildContainer("abovePlotGroup")&&e.addChildContainer("abovePlotGroup",o.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:n,component:e,label:"group"})),!e.getChildContainer("belowPlotGroup")&&e.addChildContainer("belowPlotGroup",o.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:n,component:e,label:"group"}))},o.initComplete=function(){var e=this.getFromEnv("chart"),t=this.components.data;this.drawLabels(t),e.config.entitiesReady=!0,e.checkComplete()},t}(d.ComponentInterface);i=M})),o.register("6zhXP",(function(o,n){var r,a;t(o.exports),e(o.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e})),r=!0,a=void 0;var i="final",l=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],s=function(){return l[0].slot="plot",l},c=function(e){return[{finalAttr:function(){return e.finalAttr}}]},d=function(){return l[0].slot=i,l},u=function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},h=function(){return l[0].slot=i,l},g=function(e){return[{finalAttr:function(){return e.finalAttr}}]},p=function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]},f=function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]};a={"initial.dataset.entities":function(){return{"path.appearing":s,"path.updating":c,"labelConnectors.appearing":d,"labelConnectors.updating":null,"entityLabel.appearing":u,"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":h,"markerItem.updating":g}},"initial.group.mapGroup":function(){return{"group.appearing":p,"group.updating":f,"*":null}}}})),o.register("l0yZ9",(function(o,n){var r,a;t(o.exports),e(o.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e})),r=!0,a=function(e){var t,o,n,r=window.parseFloat,a="array",i="none",l=e._createNode,s=e._setFillAndStroke,c=e.el.constructor,d="litepath",u={Q:"L",Z:"X",q:"l",z:"x",",":" "},h=/,?([achlmqrstvxz]),?/gi,g=function(){return this.join(",").replace(h,t)};e.svg?(t="$1",o=function(){var o=this,n=e.is(arguments[0],a)?arguments[0]:Array.prototype.slice.call(arguments);n?"string"==typeof n?n=n.replace(h,t):n.toString=g:n="M0,0",o.node.setAttribute("d",n.toString())},e._engine.litepath=function(t,o,n,r,a){var u,h=l("path");return(r||o).canvas.appendChild(h),(u=new c(h,o,r)).type=d,u.id=h.raphaelid=e._oid++,h.raphael=!0,s(u,a||{fill:i,stroke:"#000"}),u},e._getPath.litepath=function(t){return e.parsePathString(t.node.getAttribute("d"))}):e.vml&&(t=function(e,t){return u[t]||t},n=function(){var e=this;return e._transform.apply(e,arguments),e._.bcoord&&(e.node.coordsize=e._.bcoord),e},o=function(e){var o=e;return o?"string"==typeof o?o=o.replace(h,t):o.toString=g:o="M0,0",this.node.path=o,this},e._engine.litepath=function(t,o,a,s,u){var h,g=l("shape"),p=g.style,f=new c(g,o,s),m=u||{fill:i,stroke:"#000"},b=a;return p.cssText="position:absolute;left:0;top:0;width:21600px;height:21600px;",b=r(b),isNaN(b)?g.coordsize="21600 21600":(f._.bzoom=b,p.width="1px",p.height="1px",g.coordsize=f._.bcoord=b+" "+b),g.coordorigin=o.coordorigin,f.type=d,f.id=g.raphaelid=e._oid++,g.raphael=!0,f._transform=f.transform,f.transform=n,e._setFillAndStroke(f,m),(s||o).canvas.appendChild(g),(h=l("skew")).on=!0,g.appendChild(h),f.skew=h,f},e._getPath.litepath=function(t){return e.parsePathString(t.node.path||"")});e.fn.litepath=function(t,n,r){var i,l,s,u=t,h=n,g=r;return"object"==typeof u&&u.constructor!==c&&(i=u,l=(u=u.litepath).zoom,g=u.group),h&&h.constructor===c?(g=h,l=undefined):l=h,u&&u.constructor===c&&(g=u,u=""),(s=e._engine.litepath(u,this,l,g,i)).ca.litepath=o,u&&s.attr(d,e.is(u,a)?[u]:u),this.__set__&&this.__set__.push(s),this._elementsById[s.id]=s}}})),o.register("eCMoe",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s,c=l(o("5I3Us")),d=l(o("64Nfd")),u=l(o("6r7LU")),h=l(o("hxb4O")),g=o("2QUau"),p=l(o("6zhXP")),f=o("c90mW"),m=o("jrWd3"),b=o("ht8Bg"),v="",y="middle",k="center",C="polygon",x="circle",w=window.Math,S=w.min,L=w.max,F=function(e){var t,o=this.getFromEnv("chart"),n=this.getChildren("mapAnnotations")[0],r=e.markerShape,a=r.groupConfig,i=r.data("unfilteredConfig"),l=i._markerEventArgs,c=e.config;i.hovereffect&&("circle"===r.config.type&&(t=(0,f.extend2)({fillcolor:i.hoverfillcolor,fillalpha:i.hoverfillalpha,fillangle:i.hoverfillangle,fillratio:i.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:1},i._hoverattrs)),t=(0,f.extend2)({},i._hoverattrs),n.update(r.getId(),t)),l||(l=i._markerEventArgs={x:+i.x,y:+i.y,scaledX:i.x*a.scaleX,scaledY:i.y*a.scaleY,chartX:i.x*a.scaleX+a.grpXShift,chartY:i.y*a.scaleY+a.grpYShift,id:i.id,label:i.label}),(0,m.raiseEventGroup)(c.options.id,"markerRollOver",l,o.getFromEnv("chartInstance"),c,s,s,s)},T=function(e){var t,o=this.getFromEnv("chart"),n=this.getChildren("mapAnnotations")[0],r=e.markerShape,a=r.getElement(),i=e.config,l=r.data("unfilteredConfig");a&&l.hovereffect&&("circle"===r.config.type&&(t=(0,f.extend2)({fillcolor:r.config.rawColor,fillalpha:r.config.rawAlpha,fillangle:r.config.rawAngle,fillratio:r.config.rawRatio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===r.config.rawFillPattern},l._defaultattrs)),t=(0,f.extend2)({},l._defaultattrs),n.update(r.getId(),t)),(0,m.raiseEventGroup)(i.id,"markerRollOut",l._markerEventArgs,o.getFromEnv("chartInstance"),s,s,s)},E=function(e,t){var o=t.config.options,n=this.getFromEnv("chart"),r=t.markerShape,a=r.config,i=r.groupConfig,l=this.getFromEnv("linkClickFN"),s=r.config.link,c=a._markerEventArgs;s&&l&&l.call({link:s},!0),c||(c=a._markerEventArgs={x:+a.x,y:+a.y,scaledX:a.x*i.scaleX,scaledY:a.y*i.scaleY,chartX:a.x*i.scaleX+i.grpXShift,chartY:a.y*i.scaleY+i.grpYShift,id:o.id,label:o.label}),n.fireChartInstanceEvent("markerClick",c,e)},N=function(e,t){var o,n=e&&e.length||!1,r=t||"id",a={};if(!e)return e;for(;n--;)(o=e[n])[r]!==s&&(a[o[r].toLowerCase()]=o);return a},A=function(e,t,o){return{x:e.toString(),y:(t-o).toString(),align:k,valign:"top"}},I=function(e,t,o){return{x:(e-o).toString(),y:t.toString(),align:"right",valign:y}},_=function(e,t,o){return{x:(e+o).toString(),y:t.toString(),align:"left",valign:y}},P=function(e,t,o){return{x:e.toString(),y:(t+o).toString(),align:k,valign:"bottom"}},O=function(e,t){return{x:e.toString(),y:t.toString(),align:k,valign:y}},M=function(){return arguments[1]},R=function(e,t){return e-t},B=function(e,t){return 2*S(t,e-t)},D=function(){return arguments[1]},G=function(e,t){return 2*S(t,e-t)},z=function(e,t){return e-t};(0,g.addDep)({name:"mapsAnimation",type:"animationRule",extension:p.default});var j=function(e){function t(){var t;return(t=e.call(this)||this).components={},t.getLabelAlignment={top:A,left:I,right:_,bottom:P,center:O},t.getWrapWidth={right:M,left:R,center:B},t.getWrapHeight={top:D,middle:G,bottom:z},t.hoverFn=F,t.hoverOutFn=T,t.clickFn=E,t}(0,c.default)(t,e);var o=t.prototype;return o.getName=function(){return"markers"},o.getType=function(){return"dataset"},o.configureAttributes=function(e){if(e){this.JSONData=e;var t,o=this,n=o.getChildren("mapAnnotations")&&o.getChildren("mapAnnotations")[0],r=o.getFromEnv("chart").config.markerOpts;n||(t=new h.default,o.attachChild(t,"mapAnnotations"),n=o.getChildren("mapAnnotations")[0]),n.destroy(),o.calculateDataLimits(),r.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}},o.calculateMarkerRadiusLimits=function(){if(this.JSONData){var e=this,o=e.JSONData,n=e.config,r=e.getFromEnv("chart"),a=r.config.width,i=r.config.height,l=o.markermaxradius,s=o.markerminradius,c=t.getMarkerRadiusLimits(a,i,l,s);n.minRadius=c.min,n.maxRadius=c.max}},o.calculateDataLimits=function(){var e,t,o,n,r=this.getFromEnv("chart"),a=this.config,i=(r.jsonData.markers||{}).items||[],l=this.getFromEnv("number-formatter"),s=1/0,c=-1/0;for(n=0,t=i.length;n<t;n++)o=i[n].value,null!==(e=l.getCleanValue(o))&&(s=S(e,s),c=L(e,c));a.min=s,a.max=c},o._parseMarkers=function(){var e,o,n,r,a,i,l,c,d=this,u=d.getFromEnv("chart"),h=u.jsonData.markers,g=h.items,p=h.shapes,m=u.config.markerOpts,b=m.dataLabels.style,y=this.getFromEnv("number-formatter"),k=d.components.shapeObjs={},C=d.components.markerObjs={};if(g&&g.length){if(p&&p.length)for(o=p.length;o;o-=1)(c=(r=p[o-1]).id.toLowerCase())&&(k[c]=r);for(o=g.length;o--;)(c=(r=g[o]).id&&r.id.toLowerCase())&&((e=r.value)!==s&&""!==e&&(e=parseFloat(e)),(a=(n=t._initializeMarkerItem(c,r,null,u)).config.options.shapeid)&&"string"==typeof a&&(a=a.toLowerCase()),l=(i=n.config).options,i.cleanValue=y.getCleanValue(e),null!==i.cleanValue?i.formattedValue=y.dataLabels(e):i.formattedValue=s,i.fillColor=(0,f.pluck)(l.fillcolor,l.color,m.fillColor),i.fillAlpha=(0,f.pluck)(l.fillalpha,l.alpha,m.fillAlpha),i.fillRatio=(0,f.pluck)(l.fillratio,m.fillRatio),i.fillAngle=(0,f.pluck)(l.fillangle,m.fillAngle),i.borderThickness=(0,f.pluckNumber)(l.borderthickness,m.borderThickness),i.borderColor=(0,f.pluck)(l.bordercolor,m.borderColor),i.borderAlpha=(0,f.pluck)(l.borderalpha,m.borderAlpha),i.labelPadding=l.labelpadding||m.labelPadding,i.fontColor=(0,f.pluck)(l.labelcolor,b.fontColor),i.labelBgColor=(0,f.pluck)(l.labelbgcolor,b.labelBgColor)||v,i.labelBorderColor=(0,f.pluck)(l.labelbordercolor,b.labelBorderColor)||v,r.__hideMarker&&(n._isHidden=!0),a&&(n.shapeObj=k[a]),C[c]=n)}},o.defineMarkersNShapes=function(){var e,o,n,r,a,i,l,c,d=this,u=d.getFromEnv("chart"),h=u.jsonData.markers,g=h.definition,p=this.getFromEnv("number-formatter"),m=u.config.markerOpts,b=m.dataLabels.style,v=N(g)||{},y=N(h.application)||{},k=h.shapes,C=d.components.shapeObjs=d.components.shapeObjs||(d.components.shapeObjs={}),x=d.components.markerObjs=d.components.markerObjs||(d.components.markerObjs={}),w={},S={};if(g&&g.length){for(r in C)w[r]=!1;for(r in x)S[r]=!1;if(k&&k.length)for(r=k.length;r;r-=1)(c=(i=k[r-1]).id.toLowerCase())&&(C[c]=i,w[c]=!0);for(c in v)i=v[c],a=x[c]=t._initializeMarkerItem(c,i,y[c],u),S[c]=!0,l=a.config.options.shapeid,o=a.config,n=i.value,o.cleanValue=p.getCleanValue(n),e=o.options,null!==o.cleanValue?o.formattedValue=p.dataLabels(n):o.formattedValue=s,o.fillColor=(0,f.pluck)(e.fillcolor,e.color,m.fillColor),o.fontColor=(0,f.pluck)(e.labelcolor,b.fontColor),o.fillAlpha=(0,f.pluck)(e.fillalpha,e.alpha,m.fillAlpha),o.fillRatio=(0,f.pluck)(e.fillratio,m.fillRatio),o.fillAngle=(0,f.pluck)(e.fillangle,m.fillAngle),o.borderThickness=(0,f.pluckNumber)(e.borderthickness,m.borderThickness),o.borderColor=(0,f.pluck)(e.bordercolor,m.borderColor),o.borderAlpha=(0,f.pluck)(e.borderalpha,m.borderAlpha),o.labelPadding=e.labelpadding||m.labelPadding,o.options.tooltext=(0,f.pluck)(e.tooltext,m.tooltext),o.link=e.link,l&&(a.shapeObj=C[l.toLowerCase()]);for(r in w)w[r]||delete C[r];for(r in x)S[r]||delete x[r]}},t.getMarkerRadiusLimits=function(e,t,o,n){var r,a,i=S(e,t),l=.02*i,s=.07*i;return r=parseFloat(n),a=parseFloat(o),isNaN(r)||isNaN(a)?isNaN(r)?isNaN(a)?{min:l,max:s}:{min:parseInt(a/10,10),max:a}:{min:r,max:10*r}:r<a?{min:r,max:a}:{min:a,max:r}},o.getDataLimits=function(){var e=this.config;return{min:e.min,max:e.max}},t._initializeMarkerItem=function(e,t,o){var n,r={},a=r.config;return a||(a=r.config={}),a.id=e,a.definition=t,a.application=o,a.hasValue=null,a.value=null,a.options=null,a.label=null,a.markerShape=null,a.markerLabel=null,a.drawOptions={shape:null,label:null},a.drawComplete=!1,n=r.config.options=(0,f.extend2)({},a.definition),a.dataEnabled?isNaN(n.value)||""===n.value||(r.value=parseFloat(n.value),r.hasValue=!0):(a.applyAll||o)&&(a.options=(0,f.extend2)(n,a.application)),r},o.configureConnectors=function(){var e,t,o,n,r,a,i,l,s,c,d,u,h,g,p=this,m=p.getFromEnv("chart"),b=p.getChildren("mapAnnotations")[0],C=m.jsonData,x=p.components,w=C.markers||{},S=w.connector||w.connectors||[],L=x.markerObjs,F=S.length,T=p.components.connectors,E=function(e){return function(t){var o=this.data("unfilteredConfig");o.hoverEffect&&b.update(this.getId(),o._hoverAttrs),m.fireChartInstanceEvent("connectorrollover",e,t)}},N=function(e){return function(t){var o=this.data("unfilteredConfig");o.hoverEffect&&b.update(this.getId(),o._defaultAttrs),m.fireChartInstanceEvent("connectorrollout",e,t)}},A=function(e){return function(t){m.fireChartInstanceEvent("connectorClick",e,t)}},I=m.config.connectorOpts,_={};for(T=p.components.connectors=[],g=0;g<F;g++)((h=S[g]).from||h.to)&&(t=L[h.from.toLowerCase()],o=L[h.to.toLowerCase()],t&&o&&(n=S[g].label,!(_=T[g])&&(_=T[g]={}),!_.config&&(e=_.config={}),!_.graphics&&(_.graphics={}),(e=_.config=(0,f.extend2)({},h)).fromMarker=t,e.toMarker=o,e.link=h.link,e.showTooltip=(0,f.pluckNumber)(h.showtooltip,I.showTooltip),r=e.tooltext=e.showTooltip?(0,f.pluck)(h.tooltext,I.tooltext):v,a=e.thickness=(0,f.pluck)(h.thickness,I.thickness),i=e.color=(0,f.pluck)(h.color,I.color),l=e.alpha=(0,f.pluck)(h.alpha,I.alpha),e.hoverEffect=(0,f.pluckNumber)(h.showhovereffect,I.showHoverEffect),s=(0,f.pluck)(h.hovercolor,I.hoverColor,i),c=(0,f.pluck)(h.hoveralpha,I.hoverAlpha,l),d=(0,f.pluck)(h.hoverthickness,I.hoverThickness,a),e.dashed=(0,f.pluck)(h.dashed,I.dashed),e.dashLen=(0,f.pluckNumber)(h.dashlen,I.dashlen),e.dashGap=(0,f.pluckNumber)(h.dashgap,I.dashgap),r&&(e.tooltext=r=(0,f.parseUnsafeString)((0,f.parseTooltext)(r,[3,40,41,42,43],{label:n,fromId:t.config.definition.id,toId:o.config.definition.id,fromLabel:t.config.definition.label,toLabel:o.config.definition.label},undefined),!1)),e.eventArgs={fromMarkerId:t.config.id,toMarkerId:o.config.id,label:n},e._hoverAttrs={color:s,alpha:c,thickness:d},e._defaultAttrs={color:i,alpha:l,thickness:a},e.type="line",e.onclick=A(e.eventArgs),e.onmouseover=E(e.eventArgs),e.onmouseout=N(e.eventArgs),n&&(!(u=_.labelConfig)&&(u=_.labelConfig={}),u.type="text",u.text=n,u.align=k,u.valign=y,u.font=I.font,u.fillcolor=(0,f.pluck)(h.labelcolor,I.fontColor),u.bgcolor=(0,f.pluck)(h.labelbgcolor,I.labelBgColor),u.bordercolor=(0,f.pluck)(h.labelbordercolor,I.labelBorderColor),u.tooltext=e.tooltext)))},o.draw=function(){var e,t,o,n,r,a,i,l,s=this,c=s.getFromEnv("chart"),d=s.config,u=s.getChildren("mapAnnotations")[0],h=s.components.markerObjs,g=c.config,p=g.markerOpts,f=g.scalingParams,m=c.config.annotationConfig,v=[],y=[],k={},C={};for(r in u.destroy(),s.createContainer(),s._drawConnectors(),s.imageLoadCount=0,s.imageCount=0,d.autoScale=p.autoScale?f.sFactor:1,h)e=null,(n=(t=h[r]).config).conIsHidden||(e=this._drawMarkerItem(t)),e&&(C[r]=e,n._annotationIndex=v.length,k[r]=t,e.markerShape&&(o=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===e.markerShape.type?0:1},e.markerShape),v.push(o)),e.markerLabel&&(o=Object.assign({animationLabel:"markerItem",id:e.markerShape.id},e.markerLabel),y.push(o)));for(r in l=u.addGroup(Object.assign(m,{id:"markers",fillalpha:"100",items:v,scaleimages:1}),s),i=u.addGroup(Object.assign(m,{id:"markerLabels",items:y,scaleimages:1}),s),s.components.markerGroup=l,s.components.markerLabelGroup=i,a=0,h)C[r]&&((t=h[r]).markerShape=l.retrieveItem(v[a].id),t.markerShape.data("unfilteredConfig",v[a]),C[r].markerLabel&&(t.markerLabel=i.retrieveItem(v[a].id),t.markerLabel.data("unfilteredConfig",y[a])),a++);s.addJob("buildKdtree",s._buildKdTree.bind(s),b.priorityList.kdTree)},o._buildKdTree=function(){var e,t,o=this,n=o.components.kdArrayMap,r=o.components.markerGroup,a=[],i=r&&r.items,l=i&&i.length||0;for(t=0;t<l;t++)n[e=i[t].config.id]&&a.push(n[e]);o.components.kDTree||(o.components.kDTree=new u.default(!0)),o.components.kDTree._setSearchLimit(1/0,1/0),o.components.kDTree.buildKdTree(a)},o._drawMarkerItem=function(e){var t,o,n,r,a,i,l,c,d,u,h,g,p,m,b,y,k,w,S=this,L=S.getFromEnv("chart"),F=L.config,T=S.config,E=F.scalingParams,N=e.config,A=N.options,I=N.definition,_=F.markerOpts,P=_.dataLabels.style,O=A.shapeid,M=A.scale||1,R=A.label||v,B=L.config.scalingParams.scaleFactor*L.config.baseScaleFactor,D=(A.labelpos||"top").toLowerCase(),G=N.formattedValue===s?s:N.formattedValue,z=A.tooltext||_.tooltext,j=(0,f.pluckNumber)(I.radius,N.radius,_.radius)*M*T.autoScale||1e-4,V=N.fillColor,W=N.fillAlpha,H=N.fillRatio,U=N.fillAngle,X=N.borderThickness,Y=N.borderColor,K=N.borderAlpha,Z=S.getChildren("mapAnnotations")[0],J=S.components.kdArrayMap||(S.components.kdArrayMap={}),q=e.config.id;if(N.autoScale=_.autoScale?B:1,O)return z=z?(0,f.parseUnsafeString)((0,f.parseTooltext)(z,[1,2,3],{formattedValue:G,label:R},A),!1):G?R+_.tooltipSepChar+G:R,G!==s&&null!==G?R=R+_.labelSepChar+G:isNaN(M)?M=1:M<0?M=0:M>5&&(M=5),(0,f.extend2)(A,{x:A.x&&A.x.toString(),y:A.y&&A.y.toString(),fillcolor:V,fillalpha:W,fillratio:H,fillangle:U,borderthickness:X,bordercolor:Y,borderalpha:K,hovereffect:(0,f.pluck)(_.showHoverEffect),radius:j&&j.toString(),link:A.link,showshadow:(0,f.pluckNumber)(A.showshadow,N.shadow),_markerLabel:R,_markerId:A.id,id:(A.id+v).toLowerCase()}),delete A.tooltext,N.tooltext=!!_.showTooltip&&z,p=Number(A.x)*E.sFactor+E.translateX,m=Number(A.y)*E.sFactor+E.translateY,j=A.radius,"triangle"===O?((0,f.extend2)(A,{type:"polygon",sides:3,startangle:_.startAngle}),w=C,k=3):"diamond"===O?((0,f.extend2)(A,{type:"polygon",sides:4,startangle:_.startAngle}),w=C,k=4):"arc"===O?(y=.6*j,(0,f.extend2)(A,{type:"arc",startangle:0,endangle:360,innerradius:y}),w="arc"):"circle"===O?(A.type=x,w=x):(h=S.getShapeArgs.call(e),_.dataEnabled&&_.valueToRadius&&A.radius!==s?delete h.radius:(!h.radius&&(h.radius=_.radius),h.radius*=M*N.autoScale),(0,f.extend2)(A,h),A.id=A._markerId&&A._markerId.toLowerCase(),y=h.innerradius,h.radius&&(j=h.radius),w=h.type&&h.type.toLowerCase(),k=h.sides,(j=Number(j))&&y&&j<y&&(g=j,A.radius=j=y,A.innerradius=y=g)),A.type=A.type&&A.type.toLowerCase(),(0,f.extend2)(A,{hoverfillcolor:(0,f.pluck)(A.fillhovercolor,_.hoverFillColor,A.fillcolor),hoverfillalpha:(0,f.pluck)(A.fillhoveralpha,_.hoverFillAlpha,A.fillalpha),hoverfillratio:(0,f.pluck)(A.fillhoverratio,_.hoverFillRatio,A.fillratio),hoverfillangle:(0,f.pluck)(A.fillhoverangle,_.hoverFillAngle,A.fillangle),hoverborderthickness:(0,f.pluckNumber)(A.borderhoverthickness,_.hoverBorderThickness,A.borderthickness),hoverbordercolor:(0,f.pluck)(A.borderhovercolor,_.hoverBorderColor,A.bordercolor),hoverborderalpha:(0,f.pluck)(A.borderhoveralpha,_.hoverBorderAlpha,A.borderalpha)}),A._hoverattrs={fillalpha:A.hoverfillalpha,fillcolor:A.hoverfillcolor,fillangle:A.hoverfillangle,fillratio:A.hoverfillratio,borderThickness:"0"!==A.showborder?A.hoverborderthickness:0,borderColor:A.hoverbordercolor,borderAlpha:A.hoverborderalpha},A._defaultattrs={fillalpha:A.fillalpha,fillcolor:A.fillcolor,fillangle:A.fillangle,fillratio:A.fillratio,borderThickness:"0"!==A.showborder?A.borderthickness:0,borderColor:A.bordercolor,borderAlpha:A.borderalpha},"image"===A.type?(A.borderthickness=A.borderthickness||0,A.onload=function(t){var o=t.width,n=t.height;b={},A=this.config,p=(Number(A.derivedX)-o/(2*E.sFactor))*E.sFactor,m=(Number(A.derivedY)-n/(2*E.sFactor))*E.sFactor,(b=J[q]||(J[q]={})).x=p+E.translateX,b.y=m+E.translateY,b.element=e,b.shapeInfo={type:"rect",width:o,height:n},o&&n&&Z.update(this.getId(),{x:p,y:m,width:o,height:n,autoscale:0}),S.imageLoadCount++,S.imageLoadCount===S.imageCount&&S._buildKdTree()},A.onerror=function(){S.imageLoadCount++,S.imageLoadCount===S.imageCount&&S._buildKdTree()},S.imageCount++):((b=J[q]||(J[q]={})).x=p,b.y=m,b.element=e,b.shapeInfo={type:w,sides:k,radius:Number(j)+A.borderthickness/2,innerradius:y}),N.drawOptions.shape=A,_.showLabels?(u=A.labelpadding||_.labelPadding,o=(t=S._getLabelOptions(D,u,A)).align,n=t.valign,r=N._labelBaseWidth,a=N._labelBaseHeight,i=N._labelXOffset,l=N._labelYOffset,(c=_.labelWrapWidth?_.labelWrapWidth:S.getWrapWidth[o](r,Number(t.x)+i))>u&&(c-=u),(d=_.labelWrapHeight?_.labelWrapHeight:S.getWrapHeight[n](a,Number(t.y)+l))>u&&(d-=u),N.drawOptions.label=(0,f.extend2)({type:"text"},{text:R,tooltext:A.tooltext,x:t.x,y:t.y,align:o,valign:t.valign,wrap:1,wrapwidth:c,wrapheight:d,fontsize:P.fontSize/E.sFactor,font:P.fontFamily,color:N.fontColor,bgcolor:N.labelBgColor||v,bordercolor:N.labelBorderColor||v}),{markerShape:A,markerLabel:N.drawOptions.label}):{markerShape:A}},o.highlightPoint=function(e,t){var o=e.element,n=this,r=t.originalEvent,a=n.getFromEnv("chart"),i=n.getFromEnv("toolTipController"),l=n.config.currentToolTip,s=a.config.lastHoveredPoint;s&&s!==e&&(s&&n.hoverOutFn(s.element),a.config.lastHoveredPoint=null,i.hide(l)),!1!==e&&("click"===t.type||"touchstart"===t.type?(a.config.lastHoveredPoint!==e&&n.hoverFn(o),n.clickFn(t,o)):"mousemove"===t.type&&a.config.lastHoveredPoint!==e&&n.hoverFn(o),o.config.tooltext&&(l?i.draw(r,o.config.tooltext,l):l=n.config.currentToolTip=i.draw(r,o.config.tooltext)),a.config.lastHoveredPoint=e)},o._drawConnectors=function(){var e,t,o,n,r,a,i,l,s,c,d,u,h,g=this,p=g.getFromEnv("chart"),f=p.config.annotationConfig,m=g.components.connectors||(g.components.connectors=[]),b=m.length,v=p.config.scalingParams,y=p.config.connectorOpts,k=y.showLabels,C=g.getChildren("mapAnnotations")[0],x=[],w=[],S=[],L={};for(S.push({id:"connectorLabels",fillalpha:"100",items:w}),S.push({id:"connectors",fillalpha:"100",items:x}),o=0;o<b;o++)m[o]&&(L[o]=!0,s=m[o].config.fromMarker.config,c=m[o].config.toMarker.config,r=s.options.x,a=s.options.y,i=c.options.x,l=c.options.y,m[o].config.x=r,m[o].config.y=a,m[o].config.tox=i,m[o].config.toy=l,h=Object.assign({animationLabel:"markerItem"},m[o].config),x.push(h),m[o].labelConfig&&k&&(m[o].labelConfig.x=((Number(r)+Number(i))/2).toString(),m[o].labelConfig.y=((Number(a)+Number(l))/2).toString(),m[o].labelConfig.fontsize=y.fontSize/(v.scaleFactor*p.config.baseScaleFactor),h=Object.assign({animationLabel:"markerItem"},m[o].labelConfig),w.push(h)));for(d=C.addGroup(Object.assign(f,S[1]),g),u=C.addGroup(Object.assign(f,S[0]),g),o=0,n=0;o<b;o++)L[o]&&((e=d.items[n])&&(e.data("unfilteredConfig",x[n]),e.addEventListener("fc-mouseover",m[o].config.onmouseover),e.addEventListener("fc-mouseout",m[o].config.onmouseout),e.addEventListener("fc-click",m[o].config.onclick)),m[o].labelConfig&&k&&(t=u.items[n])&&t.data("unfilteredConfig"),n++)},o.getShapeArgs=function(){var e,t=this.config,o=(0,f.extend2)({},this.shapeObj);return t.autoScale=1,o?("polygon"===o.type?o.sides<3?o.type=x:o.startangle=t.startAngle:"arc"===o.type&&(e=(o.radius||t.markerRadius)*t.autoScale,o.radius=e,o.innerradius=o.innerradius&&o.innerradius*t.autoScale||.6*e),o):null},o._getLabelOptions=function(e,t,o,n,r){var a,i,l,c=e&&e.toLowerCase();return this.getLabelAlignment[c]||(c="center"),i=Number(o.x),l=Number(o.y),a=n===s||r===s?o.radius||0:/^(top|bottom)$/gi.test(c)&&.5*r||/^(left|right)$/gi.test(c)&&.5*n||0,a=Number(a)+Number(t),this.getLabelAlignment[c](i,l,a)},o.addMarkerItem=function(e){var o,n,r,a,i,l,c,d,u=this,h=u.getFromEnv("chart"),g=e,p=u.components.markerObjs,m=u.components.shapeObjs,b=u.components.markerGroup,v=u.components.markerLabelGroup,y=u.getChildren("mapAnnotations")[0],k=u.getFromEnv("number-formatter"),C=h.config.markerOpts;if(d=g.id.toLowerCase()){if(p[d])return;delete g.value,u.imageLoadCount=0,(o=t._initializeMarkerItem(d,g,null)).dataset=u,c=o.config.options.shapeid,a=o.config,l=g.value,a.cleanValue=k.getCleanValue(l),n=a.options,null!==a.cleanValue?a.formattedValue=k.dataLabels(l):a.formattedValue=s,a.fillColor=(0,f.pluck)(n.fillcolor,n.color,C.fillColor),a.fillAlpha=(0,f.pluck)(n.fillalpha,n.alpha,C.fillAlpha),a.fillRatio=(0,f.pluck)(n.fillratio,C.fillRatio),a.fillAngle=(0,f.pluck)(n.fillangle,C.fillAngle),a.borderThickness=(0,f.pluckNumber)(n.borderthickness,C.borderThickness),a.borderColor=(0,f.pluck)(n.bordercolor,C.borderColor),a.borderAlpha=(0,f.pluck)(n.borderalpha,C.borderAlpha),a.labelPadding=n.labelpadding||C.labelPadding,a.options.tooltext=(0,f.pluck)(n.tooltext,C.tooltext),a.link=n.link,c&&(o.shapeObj=m[c&&c.toLowerCase()]),p[d]=o,r=u._drawMarkerItem(o),b&&v&&(r.markerShape&&(i=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===r.markerShape.type?0:1},r.markerShape),o.markerShape=y.addItem(b.getId(),i,u),o.markerShape.data("unfilteredConfig",i)),r.markerLabel&&(i=Object.assign({animationLabel:"markerItem"},r.markerLabel),o.markerLabel=y.addItem(v.getId(),i,u),o.markerLabel.data("unfilteredConfig",i))),u._buildKdTree()}},o.updateMarkerItem=function(e,t){var o,n,r,a,i=this,l=i.getFromEnv("chart"),s=i.getChildren("mapAnnotations")[0],c=i.components.markerObjs,d=l.config.markerOpts,u={},h=c[e];if(h){for(n in o=h.config.options,(0,f.extend2)(o,t),i.imageLoadCount=0,r=h.config,t)u[n.toLowerCase()]=t[n]&&t[n].toString();r.fillColor=(0,f.pluck)(u.fillcolor,u.color,d.fillColor),r.fillAlpha=(0,f.pluck)(u.fillalpha,u.alpha,d.fillAlpha),r.fillRatio=(0,f.pluck)(u.fillratio,d.fillRatio),r.fillAngle=(0,f.pluck)(u.fillangle,d.fillAngle),r.borderThickness=(0,f.pluckNumber)(u.borderthickness,d.borderThickness),r.borderColor=(0,f.pluck)(u.bordercolor,d.borderColor),r.borderAlpha=(0,f.pluck)(u.borderalpha,d.borderAlpha),r.labelPadding=u.labelpadding||d.labelPadding,r.options.tooltext=(0,f.pluck)(u.tooltext,d.tooltext),r.link=u.link,a=i._drawMarkerItem(h).markerShape,i._buildKdTree(),s.update(e,a)}},o.createContainer=function(){var e=this,t=e.getLinkedParent(),o=e.getFromEnv("animationManager"),n=t.getChildContainer("layer1");!e.getChildContainer("abovePlotGroup")&&e.addChildContainer("abovePlotGroup",o.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:n,component:e,label:"group"})),!e.getChildContainer("belowPlotGroup")&&e.addChildContainer("belowPlotGroup",o.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:n,component:e,label:"group"}))},o._removeMarkerItem=function(e){var t,o,n=this,r=n.components,a=r.markerObjs,i=a[e],l=r.kdArrayMap,s=n.getChildren("mapAnnotations")[0];i&&(t=i.markerShape,o=i.markerLabel,t&&s.destroy(t.getId()),o&&s.destroy(o.getId()),delete l[e],n._buildKdTree()),delete a[e]},o.getElement=function(e){if(this.components.kDTree)return this.components.kDTree.getNeighbour(e)},t}(d.default);i=j})),o.register("6r7LU",(function(o,n){var r,a;t(o.exports),e(o.exports,"__esModule",(function(){return r}),(function(e){return r=e})),e(o.exports,"default",(function(){return a}),(function(e){return a=e})),r=!0,a=void 0;var i,l=function(e,t,o,n,r){return Math.pow(o-e,2)+Math.pow(n-t,2)<=Math.pow(r,2)},s=Math.PI,c=Math.cos,d=Math.sin,u=Math.max,h=Math.min,g=s/180,p=function(e,t,o,n,r,a){var i,l,s;return i=(n-t)*(r-o),l=(o-e)*(a-n),isNaN(i)&&(i=0),isNaN(l)&&(l=0),0===(s=i-l)?0:s>0?1:2},f=function(e,t,o,n,r,a){return o<=u(e,r)&&o>=h(e,r)&&n<=u(t,a)&&n>=h(t,a)},m=function(e,t,o,n,r,a,i,l){var s=p(e,t,o,n,r,a),c=p(e,t,o,n,i,l),d=p(r,a,i,l,e,t),u=p(r,a,i,l,o,n);return s!==c&&d!==u||(!(0!==s||!f(e,t,r,a,o,n))||(!(0!==c||!f(e,t,i,l,o,n))||(!(0!==d||!f(r,a,e,t,i,l))||!(0!==u||!f(r,a,o,n,i,l)))))},b=function(e,t,o,n,r,a,u){var h,b,v,y,k,C,x,w=0,S=!1;if(l(e,t,o,n,r)&&a>=3){for(b=u===i?.5*s:u%360*g,x=2*s/a,v=o+r*c(-b),C=n+r*d(-b),h=0;h<a;h++){if(y=o+r*c(-(b+=x)),k=n+r*d(-b),m(v,C,y,k,e,t,Infinity,t)){if(0===p(v,C,e,t,y,k))return f(v,C,e,t,y,k);w++}v=y,C=k}S=w%2!=0}return S},v=function(e,t){return!e||e&&t&&t.i>e.i?t:e};var y=function(){function e(e){this.configure(e)}var t=e.prototype;return t.configure=function(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()},t.defaultValidator=function(){var e=this;return function(t){var o=e.mousePoint;return!!(t&&Math.pow((t.x-o.x)/e.xLimit,2)+Math.pow((t.y-o.y)/e.yLimit,2)<=1)}},t.shapeValidator=function(){var e=this;return function(t){var o,n,r,a,i,s,c,d,u=e.mousePoint,h=t&&t.shapeInfo,g=!1,p=u.x,f=u.y;switch(h&&h.type){case"circle":n=h.radius,g=l(p,f,t.x,t.y,n);break;case"arc":o=h.innerradius,n=h.radius,g=!l(p,f,t.x,t.y,o)&&l(p,f,t.x,t.y,n);break;case"polygon":n=h.radius,a=h.startAngle,r=h.sides,g=b(p,f,t.x,t.y,n,r,a);break;case"rect":case"rectangle":i=t.x,c=t.y,s=i+(h.width||0),d=c+(h.height||0),g=p>=i&&p<=s&&f>=c&&f<=d;break;case"default":g=!1}return g}},t.buildKdTree=function(e){return this.kdTree=function(e){var t,o,n,r=e,a=r&&r[0]&&r[0].r||5,i=Math.max,l=Math.floor,s=Math.sqrt,c=Math.min,d=Math.log,u=Math.exp,h=Math.pow;function g(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}for(o=function(e,t,n,r){for(var a,h,p,f,m,b,v,y,k,C,x=n,w=r;w>x;){for(w-x>600&&(h=t-x+1,p=d(a=w-x+1),f=.5*u(2*p/3),m=.5*s(p*f*(a-f)/a)*(h-a/2<0?-1:1),b=i(x,l(t-h*f/a+m)),v=c(w,l(t+(a-h)*f/a+m)),o(e,t,b,v)),y=e[t],k=x,C=w,g(e,x,t),e[w].x>y.x&&g(e,x,w);k<C;){for(g(e,k,C),k++,C--;e[k].x<y.x;)k++;for(;e[C].x>y.x;)C--}e[x].x===y.x?g(e,x,C):g(e,++C,w),C<=t&&(x=C+1),t<=C&&(w=C-1)}},n=function(e,t,o,r){for(var a,h,p,f,m,b,v,y,k,C,x=o,w=r,S=e;w>x;){for(w-x>600&&(h=t-x+1,p=d(a=w-x+1),f=.5*u(2*p/3),m=.5*s(p*f*(a-f)/a)*(h-a/2<0?-1:1),b=i(x,l(t-h*f/a+m)),v=c(w,l(t+(a-h)*f/a+m)),n(S,t,b,v)),y=S[t],k=x,C=w,g(S,x,t),S[w].y>y.y&&g(S,x,w);k<C;){for(g(S,k,C),k++,C--;S[k].y<y.y;)k++;for(;S[C].y>y.y;)C--}S[x].y===y.y?g(S,x,C):g(S,++C,w),C<=t&&(x=C+1),t<=C&&(w=C-1)}},t=(r=r||[]).length;t--;)r[t].r>a&&(a=r[t].r),r[t].i=t,r[t].x=+r[t].x,r[t].y=+r[t].y;return{tree:0===r.length?{}:function e(t,r,a,i){var l,s={},c=i?"y":"x";return r===a?(s.point=t[r],s):a-r==1?(t[r][c]>t[a][c]?(s.point=t[r],s.left={point:t[a]}):(s.point=t[a],s.left={point:t[r]}),s):(l=r+a>>1,i?n(t,l,r,a):o(t,l,r,a),s.point=t[l],s.left=e(t,r,l-1,!i),s.right=e(t,l+1,a,!i),s)}(r,0,r.length-1,!1),search:function(e,t,o,n){var r,i,l,c=this.tree,d=n,u=e-a,g=e+a,p=t-a,f=t+a,m=!1,b=0;function v(e,t,o,n){return s(h(e-o,2)+h(t-n,2))}function y(n,r){return"circle"===o?v(n,r,e,t)<=u:n>=u&&n<=g&&r>=p&&r<=f}function k(e,t,o){return e>=t&&e<=o}function C(o){var n=k(e,o.x1,o.x2)&&k(t,o.y1,o.y2),a=v(e,t,o.point.x,o.point.y);if(!r)return r=o,m=n,void(b=a);n?m?o.point.i>r.point.i&&(r=o,m=n,b=a):(r=o,m=n,b=a):m||a<b&&(r=o,m=n,b=a)}function x(n,r){"circle"===o?u=n:(u=e-n||0,g=e+n||0,p=t-r||0,f=t+r||0)}return d=d||{},l=function(e){e&&e.point&&(x(d.rx||e.point.r,d.ry||e.point.r),y(e.point.x,e.point.y)&&C(e),p<=e.point.y&&i(e.left),f>=e.point.y&&i(e.right))},(i=function(e){e&&e.point&&(x(d.rx||e.point.r,d.ry||e.point.r),y(e.point.x,e.point.y)&&C(e),u<=e.point.x&&l(e.left),g>=e.point.x&&l(e.right))})(c),r&&r.point||r}}}(e),this.tree=this.kdTree.tree,this},t.getNeighbour=function(e,t,o){var n=this,r=n.tree,a=n.validatorFn;return n.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,o,e.options):r?n._searchBtwnLimit(r,!0,a):void 0},t._searchBtwnLimit=function(e,t,o){var n,r,a=t?"x":"y",l={x1:e.point.x-e.point.shapeInfo.width,x2:e.point.x+e.point.shapeInfo.width,y1:e.point.y-e.point.shapeInfo.height,y2:e.point.y+e.point.shapeInfo.height},s=t?l.x1:l.y1,c=t?l.x2:l.y2;if((n=e&&e.point&&e.point[a])!==i)return o(e.point)&&(r=e.point),n>=s&&e.left&&(r=v(r,this._searchBtwnLimit(e.left,!t,o))),n<=c&&e.right&&(r=v(r,this._searchBtwnLimit(e.right,!t,o))),r},t._setSearchLimit=function(e,t){this.xLimit=e,this.yLimit=t},e}();y.prototype.constructor=y,a=y})),o.register("aMEZC",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("5I3Us")),c=o("94dom"),d=o("c90mW"),u=o("2QUau"),h=l(o("6zhXP")),g=function(e){e.configure&&e.configure()};(0,u.addDep)({name:"mapsAnimation",type:"animationRule",extension:h.default});var p=function(e){function t(){return e.apply(this,arguments)||this}(0,s.default)(t,e);var o=t.prototype;return o.getType=function(){return"group"},o.getName=function(){return"mapGroup"},o.configure=function(){this._mapChildren(g)},o.createContainer=function(){var e,t=this,o=t.getLinkedParent(),n=t.getFromEnv("animationManager"),r=o.getChildContainer();e=r.plotGroup,!t.getChildContainer("plotShadow")&&t.addChildContainer("plotShadow",n.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),!t.getChildContainer("plot")&&t.addChildContainer("plot",n.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"})),!t.getChildContainer("layer0")&&t.addChildContainer("layer0",n.setAnimation({el:"group",attr:{name:"ann-layer0",opacity:1},container:r.abovePlotGroup,component:t,label:"group"})),!t.getChildContainer("layer1")&&t.addChildContainer("layer1",n.setAnimation({el:"group",attr:{name:"ann-layer1",opacity:1},container:r.abovePlotGroup,component:t,label:"group"})),o.config.labelsOnTop?t.getChildContainer("layer0").toFront():t.getChildContainer("layer0").toBack()},o._transformGroup=function(){var e=this,t=this.getFromEnv("chart"),o=t.getFromEnv("chartInstance"),n=e.getFromEnv("animationManager"),r=t.jsonData,a=e.getChildContainer("plot"),i=e.getChildContainer("plotShadow"),l=t.config.scalingParams;a.hide(),i.hide(),t.config.entitiesReady=!1,o.addEventListener("internal.mapdrawingcomplete",(function(t){t.detachHandler(),d.hasSVG&&(o.args.link&&o.args.clickedEntityBox&&r.chart.linkedcharttransition,a&&n.setAnimation({el:a,attr:{transform:l.transformStr},component:e,label:"group"}),i&&n.setAnimation({el:i,attr:{transform:l.transformStr},component:e,label:"group"})),a.show(),i.show()})),t.checkComplete()},o.draw=function(){this.createContainer(),this._transformGroup()},o.getDataLimits=function(e){var t,o=this,n=1/0,r=-1/0,a=0,i=function(e){r=Math.max(r,e.max),n=Math.min(n,e.min)};return o._mapChildren((function(o){o.getState("removed")||!1===o.getState("visible")?e&&(t=o.getDataLimits(e),i(t)):(a++,t=o.getDataLimits(e),i(t))})),a?o.setState("visible",!0):o.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:r,min:n}},t}(c.ComponentInterface);i=p})),o.register("bzJ69",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=function(e){!function(e){var t=e.getChildren("colorManager");if(!e.getFromEnv("dataSource").colorrange)return t&&(t[0].config.legendItemIds=[]),void e.deleteFromEnv("colorManager");if(t)return e.addToEnv("colorManager",t[0]),void t[0].configure();t=new s.default,e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),t.configure()}(e)};var s=l(o("2Kb4w"))})),o.register("2Kb4w",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("5I3Us")),c=o("94dom"),d=l(o("aMzLw")),u=l(o("615NQ")),h=o("c90mW"),g="gradient",p="icon";function f(e){var t=e||k;return(0,h.getValidColor)(t)||k}var m,b,v,y="rgba(192,192,192,"+(h.isIE?.002:1e-6)+")",k="#000000",C=((v={}).legendCarpetConf={spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},v.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},v.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}},v.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,h.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},v.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:y,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:y,stroke:"#FFFFFF"}}},v.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(e){b=e.chart},legacyDataParser:function(e,t){var o,n,r,a,i,l,s,c,d,u,g,p,v,y={},k=b.getFromEnv("number-formatter"),C=b.getFromEnv("dataSource"),x=C.data,w=t||{};if(!e)return!1;for("maps"!==b.defaultDatasetType||w.min!==m&&w.max!==m?"HeatMap"!==b.getName()||w.min!==m&&w.max!==m||(w={min:1/0,max:-1/0},C.dataset.forEach((function(e){e.data&&e.data.forEach((function(e){w.min=Math.min(w.min,(0,h.pluckNumber)(e.value,w.min)),w.max=Math.max(w.max,(0,h.pluckNumber)(e.value,w.max))}))}))):(w={min:1/0,max:-1/0},x&&x.forEach((function(e){w.min=Math.min(w.min,(0,h.pluckNumber)(e.value,w.min)),w.max=Math.max(w.max,(0,h.pluckNumber)(e.value,w.min))}))),y.mapByPercent=g=!!(0,h.pluckNumber)(e.mapbypercent,0),o=e.color||[],e.minvalue===m&&(e.minvalue=w.min!==m?g?0:w.min:0),e.maxvalue===m&&(e.maxvalue=w.max!==m?g?100:w.max:100),e.maxvalue!==e.minvalue&&w.min!==1/0&&w.max!==-1/0||(e.minvalue=0,e.maxvalue=100),p=!1,i=0,s=o.length;i<s;i++)if(o[i].maxvalue){p=!0;break}for(p||(o=[]),r=e.code,c=y.colorRange=[],y.gradient=!!(0,h.pluckNumber)(e.gradient,1),o.length?r=f(r):(r?(a=f(r),r=f()):(r=f(),v=r,a=(0,h.getLightColor)(v,1)),o.push({code:a,maxvalue:e.maxvalue,label:m})),function(e){var t,o,n,r=b.getFromEnv("number-formatter");for(t=0,o=e.length;t<o;t++)(n=e[t].maxvalue)&&(e[t].maxvalue=r.getCleanValue(n))}(o),o=o.sort((function(e,t){return e.maxvalue-t.maxvalue})),d=u=e.minvalue&&k.getCleanValue(e.minvalue),u=(d!==m||null!==d)&&(g?d+"%":k.legendValue(d)),c.push({code:(0,h.dehashify)(r),value:d,displayValue:u,label:e.startlabel}),i=0,s=o.length;i<s;i++)l=f((n=o[i]).code||n.color),d=u=n.maxvalue,isNaN(parseInt(d,10))||(u=(d!==m||null!==d)&&(g?d+"%":k.legendValue(d)),c.push({code:(0,h.dehashify)(l),value:d,displayValue:u,label:n.label||n.displayvalue}));return c[c.length-1].label=e.endlabel||n.label,y},getDefaultConf:function(e){return v[e]}}),x=function(e){function t(){var t;return(t=e.call(this)||this).datasource={},t.config.legendItemIds=[],t}(0,s.default)(t,e);var o=t.prototype;return o.configure=function(){var e,t,o=this,n=this.getFromEnv("chart"),r=this.getFromEnv("dataSource").chart.mapbycategory,a=n.config.showLegend,i=n.getChildren("colorRange")&&n.getChildren("colorRange")[0];switch(n.addToEnv("colorManager",o),o.datasource=n.getFromEnv("dataSource"),e=o.datasource.colorrange,i&&i.remove({instant:!0}),a||(o.config.legendItemIds=[]),"maps"===n.defaultDatasetType?e.gradient&&Number(e.gradient)?g:e.color?p:"none":"TreeMap"===n.getName()||e.gradient&&"0"!==e.gradient&&!Number(r)?g:p){case g:C.init({chart:n}),t=C.legacyDataParser(e),(0,h.componentFactory)(n,u.default,"colorRange",1,[t]),i=n.getChildren("colorRange")[0],n.addToEnv("colorRange",i),t||(i._dontPlot=!0),o.config.legendItemIds=[],o._configureGradientLegend(i);break;case"icon":(0,h.componentFactory)(n,d.default,"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:(0,h.pluckNumber)(r,0),defaultColor:"cccccc",numberFormatter:n.getFromEnv("number-formatter")}]),n.addToEnv("colorRange",n.getChildren("colorRange")[0]),a&&o._addLegendItems();break;case"none":n.deleteFromEnv("colorManager"),o.config.legendItemIds=[]}},o._configureGradientLegend=function(e){var t=this,o=t.getFromEnv("chart").getFromEnv("gLegend");o&&(o.setColorRange(e),t.addExtEventListener("rangeUpdated",(function(e,o){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:o,component:"gradientlegend"})}),o))},o._addLegendItems=function(){var e,t,o,n,r,a=this,i=a.config,l=a.getFromEnv("chart"),s=l.getChildren("legend")[0],c=l.getFromEnv("colorRange").colorArr,d=c.length;for(n=0;n<d;n++)r={label:(0,h.pluck)(c[n].label,c[n].displayvalue),datasetObj:c[n],index:n},t=(0,h.getLightColor)(c[n].code,40),e={FCcolor:{color:c[n].code+","+c[n].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},(o=s.getItem(i.legendItemIds[n]))||(i.legendItemIds.push(s.createItem(a)),(o=s.getItem(i.legendItemIds[n])).addEventListener("fc-click",o.itemClickFn)),o.removeLegendState("hidden"),c[n].legendItemId=o&&o.getId(),o.configure(r),o.setStateCosmetics("default",{symbol:{fill:(0,h.toRaphaelColor)(e),rawFillColor:c[n].code}});for(n=d;n<i.legendItemIds.length;n++)s.disposeItem(i.legendItemIds[n]);i.legendItemIds.splice(d)},o.legendInteractivity=function(e){var t=this.getFromEnv("colorRange").colorArr[e.config.index];this.fireEvent("legendUpdate",{legendItem:e,colorObj:t,component:"legend"})},o.getColor=function(e){var t=this;return!Number(t.datasource.chart.mapbycategory)&&Number(t.datasource.colorrange.gradient)?{code:t.getColorByValue(e),label:t.getLabelByValue(e)}:t.getColorObj(e)},o.getValueRatio=function(){return this.getFromEnv("colorRange").getValueRatio()},o.getCumulativeValueRatio=function(){return this.getFromEnv("colorRange").getCumulativeValueRatio()},o.getBoxFill=function(e){return this.getFromEnv("colorRange").getBoxFill(e)},o.getColorByValue=function(e){return this.getFromEnv("colorRange").getColorByValue(e)},o.getColorObj=function(e){return this.getFromEnv("colorRange").getColorObj(e)},o.getLabelByValue=function(e){return this.getFromEnv("colorRange").getLabelByValue(e)},t}(c.ComponentInterface);i=x})),o.register("aMzLw",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s,c=l(o("eiXAs")),d=l(o("5I3Us")),u=o("c90mW"),h=o("94dom"),g=function(e,t){return+e.minvalue==+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue},p=function(e,t,o){var n=e[0],r=e[1],a=e[2],i=n+(t[0]-n)*o,l=r+(t[1]-r)*o,s=a+(t[2]-a)*o;return{hex:(u.COLOR_BLACK+(i<<16|l<<8|s).toString(16)).slice(-6),rgb:[i,l,s]}},f=function(e){function t(){var t;t=e.call(this)||this;var o=(0,c.default)(t);return o.mapByCategory=!1,o.colorArr=[],o.noValidRange=!0,o.sortLegend=!1,t}(0,d.default)(t,e);var o=t.prototype;return o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this),this.config.defaultObj={code:"CCCCCC",alpha:"100"}},o.getType=function(){return"colorComponent"},o.getName=function(){return"colorBucket"},o.configure=function(e){if(e){var t,o,n,r,a,i,l,c,d,h,p,f=this,m=f.mapByCategory,b=e.numberFormatter,v=e.colorRange||{},y=(0,u.extend2)([],v.color),k=this.getLinkedParent(),C=Math.min(Math.max((0,u.pluckNumber)(f.getFromEnv("dataSource").chart.palette,0)-1,0),4),x=k.defaultPaletteOptions&&k.defaultPaletteOptions.paletteColors[C],w=(0,u.pluckNumber)(b.getCleanValue(v.maxvalue),1/0),S=(0,u.pluckNumber)(b.getCleanValue(v.minvalue),-1/0),L=f.colorArr;if(e.mapByCategory!==s&&(m=f.mapByCategory=!!Number(e.mapByCategory)),(y=m?y.filter((function(e){return e.code||e.color})):y.filter((function(e){return e.minvalue||e.maxvalue}))).forEach((function(e){e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(c=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=c),e.minvalue?e.maxvalue?(h=b.getCleanValue(e.minvalue),d=b.getCleanValue(e.maxvalue),e.rangeLabel=b.dataLabels(h)+"-"+b.dataLabels(d)):(h=b.getCleanValue(e.minvalue),e.maxvalue=d=w,e.rangeLabel=d===1/0?">"+b.dataLabels(h):b.dataLabels(h)+"-"+b.dataLabels(d)):(e.minvalue=h=S,d=b.getCleanValue(e.maxvalue),e.rangeLabel=h===-1/0?"<"+b.dataLabels(d):b.dataLabels(h)+"-"+b.dataLabels(d))})),y.sort(g),y&&(t=y.length)){for(L.length=0,o=0;o<t;o+=1)l=y[o],n=(0,u.pluck)(l.color,l.code,x&&x[o]),r=(0,u.pluck)(l.alpha),i=(0,u.pluck)(l.bordercolor),a=(0,u.pluck)(l.borderalpha,100),d=(0,u.pluckNumber)(l.maxvalue),h=(0,u.pluckNumber)(l.minvalue),p=(0,u.pluck)(l.label,l.displayvalue,l.rangeLabel),(n&&d>=h||m&&p)&&L.push({code:n,alpha:r||"100",oriAlpha:r,maxvalue:d,minvalue:h,label:(0,u.parseUnsafeString)(p),labelId:p.toLowerCase(),bordercolor:i,borderAlpha:a,name:l.name,tllabelfont:l.tllabelfont,tllabelfontsize:l.tllabelfontsize,tllabelfontcolor:l.tllabelfontcolor,trlabelfont:l.trlabelfont,trlabelfontsize:l.trlabelfontsize,trlabelfontcolor:l.trlabelfontcolor,bllabelfont:l.bllabelfont,bllabelfontsize:l.bllabelfontsize,bllabelfontcolor:l.bllabelfontcolor,brlabelfont:l.brlabelfont,brlabelfontsize:l.brlabelfontsize,brlabelfontcolor:l.brlabelfontcolor});f.sortedColorArr=f.colorArr.slice(0)}else f.noValidRange=!0,f.colorArr=[],f.sortedColorArr=[]}},o.getColorObj=function(e){if(e===s)return{outOfRange:!0};var t,o,n,r=this,a=r.sortedColorArr,i=r.gradient?1:0,l=a[i],c=e;if(r.mapByCategory){for(c=(0,u.parseUnsafeString)(c).toLowerCase()||c.toString().toLowerCase();l;){if(l.labelId===c||l.maxvalue>=c&&l.minvalue<=c)return{code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:i,legendItemId:l.legendItemId,tlLabelFont:l.tllabelfont,tlLabelFontSize:l.tllabelfontsize,tlLabelFontColor:l.tllabelfontcolor,trLabelFont:l.trlabelfont,trLabelFontSize:l.trlabelfontsize,trLabelFontColor:l.trlabelfontcolor,blLabelFont:l.bllabelfont,blLabelFontSize:l.bllabelfontsize,blLabelFontColor:l.bllabelfontcolor,brLabelFont:l.brlabelfont,brLabelFontSize:l.brlabelfontsize,brLabelFontColor:l.brlabelfontcolor};l=a[i+=1]}return{outOfRange:!0}}if(r.gradient){if(r.scaleMin<=c&&r.scaleMax>=c){for(;l&&l.maxvalue<c;)l=a[i+=1];return n=(c-l.minvalue)/l.range,{code:p(a[i-1].codeRGB,l.codeRGB,n).hex}}return{outOfRange:!0}}for(;l;){if(c<l.minvalue&&!t&&(o=0===i?{code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:i,name:l.name,label:l.label,outOfRange:!0,bordercolor:l.bordercolor,borderalpha:l.borderAlpha}:{code:a[i-1].code,alpha:a[i-1].alpha||"100",oriAlpha:a[i-1].oriAlpha,seriesIndex:i,name:a[i-1].name,label:a[i-1].label,outOfRange:!0,bordercolor:a[i-1].bordercolor,borderalpha:a[i-1].borderAlpha}),c>l.maxvalue&&i===a.length-1&&(o={code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:i,name:l.name,label:l.label,outOfRange:!0,bordercolor:l.bordercolor,borderalpha:l.borderAlpha}),l.maxvalue>c&&l.minvalue<=c?o={code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:i,name:l.name,label:l.label,bordercolor:l.bordercolor,borderalpha:l.borderAlpha}:c===l.maxvalue&&(t={code:l.code,alpha:l.alpha||"100",oriAlpha:l.oriAlpha,seriesIndex:i,name:l.name,label:l.label,bordercolor:l.bordercolor,borderalpha:l.borderAlpha,tlLabelFont:l.tllabelfont,tlLabelFontSize:l.tllabelfontsize,tlLabelFontColor:l.tllabelfontcolor,trLabelFont:l.trlabelfont,trLabelFontSize:l.trlabelfontsize,trLabelFontColor:l.trlabelfontcolor,blLabelFont:l.bllabelfont,blLabelFontSize:l.bllabelfontsize,blLabelFontColor:l.bllabelfontcolor,brLabelFont:l.brlabelfont,brLabelFontSize:l.brlabelfontsize,brLabelFontColor:l.brlabelfontcolor}),i===a.length-1&&t)return t;if(o)return o.tlLabelFont=l.tllabelfont,o.tlLabelFontSize=l.tllabelfontsize,o.tlLabelFontColor=l.tllabelfontcolor,o.trLabelFont=l.trlabelfont,o.trLabelFontSize=l.trlabelfontsize,o.trLabelFontColor=l.trlabelfontcolor,o.blLabelFont=l.bllabelfont,o.blLabelFontSize=l.bllabelfontsize,o.blLabelFontColor=l.bllabelfontcolor,o.brLabelFont=l.brlabelfont,o.brLabelFontSize=l.brlabelfontsize,o.brLabelFontColor=l.brlabelfontcolor,o;l=a[i+=1]}return a.length?void 0:{outOfRange:!0}},o.getColorRangeArr=function(e,t){var o,n,r,a,i,l,s,c,d=[],h=e,g=t;if(!this.defaultAsigned&&(h>g&&(o=h,h=g,g=o),h<g&&(a=this.getColorObj(h),l=this.getColorObj(g),a&&l))){for(i=h,n=a.seriesIndex,r=l.seriesIndex;n<=r;n+=1)(s=(0,u.extend2)({},this.colorArr[n])).minvalue!==i&&(s.minvalue=i),d.push(s),c=s,i=s.maxvalue;c&&(c.maxvalue=g)}return d},t}(h.ComponentInterface);i=f})),o.register("615NQ",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s=l(o("5I3Us")),c=o("94dom"),d=o("c90mW"),u=function(e){function t(){var t;return(t=e.call(this)||this).colorRange={},t.valueRatio={},t.data={},t.mapByPercent=d.UNDEF,t}(0,s.default)(t,e);var o=t.prototype;return o.getType=function(){return"colorComponent"},o.getName=function(){return"gradientColorRange"},o.configure=function(e){if(e){var t,o,n,r=this;for(r.data=e,r.appender=d.BLANKSTRING,n=r.colorRange=e.colorRange.sort((function(e,t){return e.value-t.value})),r.valueRatio=d.UNDEF,r.values=[],t=0,o=n.length;t<o;t++)r.values.push(n[t].value)}},o.getValueRatio=function(){var e,t,o=this.colorRange,n=o.length,r=this.valueRatio,a=o[n-1].value,i=o[0].value,l=a-i,s=0;if(r)return r;for(r=this.valueRatio=[],e=0;e<n;e++)t=(o[e].value-i)/l,r.push(100*(t-s)),s=t;return r},o.getCumulativeValueRatio=function(){var e,t,o=this.colorRange,n=o.length,r=o[0].value,a=o[n-1].value,i=[];for(t=0;t<n;t++)e=o[t],i.push((e.value-r)/(a-r)*100);return i},o.getBoxFill=function(e){var t,o,n,r=this.colorRange,a=r.length,i=[];for(n=e?90:0,o=0;o<a;o++)t=r[o],i.push(t.code);return(0,d.toRaphaelColor)({FCcolor:{alpha:"100,100,100",angle:n,color:i.join(","),ratio:this.getValueRatio().join(",")}})},o.getColorByValue=function(e){var t,o,n,r,a=this.values,i=this.colorRange;if(e!==d.UNDEF&&null!==e){for(o=0,t=a.length;o<t;o++){if(e===a[o]){r=i[o].code;break}if(!o&&e<a[o]){n=!0;break}if(o===t-1&&e>a[o]){n=!0;break}if(e>a[o]&&e<a[o+1]){l=i[o],s=i[o+1],c=e,u=void 0,h=void 0,g=void 0,p=void 0,h=l.value,g=(0,d.HEXtoRGB)(l.code),p=(0,d.HEXtoRGB)(s.code),u=s.value-h,r=(0,d.RGBtoHex)([Math.round(g[0]+(p[0]-g[0])/u*(c-h)),Math.round(g[1]+(p[1]-g[1])/u*(c-h)),Math.round(g[2]+(p[2]-g[2])/u*(c-h))]);break}}var l,s,c,u,h,g,p;if(!n)return r}},o.getLabelByValue=function(e){var t,o,n,r,a=this.values,i=this.colorRange;if(e!==d.UNDEF&&null!==e){for(o=0,t=a.length;o<t;o++){if(e===a[o]){r=i[o].label;break}if(!o&&e<a[o]){n=!0;break}if(o===t-1&&e>a[o]){n=!0;break}if(e>a[o]&&e<a[o+1]){r=i[o].label;break}}if(!n)return r}},t}(c.ComponentInterface);i=u})),o.register("lO6gi",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=function(e){!function(e){var t,o=e.getFromEnv("dataSource").colorrange,n=e.getFromEnv("dataSource").chart.mapbycategory,r="maps"===e.defaultDatasetType,a="TreeMap"===e.getName(),i=e.getFromEnv("legend"),l=e.getFromEnv("gLegend");t=o&&e.config.showLegend?r?o.gradient&&Number(o.gradient)?h:o.color?g:u:a?o.gradient&&"0"!==o.gradient?h:u:o.gradient&&"0"!==o.gradient&&!Number(n)?h:g:u;switch(t){case"gradient":e.deleteFromEnv("legend"),i&&i.remove(),(0,s.componentFactory)(e,c.default,"gLegend",1),(l=e.getChildren("gLegend")[0]).configure(),e.addToEnv("gLegend",l);break;case"icon":e.deleteFromEnv("gLegend"),l&&l.remove(),(0,s.componentFactory)(e,d.default,"legend",1,{showLegend:!0}),(i=e.getChildren("legend")[0]).configure(),e.addToEnv("legend",i);break;case"none":e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),l&&l.remove(),i&&i.remove()}}(e)};var s=o("c90mW"),c=l(o("MjUK8")),d=l(o("fGrF8")),u="none",h="gradient",g="icon"})),o.register("MjUK8",(function(n,r){var a,i;t(n.exports),e(n.exports,"__esModule",(function(){return a}),(function(e){return a=e})),e(n.exports,"default",(function(){return i}),(function(e){return i=e}));var l=o("2ZnTs");a=!0,i=void 0;var s,c,d,u,h,g=l(o("eiXAs")),p=l(o("5I3Us")),f=o("c90mW"),m=o("94dom"),b={},v="rgba(192,192,192,"+(f.isIE?.002:1e-6)+")",y=!1,k=!0,C=",",x="#000000",w="absolute",S="top",L="bottom",F="left",T="right",E="GL_VALUES",N={}.hasOwnProperty,A="M",I="L";function _(e,t){return function e(t,o){var n,r;for(r in t)N.call(t,r)&&(n=t[r],o[r]===s?o[r]=n:"object"==typeof n&&null!==n&&e(n,o[r]))}(e,t),t}function P(e){var t=e||x;return(0,f.getValidColor)(t)||x}function O(e){var t,o=e.fontSize+"";return o?(t=o.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function M(e){return!(e!==s&&null!=e&&!isNaN(e))}b.CAPTION="CAPTION",b.LEGEND_BODY="LEGEND_BODY",b.AXIS_LABEL="LEGEND_LABEL",b.LEGEND_AXIS="LEGEND_AXIS",b.RANGE="RANGE",b.AXIS_VALUE="AXIS_VALUE",(h={}).legendCarpetConf={spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},h.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},h.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}},h.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,f.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},h.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:v,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:v,stroke:"#FFFFFF"}}},h.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},c={init:function(e){u=e.chart},legacyDataParser:function(e,t){var o,n,r,a,i,l,c,d,h,g,p,m,b,v={},y=u.getFromEnv("number-formatter");if(!e)return!1;for(v.mapByPercent=p=!!(0,f.pluckNumber)(e.mapbypercent,0),o=e.color||[],e.minvalue===s&&(e.minvalue=t.min!==s?p?0:t.min:0),e.maxvalue===s&&(e.maxvalue=t.max!==s?p?100:t.max:100),m=!1,i=0,c=o.length;i<c;i++)if(o[i].maxvalue){m=!0;break}for(m||(o=[]),r=e.code,d=v.colorRange=[],v.gradient=!!(0,f.pluckNumber)(e.gradient,1),o.length?r=P(r):(r?(a=P(r),r=P()):(r=P(),b=r,a=(0,f.getLightColor)(b,1)),o.push({code:a,maxvalue:e.maxvalue,label:s})),function(e){var t,o,n,r=u.getFromEnv("number-formatter");for(t=0,o=e.length;t<o;t++)(n=e[t].maxvalue)&&(e[t].maxvalue=r.getCleanValue(n))}(o),o=o.sort((function(e,t){return e.maxvalue-t.maxvalue})),h=g=e.minvalue&&y.getCleanValue(e.minvalue),g=(h!==s||null!==h)&&(p?h+"%":y.legendValue(h)),d.push({code:(0,f.dehashify)(r),value:h,displayValue:g,label:e.startlabel}),i=0,c=o.length;i<c;i++)l=P((n=o[i]).code||n.color),h=g=n.maxvalue,isNaN(parseInt(h,10))||(g=(h!==s||null!==h)&&(p?h+"%":y.legendValue(h)),d.push({code:(0,f.dehashify)(l),value:h,displayValue:g,label:(0,f.parseUnsafeString)(n.label||n.displayvalue)}));return d[d.length-1].label=(0,f.parseUnsafeString)(e.endlabel||n.label),v},getDefaultConf:function(e){return h[e]}};var R=function(e){(0,p.default)(o,e);var t=o.prototype;function o(){var t;return t=e.call(this)||this,d=(0,g.default)(t),t.enabled=!1,t.drawOptions={},t.components={},t}return t.getType=function(){return"gradientLegend"},t.getName=function(){return"gLegend"},t.setColorRange=function(e){var t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)},t.configureAttributes=function(){var e,t,o,n,r,a,i,l,d,u,h,g,p=this,m=p.getFromEnv("chart"),b=p.getFromEnv("dataSource").chart,v=p.conf={},y=b.outcnvbasefont,k=this.computeFontSize(b.outcnvbasefontsize),C=b.outcnvbasefontcolor,x=m.config.dataLabelStyle;c.init({chart:m}),p.data=p.getFromEnv("dataSource").colorrange,p._dontPlot||(p.drawOptions={smartLabel:p.getFromEnv("smartLabel"),gLegend:p},p._dontPlot=!1,p._recalculateLogicalSpace=!0,v.caption=(0,f.parseUnsafeString)((0,f.pluck)(b.legendcaption)),v.legendPosition=(0,f.pluck)(b.legendposition,"bottom").toLowerCase(),v.legendXPosition=(0,f.pluckNumber)(b.legendxposition,0),v.legendYPosition=(0,f.pluckNumber)(b.legendyposition,0),v.legendMaxHeight=(0,f.pluckNumber)(b.legendmaxheight,0),v.legendMaxWidth=(0,f.pluckNumber)(b.legendmaxwidth,0),v.legendVertical="string"==typeof b.legendorientation&&"vertical"===b.legendorientation.toLowerCase(),v.showLegend=(0,f.pluckNumber)(b.showlegend,1),v.interactiveLegend=(0,f.pluckNumber)(b.interactivelegend,1),v.showLegendLabels=(0,f.pluckNumber)(b.showlegendlabels,1),e=b.legenditemfontcolor||C,t=b.legenditemfont||y,o=b.legenditemfontsize||k,n=(0,f.pluckFontSizeMaintainUnit)(b.legenditemfontsize,b.outcnvbasefontsize),r=(0,f.pluckNumber)(b.legenditemfontbold,0),a=b.legendcaptionfontcolor||C,i=b.legendcaptionfont||y,l=b.legendcaptionfontsize||k,d=(0,f.pluckFontSizeMaintainUnit)(b.legendcaptionfontsize,b.outcnvbasefontsize),u=(0,f.pluckNumber)(b.legendcaptionfontbold,1),g=(h=b.legendaxisbordercolor?(0,f.hashify)((0,f.dehashify)(b.legendaxisbordercolor)):s)?(0,f.pluckNumber)(b.legendaxisborderalpha,100)/100:s,v.axisTextItemConf={style:{fill:e?(0,f.convertColor)((0,f.pluck)(e)):x.color,fontFamily:t?(0,f.pluck)(t):x.fontFamily,fontSize:o?(0,f.pluckNumber)(o):x.fontSize.match(/\d+/)[0],fontSizeWithUnit:(0,f.pluckFontSizeMaintainUnit)(n,x.fontSize.match(/\d+/)[0]),fontWeight:r?"bold":x.fontWeight}},v.legendCaptionConf={style:{fill:a?(0,f.convertColor)((0,f.pluck)(a)):x.color,fontFamily:i?(0,f.pluck)(i):x.fontFamily,fontSize:l?(0,f.pluckNumber)(l):x.fontSize.match(/\d+/)[0],fontSizeWithUnit:(0,f.pluckFontSizeMaintainUnit)(d,x.fontSize.match(/\d+/)[0]),fontWeight:u?"bold":x.fontWeight,fontStyle:"normal"}},v.legendAxisConf={legendAxisHeight:11,style:{stroke:h,"stroke-opacity":g},line:{style:{stroke:(0,f.convertColor)((0,f.pluck)(b.legendscalelinecolor,"FFF8E9"),(0,f.pluckNumber)(b.legendscalelinealpha,100)),"stroke-width":(0,f.pluckNumber)(b.legendscalelinethickness)}}},v.sliderGroupConf={showTooltip:(0,f.pluckNumber)(b.showtooltip,1),outerCircle:{rFactor:(0,f.pluckNumber)(b.sliderdiameterfactor),style:{stroke:(0,f.convertColor)((0,f.pluck)(b.legendpointerbordercolor,"757575"),(0,f.pluckNumber)(b.legendpointerborderalpha,100))}},innerCircle:{rFactor:(0,f.pluckNumber)(b.sliderholediameterfactor),style:{stroke:(0,f.convertColor)((0,f.pluck)(b.legendpointercolor,"FFFFFF"),(0,f.pluckNumber)(b.legendpointeralpha,100))}}},v.legendCarpetConf={spreadFactor:(0,f.pluckNumber)(b.legendspreadfactor),allowDrag:!!(0,f.pluckNumber)(b.legendallowdrag,0),captionAlignment:(0,f.pluck)(b.legendcaptionalignment,"center"),style:{fill:(0,f.convertColor)((0,f.pluck)(b.legendbgcolor,"e4d9c1"),(0,f.pluckNumber)(b.legendbgalpha,100)),stroke:(0,f.convertColor)((0,f.pluck)(b.legendbordercolor,"c4b89d"),(0,f.pluckNumber)(b.legendborderalpha,100)),"stroke-width":(0,f.pluckNumber)(b.legendborderthickness,1)}})},t.postConfigureInit=function(){var e,t,o,n,r,a,i,l,s,d,u,h=this,g=h.conf,p=g.legendPosition?g.legendPosition.split("-"):[];h.elem={},g.interactiveLegend?(n=_(c.getDefaultConf("sliderGroupConf"),g.sliderGroupConf),this.sGroup?((o=h.elem.sGroup=this.sGroup).configure(n),h.elem.sGroup.gLegend=h):(this.sGroup=h.elem.sGroup=o=new H(n),o.configure(n),h.elem.sGroup.gLegend=h)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),(n=_(c.getDefaultConf("legendCarpetConf"),g.legendCarpetConf)).legendPosition=p[0]===w&&!g.legendVertical||p[0]===S||p[0]===L?L:T,u=c.getDefaultConf("legendBodyConf"),p[0]===w&&!g.legendVertical||p[0]===S||p[0]===L?(h.drawOptions.refSideKey="canvasWidth",h.drawOptions.refOffsetKey="canvasLeft",r=_(c.getDefaultConf("axisTextItemConf"),g.axisTextItemConf),u.legendPosition=L,(d=_(c.getDefaultConf("legendAxisConf"),g.legendAxisConf)).legendPosition=L,r.legendPosition=L):(h.drawOptions.refSideKey="canvasHeight",h.drawOptions.refOffsetKey="canvasTop",r=_(c.getDefaultConf("axisTextItemConf"),g.axisTextItemConf),u.legendPosition=T,(d=_(c.getDefaultConf("legendAxisConf"),g.legendAxisConf)).legendPosition=T,r.legendPosition=T),Object.keys(this.components).length||(this.components.LegendCarpet=new D,this.components.LegendBody=new z,this.components.LegendAxis=new V,this.components.LegendValues=new U,g.showLegendLabels&&(this.components.LegendLabels=new j)),t=this.components.LegendAxis,l=this.components.LegendValues,e=this.components.LegendCarpet,a=this.components.LegendBody,g.showLegendLabels&&(i=this.components.LegendLabels),this.components.LegendCarpet.configure(n),this.components.LegendValues.configure(r),this.components.LegendAxis.configure(d),this.components.LegendBody.configure(h.drawOptions.colorRange,u,r),g.showLegendLabels&&i.configure(r),g.caption?(s=_(c.getDefaultConf("legendCaptionConf"),g.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(g.caption,s):(this.componentCaption=new G).configure(g.caption,s),e.addCompositions(this.componentCaption,b.CAPTION)):(e.removeCompositions(b.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),o&&t.addCompositions(o,b.RANGE),i&&a.addCompositions(i,b.AXIS_LABEL),a.addCompositions(t,b.LEGEND_AXIS),a.addCompositions(l,b.AXIS_VALUE),e.addCompositions(a,b.LEGEND_BODY),h.elem.gl=new B(e)},t.getValueRange=function(){var e,t,o=this.elem&&this.elem.sGroup,n=o.sliders,r=o.extremes;return e=n.false.currPos,t=r[1]-r[0]+n.true.currPos,[{min:o.getValueFormPixel(e),max:o.getValueFormPixel(t)}]},t._dispose=function(){var t=this;t.elem&&t.elem.gl&&t.elem.gl.dispose(),t.elem={},e.prototype._dispose.call(this)},t.getCalculatedLogicalSpace=function(){return this._logicalArea},t.setCalculatedLogicalSpace=function(e){this._logicalArea=e},t.getLogicalSpace=function(e){var t,o,n,r,a,i=this,l=i.conf,s={height:0,width:0},c=i.drawOptions,d=i.getFromEnv("chartConfig"),u=l.legendPosition.split("-")[0]===w;return i._recalculateLogicalSpace?i._dontPlot?s:(i._recalculateLogicalSpace=!1,i.postConfigureInit(),l.showLegend?(o=c.refSideKey,n=c.refOffsetKey,i.drawOptions.refSide=d[o],i.drawOptions.refOffset=d[n],i.drawOptions.maxOtherSide=e||i.drawOptions.maxOtherSide,i.elem.gl&&(t=i.elem.gl.getLogicalSpace(i.drawOptions,!0),i.elem.gl&&i.setCalculatedLogicalSpace(t)),i.getCalculatedLogicalSpace()):s):(o=c.refSideKey,n=c.refOffsetKey,i.drawOptions.refSide=d[o],u?(r=l.legendMaxHeight<=0?.8*d.height:l.legendMaxHeight<=d.height?l.legendMaxHeight:d.height,a=l.legendMaxWidth<=0?.8*d.width:l.legendMaxWidth<=d.width?l.legendMaxWidth:d.width,l.legendVertical?(i.drawOptions.refSide=r,i.drawOptions.maxOtherSide=a):(i.drawOptions.refSide=a,i.drawOptions.maxOtherSide=r)):(i.drawOptions.refOffset=d[n],i.drawOptions.maxOtherSide=e||i.drawOptions.maxOtherSide),t=i.elem.gl.getLogicalSpace(i.drawOptions,!0),i.setCalculatedLogicalSpace(t),i.getCalculatedLogicalSpace()||s)},t.resetLegend=function(){var e;(e=this.elem&&this.elem.sGroup)&&e.reset()},t._calculateTopPosition=function(e){var t=this.getFromEnv("chart"),o=t.config,n=e,r=t.getChildren("caption")&&t.getChildren("caption")[0],a=t.getChildren("subCaption")&&t.getChildren("subCaption")[0],i=t.getChildren("chartMenuBar")&&t.getChildren("chartMenuBar")[0],l=o.oriTopSpace;return!o.toolbarY&&i&&i.props&&i.props.height&&(l>i.props.height+i.props.y||(n=i.props.y+i.props.height)),r&&r.config&&r.config.text&&r.config.text!==f.BLANKSTRING&&r.config.height&&1===r.config.isOnTop&&(n=r.config.height+r.config.y+r.config.captionPadding),a&&a.config&&a.config.height&&1===a.config.isOnTop&&(n=a.config.y+a.config.height+(r&&r.config&&r.config.captionPadding||0)),n>e?n:e},t.allocatePosition=function(){var e,t,o,n,r,a,i,l,s=this.getFromEnv("chart"),c=s.config,d=this.conf||{},u=d.legendPosition.split("-"),h=c.canvasLeft,g=c.canvasTop,p=c.canvasWidth,f=c.canvasHeight,m=c.marginTop,b=c.marginBottom,v=c.marginRight,y=c.marginLeft;d.axisTextItemConf.style.fontSize=this.computeFontSize(d.axisTextItemConf.style.fontSizeWithUnit),d.legendCaptionConf.style.fontSize=this.computeFontSize(d.legendCaptionConf.style.fontSizeWithUnit),s.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),o=d.width=e.width,n=d.height=e.height,u[0]===w?(i=c.width-o,l=c.height-n,r=d.legendXPosition<0?0:d.legendXPosition>i?i:d.legendXPosition,a=d.legendYPosition<0?0:d.legendYPosition>l?l:d.legendYPosition):u[0]===S||u[0]===L?(t=p-o,r=u[1]===F?h:u[1]===T?h+(t>0?t:0):h+(t<0?0:t/2),a=u[0]===S?this._calculateTopPosition(m):c.height-e.height-b-(c.actionBarHeight||0)):(t=f-n,a=u[1]===S?g:u[1]===L?g+t:g+(t<0?0:t/2),r=u[0]===F?y:c.width-e.width-v),d.xPos=r,d.yPos=a)},t.draw=function(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,o=this.conf||{},n=e.hasGradientLegend;e.config.gLegendEnabled&&t&&n&&this.drawLegendComponent(o.xPos,o.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})},t.drawLegendComponent=function(e,t,o){var n,r=this,a=r.conf;r._dontPlot||(a.showLegend?(r.drawOptions.animationManager=o.animationManager,r.drawOptions.parentGroup=o.parentGroup,r.drawOptions.x=e,r.drawOptions.y=t,r.drawOptions.maxOtherSide=r.drawOptions.maxOtherSide||o.maxOtherSide,n=r.elem.gl.draw(r.drawOptions).getBBox(),a.xPos=n.x,a.yPos=n.y,a.height=n.height,a.width=n.width,r.enabled=!0):r.enabled=!1)},o}(m.ComponentInterface),B=function(){function e(e){this.carpet=e}var t=e.prototype;return t.draw=function(e){return this.carpet.draw(e)},t.getLogicalSpace=function(e,t){return this.carpet.getLogicalSpace(e,t)},t.dispose=function(){this.carpet&&this.carpet.group&&this.carpet.group.remove()},e}(),D=function(){function e(e){this.conf=e,this._id="GL_CARPET",this.compositionsByCategory={},this.node=s,this.group=s,this._lSpace=s,this.autoRecalculate=!1,this.groupName="fc-gradient-legend",this.moveInstructions={}}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getName=function(){return"LegendCarpet"},t.getType=function(){return"legend"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.removeCompositions=function(e){delete this.compositionsByCategory[e]},t.getBoundingBox=function(e){var t,o,n=this.conf,r=n.spreadFactor,a=e.refSide,i=e.alignment,l=e.refOffset,c=e.x,d=e.y;return"bottom"===this.conf.legendPosition?(t=n.width=a*r,o=e.maxOtherSide,!i||c!==s&&null!==c||(c=(l+a)/2-t/2)):(o=n.height=a*r,t=e.maxOtherSide,!i||d!==s&&null!==d||(d=(l+a)/2-o/2)),{width:t,height:o,x:c,y:d}},t.getPostCalcDecisionsH=function(e,t){var o,n=this.conf.padding,r=0;for(o in this.moveInstructions={},t)r+=t[o].height||0;e.height=r+2*n.v},t.getLogicalSpace=function(e,t){var o,n,r,a,i,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf.padding,d=this.compositionsByCategory,u=0,h={},g=0;if(l&&!t)return l.isImpure=!0,l;(M((l=this._lSpace=n=this.getBoundingBox(e)).x)||M(l.y)||M(l.height)||M(l.width))&&(this.autoRecalculate=!0),(r=_(n,{})).height-=2*c.v,r.width-=2*c.h,r.x+=c.h,r.y+=c.v;for(var p=0;p<s.length;p++)(o=d[s[p]])&&((i=_(r,{})).y+=u,u=r.height*o.conf.spreadFactor,i.height=u+g,a=o.getLogicalSpace(_(i,{}),e,t),g=i.height-a.height,h[s[p]]=a,u=a.height);return this.getPostCalcDecisions(n,h),this._lSpace=n,n},t.setupDragging=function(){var e=this.group,t=0,o=0,n=0,r=0;e.css({cursor:"move"}),e.drag((function(a,i){t=a,o=i,e.attr({transform:"t"+(n+t)+","+(r+o)})}),(function(){n+=t,r+=o}),f.stubFN)},t.draw=function(e){var t,o,n,r=this.conf,a=["CAPTION","LEGEND_BODY"],i=this.compositionsByCategory,l=e.animationManager,s=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),n=this._lSpace,this.group=t=l.setAnimation({el:this.group||"group",attr:{name:this.groupName},component:d,container:s,label:"carpetGroup"}),this.node=l.setAnimation({el:this.node||"rect",attr:n,css:r.style,component:d,container:t,label:"rect"});for(var c=0;c<a.length;c++)(o=i[a[c]])&&o.draw(r.captionAlignment,n,{animationManager:l,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[undefined],gLegend:e.gLegend});return r.allowDrag&&this.setupDragging(),this.node},t.getPostCalcDecisions=function(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)},t.getPostCalcDecisionsV=function(e,t){var o,n,r,a=this.conf.padding,i=Number.NEGATIVE_INFINITY,l=this.moveInstructions;for(n in this.getPostCalcDecisionsH(e,t),t)i=i<(o=t[n].width)?o:i;for(n in e.width=i+2*a.h,t)(r=i-(o=t[n].width))&&(l[n]="t"+r/2+",0")},e}(),G=function(){function e(e,t){this.rawText=e,this.conf=t,this._id="GL_CAPTION",this.node=s,this.bound=s,this._lSpace=s,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){var e=arguments[1];return e.x+e.width/2}}}var t=e.prototype;return t.configure=function(e,t){this.rawText=e,this.conf=t},t.getName=function(){return"LegendCaption"},t.getType=function(){return"caption"},t.getLogicalSpace=function(e,t,o){var n,r,a,i,l=this.conf.padding,c=this._lSpace,d=this.rawText,u=t.gLegend.getFromEnv("chartConfig");return c&&!o?(c.isImpure=!0,c):(c=this._lSpace={bound:{height:0,width:0},node:{logicArea:s,smartText:s}},n=t.smartLabel,d?((r=_(e,{})).height-=2*l.v,r.width-=2*l.h,r.x+=l.h,r.y+=l.v,n.useEllipsesOnOverflow(u.useEllipsesWhenOverflow),O(i=_(this.conf.style,{})),n.setStyle(this._metaStyle=i),a=n.getSmartText(d,r.width,r.height),r.height=a.height,r.width=a.width,e.height=a.height+2*l.v,e.width=a.width+2*l.h,c.node.smartText=a,c.node.logicArea=r,c.bound=e,e):c.bound)},t.draw=function(){var e,t,o,n,r,a,i,l,s,c,u,h=this.conf,g=h.bound||{};return arguments.length>=3?(i=arguments[0],l=arguments[1],s=arguments[2]):arguments.length>=2&&(i=arguments[0],s=arguments[1]),e=s.parentLayer,u=s.animationManager,this.group=t=u.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:h.style,component:d,container:e}),this.getLogicalSpace(l,s),c=(r=this._lSpace).node,n=r.bound,this.bound=o=u.setAnimation({el:this.bound||"rect",attr:n,css:g.style,container:t,component:d}),a="string"==typeof i?this.LegendCaption[i.toUpperCase()].x(c.smartText,l||c.logicArea):i,this.node=u.setAnimation({el:this.node||"text",attr:{text:c.smartText.text,x:a,y:c.logicArea.y+c.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:h.style.fill},container:t,component:d}),{group:t,bound:o,node:this.node}},t.dispose=function(){this.group.remove(),this.bound.remove(),this.node.remove()},e}(),z=function(){function e(e,t,o){this.colorRange=e,this.conf=t,this.childTextConf=o,this._id="GL_BODY",this.bound=s,this.group=s,this.compositionsByCategory={},this._lSpace=s,this.SC_STACK=[b.AXIS_LABEL,b.LEGEND_AXIS,b.AXIS_VALUE],this.DARW_STACK=[b.AXIS_VALUE,b.LEGEND_AXIS,b.AXIS_LABEL]}var t=e.prototype;return t.configure=function(e,t,o){this.colorRange=e,this.conf=t,this.childTextConf=o,this.compositionsByCategory={}},t.getName=function(){return"LegendBody"},t.getType=function(){return"legend"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.getSpaceTaken=function(e){return"bottom"===this.conf.legendPosition?e.height:e.width},t.getLogicalSpace=function(e,t,o){var n,r,a,i,l,c,d,u=this._lSpace,h=this.conf.padding,g=this.compositionsByCategory,p=0;if(u&&!o)return u.isImpure=!0,u;for(u=this._lSpace={bound:{height:0,width:0},node:{logicArea:s}},(i=_(e,{})).height-=2*h.v,i.width-=2*h.h,i.x+=h.h,i.y+=h.v,l=this.getCompositionPlotAreaFor(i),t.colorRange=this.colorRange,c=0,d=this.SC_STACK.length;c<d;c++)(n=g[this.SC_STACK[c]])&&(r=l(a,n.conf.spreadFactor),a=n.getLogicalSpace(_(r,{}),t,o),p+=this.getSpaceTaken(a));return this.updateEffectivePlotArea(e,i,p),u.node.logicArea=i,u.bound=e,e},t.draw=function(){var e,t,o,n,r,a,i,l,s,c,u=this.childTextConf,h=this.conf,g=h.bound.style||{},p=this.compositionsByCategory;for(arguments.length>=3?(a=arguments[1],l=arguments[2]):arguments.length>=2&&(l=arguments[1]),t=l.parentLayer,e=l.animationManager,this.getLogicalSpace(a,l),i=this._lSpace,this.group=r=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:u.style,container:t,component:d}),this.bound=o=e.setAnimation({el:this.bound||"rect",attr:i.bound,css:g,container:r,component:d}),l.colorRange=this.colorRange,l.parentLayer=r,s=0,c=this.DARW_STACK.length;s<c;s++)(n=p[this.DARW_STACK[s]])&&n.draw(l);return l.moveInstructions&&r.attr({transform:l.moveInstructions}),{bound:o,group:r}},t.getCompositionPlotAreaFor=function(e){var t,o="bottom"===this.conf.legendPosition;return t=_(e,{}),function(n,r){var a=n;return a=a||{},o?(t.y+=a.height||0,t.height=e.height*r):(t.x+=a.width||0,t.width=e.width*r),t}},t.updateEffectivePlotArea=function(e,t,o){var n=this.conf.padding;"bottom"===this.conf.legendPosition?(t.height=o,e.height=o+2*n.v):(t.width=o,e.width=o+2*n.h)},e}(),j=function(){function e(e){this.conf=e,this.node=[],this._id="GL_LABELS"}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getType=function(){return"label"},t.getName=function(){return"LegendLabel"},t.getEffectivePlotArea=function(e){var t=this.conf.padding;return e.height-=2*t.v,e.width-=2*t.h,e.x+=t.h,e.y+=t.v,e},t.getLogicalSpace=function(e,t,o){var n,r,a,i,l,c,d,u,h,g,p,m,b,v,y,k,C,x,w,S,L,F,T,E="bottom"===this.conf.legendPosition,N=this._lSpace,A=this.conf,I=A.padding,P=[],M=t.gLegend.getFromEnv("chartConfig"),R=[];if(N&&!o)return N.isImpure=!0,N;for(n=t.colorRange,r=t.smartLabel,g=n.getCumulativeValueRatio(),a=n.colorRange,b=(N=this._lSpace={bound:{height:0,width:0},node:{logicArea:s,smartTexts:[]}}).node.smartTexts,u=_(e,{}),y=this.getEffectivePlotArea(u),T=E?y.width:y.height,r.useEllipsesOnOverflow(M.useEllipsesWhenOverflow),F=_(A.style,{}),O(this._metaStyle=F),r.setStyle(F),k=r.getSmartText("W"),i=0,l=a.length;i<l;i++)(h=(0,f.parseUnsafeString)(a[i].label))?R.push({oriIndex:i,label:h}):b[i]=s;if(0===(l=R.length))return{height:0,width:0};for(m=p=l>1?(g[R[l-1].oriIndex]-g[R[0].oriIndex])/2*T/100:Math.max(g[R[0].oriIndex],100-g[R[0].oriIndex])/2*T/100,E?((S=r.getSmartText(R[0].label,m,y.height)).x=g[R[0].oriIndex]*y.width/100,c=S.x+S.width):((S=r.getSmartText(R[0].label,m,y.width)).y=g[R[0].oriIndex]*y.height/100,c=S.y+S.width),P.push(S.height),b[R[0].oriIndex]=S,E?((S=r.getSmartText(R[l-1].label,m,y.height)).x=g[R[l-1].oriIndex]*y.width/100,d=S.x-S.width):((S=r.getSmartText(R[l-1].label,m,y.width)).y=g[R[l-1].oriIndex]*y.height/100,d=S.y-S.width),P.push(S.height),b[R[l-1].oriIndex]=S,w=c,i=1;i<l-1;i++)h=R[i].label,L=R[i].oriIndex,S=s,C=i+1===l-1?d:g[R[i+1].oriIndex]*T/100,x=g[R[i].oriIndex]*T/100,(p=Math.min(x-w,C-x))>2*k.width&&(E?(S=r.getSmartText(h,p,y.height)).x=g[L]*y.width/100:(S=r.getSmartText(h,p,y.width)).y=g[L]*y.height/100,w=p,P.push(S.height)),b[R[i].oriIndex]=S;return v=Math.max.apply(Math,P),E?(y.height=v,e.height=v+2*I.v):(y.width=v,e.width=v+2*I.v),N.node.logicArea=y,N.bound=e,e},t.draw=function(){var e,t,o,n,r,a,i,l,s,c,u,h,g="bottom"===this.conf.legendPosition,p=this.conf,f=p.bound&&p.bound.style||{stroke:"none"},m={};arguments.length>=2&&arguments[1]?(n=arguments[0],i=arguments[1]):arguments.length>=1&&(i=arguments[0]),h=i.animationManager,e=i.parentLayer,this.getLogicalSpace(n,i),s=(a=this._lSpace).node.logicArea,c=a.node.smartTexts,this.group=o=h.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:d}),this.bound=t=h.setAnimation({el:this.bound||"rect",attr:a.bound,css:f,container:o,component:d});for(var b=0;b<this.node.length;b++)this.node[b].remove();for(this.node=[],l=0,u=c.length;l<u;l++)(r=c[l])&&(g?(m.y=s.y+r.height/2,m.x=l===u-1?s.x+r.x-r.width/2:l?s.x+r.x:s.x+r.x+r.width/2):(m.x=s.x+r.height/2,m.y=l===u-1?s.y+r.y-r.width/2:l?s.y+r.y:s.y+r.y+r.width/2),this.node.push(h.setAnimation({el:"text",attr:{text:r.text,x:m.x,y:m.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill,transform:g?"R0":"R270,"+m.x+","+m.y},container:o,component:d})));return{group:o,bound:t,node:this.node}},e}(),V=function(){function e(e){this.conf=e,this._id="FL_AXIS",this.node=s,this.group=s,this.shadow=s,this.markerLine=s,this.compositionsByCategory={}}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getName=function(){return"LegendAxis"},t.getType=function(){return"axis"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.getLogicalSpace=function(){var e,t,o,n,r,a,i="bottom"===this.conf.legendPosition,l=arguments[0],c=arguments[2],d=this._lSpace,u=this.conf,h=u.padding,g=u.legendAxisHeight,p=this.compositionsByCategory,f=0;return d&&!c?(d.isImpure=!0,d):(d=this._lSpace={bound:{height:0,width:0},node:{logicArea:s}},(r=_(l,{})).height-=2*h.v,r.width-=2*h.h,r.x+=h.h,r.y+=h.v,e=g/2+u.line.offset,t=g/2,(n=p[b.RANGE])&&(a=n.sliders.false.conf.outerCircle.rFactor*g,t+=f=Math.max(a/2-g/2,0)),i?(r.y+=f,r.height=o=t+e+f,l.height=o+2*h.v):(r.x+=f,r.width=o=t+e+f,l.width=o+2*h.v),d.node.logicArea=r,d.bound=l,l)},t.getDrawableAxisArea=function(e){var t=this.conf,o="bottom"===this.conf.legendPosition;return{x:e.x,y:e.y,width:o?e.width:t.legendAxisHeight,height:o?t.legendAxisHeight:e.height,r:t.legendAxisHeight/2}},t.preDrawingRangeParamV=function(e){return{x:e.x+e.width/2,calculationBase:e.width,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}},t.preDrawingRangeParamH=function(e){return{y:e.y+e.height/2,calculationBase:e.height,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}},t.preDrawingRangeParam=function(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)},t.getScaleMarkerPathStrH=function(e,t){var o,n,r,a,i,l=_(e,{}),s=this.conf.line,c=f.BLANKSTRING,d=f.BLANKSTRING;for(l.x+=l.r,l.width-=2*l.r,i=l.y+l.height,o=0,n=t.length;o<n;o++)r=t[o],a=l.x+r*l.width/100,c+=A+a+C+(i-s.grooveLength)+I+a+C+(i+s.offset);return c+(d+=A+l.x+C+(i+s.offset)+I+(l.x+l.width)+C+(i+s.offset))},t.getColorGradientH=function(e){return{axis:e.getBoxFill(),shadow:(0,f.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},t.draw=function(){var e,t,o,n,r,a,i,l,s,c,u,h,g,p,f=this.conf,m=f.bound||{},v=f.line,y=m.style||{},k=this.compositionsByCategory;for(o in arguments.length>=2?(t=arguments[0],h=arguments[1]):arguments.length>=1&&(h=arguments[0]),g=h.animationManager,e=h.parentLayer,r=(n=h.colorRange).getCumulativeValueRatio(),this.getLogicalSpace(t,h),u=this._lSpace,this.group=i=g.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:d}),this.bound=g.setAnimation({el:this.bound||"rect",attr:u.bound,css:y,component:d,container:i}),c=this.getDrawableAxisArea(u.node.logicArea),s=this.getColorGradient(n),f.style.fill=s.axis,f.shadow.style.fill=s.shadow,this.node=g.setAnimation({el:this.node||"rect",attr:c,css:f.style,container:i,component:d}),this.shadow=g.setAnimation({el:this.shadow||"rect",attr:c,css:f.shadow.style,container:i,component:d}),p=this.getScaleMarkerPathStr(c,r),this.path=g.setAnimation({el:this.path||"path",attr:{path:p},css:v.style,container:i,component:d}),k)if(a=k[o],o===b.RANGE)h[(l=this.preDrawingRangeParam(c)).prop]=l[l.prop],h.key=l.prop,h.rCalcBase=l.calculationBase,h.parentLayer=i,a.draw(l.rangeStart,l.rangeEnd,h)},t.getScaleMarkerPathStr=function(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)},t.getColorGradient=function(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)},t.getScaleMarkerPathStrV=function(e,t){var o,n,r,a,i,l=_(e,{}),s=this.conf.line,c=f.BLANKSTRING,d=f.BLANKSTRING;for(l.y+=l.r,l.height-=2*l.r,a=l.x+l.width,o=0,r=t.length;o<r;o++)n=t[o],i=l.y+n*l.height/100,c+=A+(a-s.grooveLength)+C+i+I+(a+s.offset)+C+i;return c+(d+=A+(a+s.offset)+C+l.y+I+(a+s.offset)+C+(l.y+l.height))},t.getColorGradientV=function(e){return{axis:e.getBoxFill(!0),shadow:(0,f.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},e}(),W=function(){function e(e,t,o){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=o,this.node=s,this.tracker=s,this.currPos=0,this.swing=[]}var t=e.prototype;return t.configure=function(e,t,o){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=o,this.currPos=0,this.swing=[]},t.getType=function(){return"slider"},t.getName=function(){return"Slider"},t.updateSwingRange=function(e,t){this.swing[+e]=t},t.draw=function(e,t,o,n){var r,a,i,l,s,c,u,h=n.parentLayer,g=n.animationManager,p=this.conf,f=p.outerCircle,m=p.innerCircle,b=g.getFromEnv("chart").config,y=Math.ceil(f.rFactor*n.rCalcBase/2),k=Math.ceil(m.rFactor*n.rCalcBase/2),C=y-k,x=n.gLegend.getFromEnv("toolTipController"),w=this.sliderIndex;return p.outerRadius=y,p.innerRadius=k,this._scaleVal=t,m.style["stroke-width"]=C,k+=l=Math.ceil(f.style["stroke-width"]/2),a=this.node=g.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:h,component:d}),"x"===n.key?(s=o,c=e,c+=w?-k:+k):(s=e,c=o,s+=w?-k:+k),this.oCircle=g.setAnimation({el:this.oCircle||"circle",attr:{cx:s,cy:c,r:y},css:f.style,container:a,component:d}),this.iCircle=g.setAnimation({el:this.iCircle||"circle",attr:{cx:s,cy:c,r:k},css:m.style,container:a,component:d}),u=this.tracker=g.setAnimation({el:this.tracker||"circle",attr:{cx:s,cy:c,r:y+5,fill:v,stroke:v,cursor:"pointer"},container:a,component:d}),a.attr({transform:"x"===n.key?"t0,"+this.currPos:"t"+this.currPos+",0"}),r=b.showToolTip?t:"",x.enableToolTip(u,r),this._dragAPI=i=this.getDragAPI("x"===n.key),u.undrag(),u.drag(i.dragging,i.dragStart,i.dragEnd),{translateAscending:y+l}},t.getDragAPI=function(e){var t,o,n,r,a=this,i=a.node,l=a.sliderIndex,s=a.rangeGroup,c=a.conf.innerRadius;return{dragging:function(d){var u,h,g,p,f;return d.stopPropagation(),g=e?d.data[1]:d.data[0],l?(u=t[0]-t[1]+c,h=0):(u=0,h=t[1]-t[0]-c),(f=a.currPos+g)<u?g+=u-f:f>h&&(g-=f-h),i.attr({transform:e?"t0,"+(a.currPos+g):"t"+(a.currPos+g)+",0"}),o=g,n&&clearTimeout(n),n=setTimeout((function(){s.updateWhenInRest(a,a.currPos+g)}),100),p=s.updateWhenInMove(a,a.currPos+g),a.conf.showTooltip&&a.tracker.data("__FC_tooltipText",p),r=!0,!0},dragStart:function(e){e.stopPropagation(),t=a.swing,r=!1,s.dragStarted(a)},dragEnd:function(){var e;s.dragCompleted(a,r,a.currPos+o),r&&(n&&clearTimeout(n),n=setTimeout((function(){s.updateWhenInRest(a,a.currPos)}),100),a.currPos+=o,e=t[+l]+a.currPos,s.updateRange(a,e))}}},t.dispose=function(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()},e}(),H=function(){function e(e){var t=e,o={};this._id="GL_SG1",this.conf=e,o.conf=t,this.extremes=[],this.sliders={},this.min=s,this.max=s,o.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[!1]=new W(y,o,this._id+"_0"),this.sliders[!0]=new W(k,o,this._id+"_1")}var t=e.prototype;return t.configure=function(e){var t=e,o={};this.min=s,this.max=s,this.conf=e,o.conf=t,o.sliderGroup=this,this.sliders[!1].configure(y,o,this._id+"_0"),this.sliders[!0].configure(k,o,this._id+"_1")},t.getType=function(){return"slider"},t.getName=function(){return"SliderGroup"},t.initRange=function(e,t){var o=e.sliderIndex;this.extremes[+o]=t},t.updateRange=function(e,t){var o=e.sliderIndex;this.sliders[!o].updateSwingRange(o,t)},t.reset=function(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=s,this.max=s,this.sliders[!1].configure(y,e,this._id+"_0"),this.sliders[!0].configure(k,e,this._id+"_1"),this.draw.apply(this,this._drawParams)},t.draw=function(e,t,o){var n,r,a,i,l,s,c=this.sliders,d=c[!1],u=c[!0],h=o.colorRange,g=h.colorRange,p=h.data.mapByPercent,f=o.gLegend.getFromEnv("number-formatter");return this._fcChart=o.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,o,n){var r=(t-e)/(n-o);this.getValueFormPixel=function(t){return e+r*t}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(o,n){var r,a,i=this.extremes;return r=o.sliderIndex?i[1]-i[0]+n:n,a=this.getValueFormPixel(r),a=t?parseFloat(a).toFixed(2)+"%":e.legendValue(a)}},this._drawParams=[e,t,o],this.updateWhenInMove(f,p),a=d.conf.outerCircle,r=d.conf.innerCircle,i=Math.ceil(r.rFactor*o.rCalcBase/2),i+=Math.ceil(a.style["stroke-width"]/2),this.extremes[0]=e+i,this.extremes[1]=t-i,l=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:g[0].value,this.max=this.max?this.max:g[g.length-1].value,s=g[g.length-1].value-g[0].value,d.currPos=l*(this.min-g[0].value)/s,u.currPos=l*(this.max-g[0].value)/s-l,d.draw(e,p?f.legendPercentValue(this.min):f.legendValue(this.min),o[o.key],o),n=u.draw(t,p?f.legendPercentValue(this.max):f.legendValue(this.max),o[o.key],o),d.swing=this.extremes.slice(0),u.swing=this.extremes.slice(0),d.swing[1]+=u.currPos,u.swing[0]+=d.currPos,this.getValueFormPixel(g[0].value,g[g.length-1].value,this.extremes[0],this.extremes[1]),n},t.updateWhenInRest=function(e,t){var o,n,r=this.sliders,a=this.extremes,i=e.sliderIndex;i?(o=r[!i].currPos,n=a[1]-a[0]+t):(o=t,n=a[1]-a[0]+r[!i].currPos),this.min=Number(this.getValueFormPixel(o).toFixed(2)),this.max=Number(this.getValueFormPixel(n).toFixed(2)),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])},t.dragStarted=function(e){var t=this.sliders,o=this.extremes,n=e.conf,r=this._fcChart;r.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t.false.currPos)},{value:this.getValueFormPixel(o[1]-o[0]+t.true.currPos)}],legendPointerHeight:n.outerRadius,legendPointerWidth:n.innerRadius,outerRadius:n.outerRadius,innerRadius:n.innerRadius},[r.id])},t.dragCompleted=function(e,t,o){var n,r,a=this.sliders,i=this.extremes,l=e.conf,s=this.getValueFormPixel(a.false.currPos),c=this.getValueFormPixel(i[1]-i[0]+a.true.currPos),d=this._fcChart;e.sliderIndex?(n=s,r=this.getValueFormPixel(i[1]-i[0]+o)):(n=this.getValueFormPixel(o),r=c),t&&d.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:n,maxValue:r},[d.id]),d.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:n},{value:r}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[d.id])},t.dispose=function(){this.sliders[!1].dispose(),this.sliders[!0].dispose()},e}(),U=function(e){function t(){var t;return(t=e.call(this,arguments[0])||this)._id=E,t.node=[],t}(0,p.default)(t,e);var o=t.prototype;return o.configure=function(e){this.conf=e},o.getName=function(){return"LegendValues"},o.getType=function(){return"legend"},o.getLogicalSpace=function(e,t,o){var n,r,a,i,l,c,d,u,h,g,p,f,m,b,v,y,k,C,x,w,S,L,F,T,E,N="bottom"===this.conf.legendPosition,A=this._lSpace,I=this.conf,P=I.padding,M=t.gLegend.getFromEnv("chartConfig"),R=[],B=[];if(A&&!o)return A.isImpure=!0,A;for(n=t.colorRange,r=t.smartLabel,a=n.colorRange,d=n.getCumulativeValueRatio(),E=(A=this._lSpace={bound:{height:0,width:0},node:{logicArea:s,smartTexts:[]}}).node.smartTexts,(w=_(e,{})).height-=2*P.v,w.width-=2*P.h,w.x+=P.h,w.y+=P.v,r.useEllipsesOnOverflow(M.useEllipsesWhenOverflow),T=_(I.style,{}),O(this._metaStyle=T),r.setStyle(T),F=r.getSmartText("W"),c=a.length,N?(p=u=(d[c-1]-d[0])/2*w.width/100,L=a[0].displayValue,(i=r.getSmartText("string"!=typeof L&&L!==s&&L.toString()||L,p,w.height)).x=d[0]*w.width/100,f=i.x+i.width,R.push(i.height)):(p=u=(d[c-1]-d[0])/2*w.height/100,(i=r.getSmartText(a[0].displayValue,w.width,p)).y=d[0]*w.height/100,v=i.y+i.width,B.push(i.width)),E[0]=i,N?((i=r.getSmartText(a[c-1].displayValue,p,w.height)).x=d[c-1]*w.width/100,b=i.x-i.width,R.push(i.height),m=f):((i=r.getSmartText(a[c-1].displayValue,w.width,p)).y=d[c-1]*w.height/100,k=i.y-i.height,B.push(i.width),y=v),E[c-1]=i,l=1;l<c-1;l++)i=s,S=a[l].displayValue,N?(h=l+1===c-1?b:d[l+1]*w.width/100,g=d[l]*w.width/100,(u=Math.min(g-m,h-g))>1.5*F.width&&((i=r.getSmartText(S,2*u,w.height)).x=d[l]*w.width/100,m=u,R.push(i.height))):(h=l+1===c-1?k:d[l+1]*w.height/100,g=d[l]*w.height/100,(u=Math.min(g-y,h-g))>2*F.height&&((i=r.getSmartText(S,w.width,2*u)).y=d[l]*w.height/100,y=u,B.push(i.width))),E[l]=i;return N?(C=Math.max.apply(Math,R),w.height=C,e.height=C+2*P.v):(x=Math.max.apply(Math,B),w.width=x,e.width=x+2*P.h),A.node.logicArea=w,A.bound=e,e},o.draw=function(){var e,t,o,n,r,a,i,l,s,c,u,h,g,p=this.conf,f="bottom"===p.legendPosition,m=p.bound&&p.bound.style||{stroke:"none"},b={};arguments.length>=2&&arguments[1]?(n=arguments[0],i=arguments[1]):arguments.length>=1&&(i=arguments[0]),g=i.animationManager,e=i.parentLayer,l=i.colorRange.getCumulativeValueRatio(),this.getLogicalSpace(n,i),a=(r=this._lSpace).node.logicArea,u=r.node.smartTexts,this.group=o=g.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:d}),this.bound=t=g.setAnimation({el:this.bound||"rect",attr:r.bound,css:m,container:o,component:d});for(var v=0;v<this.node.length;v++)this.node[v].remove();for(this.node=[],s=0,c=l.length;s<c;s++)(h=u[s])&&(f?(b.y=a.y+h.height/2,b.x=s===c-1?a.x+h.x-h.width/2:s?a.x+h.x:a.x+h.x+h.width/2):(b.x=a.x+h.width/2,b.y=s===c-1?a.y+h.y-h.height/2:s?a.y+h.y:a.y+h.y+h.height/2),this.node.push(g.setAnimation({el:"text",attr:{text:h.text,x:b.x,y:b.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill},container:o,component:d})));return{group:o,bound:t}},t}(j);i=R}));
//# sourceMappingURL=maps.c2ebbd65.js.map
